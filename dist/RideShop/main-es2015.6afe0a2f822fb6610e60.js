(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return Iu}),n.d(e,"c",function(){return yu}),n.d(e,"d",function(){return bu}),n.d(e,"e",function(){return vu}),n.d(e,"f",function(){return fc}),n.d(e,"g",function(){return nc}),n.d(e,"h",function(){return ma}),n.d(e,"i",function(){return Du}),n.d(e,"j",function(){return Gs}),n.d(e,"k",function(){return Cu}),n.d(e,"l",function(){return Ys}),n.d(e,"m",function(){return Ir}),n.d(e,"n",function(){return Za}),n.d(e,"o",function(){return no}),n.d(e,"p",function(){return vn}),n.d(e,"q",function(){return an}),n.d(e,"r",function(){return mo}),n.d(e,"s",function(){return da}),n.d(e,"t",function(){return pa}),n.d(e,"u",function(){return Tu}),n.d(e,"v",function(){return Aa}),n.d(e,"w",function(){return ic}),n.d(e,"x",function(){return xa}),n.d(e,"y",function(){return Ju}),n.d(e,"z",function(){return Ru}),n.d(e,"A",function(){return yn}),n.d(e,"B",function(){return Ou}),n.d(e,"C",function(){return _u}),n.d(e,"D",function(){return Zs}),n.d(e,"E",function(){return Js}),n.d(e,"F",function(){return jr}),n.d(e,"G",function(){return ta}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return wn}),n.d(e,"J",function(){return ac}),n.d(e,"K",function(){return Ta}),n.d(e,"L",function(){return Bu}),n.d(e,"M",function(){return cn}),n.d(e,"N",function(){return na}),n.d(e,"O",function(){return ea}),n.d(e,"P",function(){return Ma}),n.d(e,"Q",function(){return U}),n.d(e,"R",function(){return Zu}),n.d(e,"S",function(){return Qn}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Wn}),n.d(e,"V",function(){return lc}),n.d(e,"W",function(){return Wu}),n.d(e,"X",function(){return Eu}),n.d(e,"Y",function(){return io}),n.d(e,"Z",function(){return ks}),n.d(e,"ab",function(){return br}),n.d(e,"bb",function(){return Xn}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return zn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Fn}),n.d(e,"hb",function(){return Kn}),n.d(e,"ib",function(){return xs}),n.d(e,"jb",function(){return cc}),n.d(e,"kb",function(){return As}),n.d(e,"lb",function(){return Ns}),n.d(e,"mb",function(){return Vn}),n.d(e,"nb",function(){return K}),n.d(e,"ob",function(){return xo}),n.d(e,"pb",function(){return Ho}),n.d(e,"qb",function(){return Bo}),n.d(e,"rb",function(){return Ss}),n.d(e,"sb",function(){return xt}),n.d(e,"tb",function(){return v}),n.d(e,"ub",function(){return Rn}),n.d(e,"vb",function(){return _o}),n.d(e,"wb",function(){return It}),n.d(e,"xb",function(){return Ks}),n.d(e,"yb",function(){return ui}),n.d(e,"zb",function(){return ko}),n.d(e,"Ab",function(){return us}),n.d(e,"Bb",function(){return hu}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return at}),n.d(e,"Eb",function(){return I}),n.d(e,"Fb",function(){return E}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return ut}),n.d(e,"Ib",function(){return Ro}),n.d(e,"Jb",function(){return qo}),n.d(e,"Kb",function(){return Fo}),n.d(e,"Lb",function(){return zo}),n.d(e,"Mb",function(){return Ko}),n.d(e,"Nb",function(){return rn}),n.d(e,"Ob",function(){return Es}),n.d(e,"Pb",function(){return Sn}),n.d(e,"Qb",function(){return on}),n.d(e,"Rb",function(){return gu}),n.d(e,"Sb",function(){return Go}),n.d(e,"Tb",function(){return fu}),n.d(e,"Ub",function(){return _e}),n.d(e,"Vb",function(){return we}),n.d(e,"Wb",function(){return $o}),n.d(e,"Xb",function(){return Ya}),n.d(e,"Yb",function(){return Ja}),n.d(e,"Zb",function(){return Uo}),n.d(e,"ac",function(){return Yo}),n.d(e,"bc",function(){return Wa}),n.d(e,"cc",function(){return Qa}),n.d(e,"dc",function(){return lu}),n.d(e,"ec",function(){return Po}),n.d(e,"fc",function(){return Qt}),n.d(e,"gc",function(){return mr}),n.d(e,"hc",function(){return ot}),n.d(e,"ic",function(){return Is}),n.d(e,"jc",function(){return Lo}),n.d(e,"kc",function(){return pu}),n.d(e,"lc",function(){return ms}),n.d(e,"mc",function(){return ws}),n.d(e,"nc",function(){return _s}),n.d(e,"oc",function(){return Os});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const m=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(m)&&t.__forward_ref__===w}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return C(t,S)||C(t,A)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function j(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(N))?t[x]:null}const S=g({\u0275prov:g}),x=g({\u0275inj:g}),A=g({ngInjectableDef:g}),N=g({ngInjectorDef:g});var M=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let k;function D(t){const e=k;return k=t,e}function L(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&M.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function P(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),U=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,z="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,K=V||q||z||F,B={},H=[],G=g({\u0275cmp:g}),W=g({\u0275dir:g}),Q=g({\u0275pipe:g}),$=g({\u0275mod:g}),Y=g({\u0275loc:g}),J=g({\u0275fac:g}),Z=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||H,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||U.Emulated,id:"c",styles:t.styles||H,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||H,declarations:t.declarations||H,imports:t.imports||H,exports:t.exports||H,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{rt[t.id]=t.type}),e}function ot(t,e){return P(()=>{const n=lt(t,!0);n.declarations=e.declarations||H,n.imports=e.imports||H,n.exports=e.exports||H})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(J)?t[J]:null}class yt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function mt(t){return"string"==typeof t?t:null==t?"":String(t)}function wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():mt(t)}function _t(t,e){const n=e?" in "+e:"";throw new yt("201",`No provider for ${wt(t)} found${n}`)}class Ot{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function It(){return Et}function Et(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),Tt}function Tt(){const t=jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ot(u&&u.currentValue,e,s===B),t[r]=e}function jt(t){return t.__ngSimpleChanges__||null}It.ngInherit=!0;let St=void 0;function xt(t){St=t}function At(t){return!!t.listen}const Nt={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function Mt(t){for(;Array.isArray(t);)t=t[0];return t}function kt(t,e){return Mt(e[t])}function Dt(t,e){return Mt(e[t.index])}function Lt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ht(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Vt(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function qt(t){t[18]=0}function Kt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function Gt(){return Bt.lFrame.lView}function Wt(){return Bt.lFrame.tView}function Qt(t){Bt.lFrame.contextLView=t}function $t(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Bt.lFrame.currentTNode}function Jt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Bt.lFrame.isParent}function Xt(){return Bt.isInCheckNoChangesMode}function te(t){Bt.isInCheckNoChangesMode=t}function ee(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ne(){return Bt.lFrame.bindingIndex}function re(){return Bt.lFrame.bindingIndex++}function ie(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Bt.lFrame.currentDirectiveIndex=t}function ae(){return Bt.lFrame.currentQueryIndex}function ue(t){Bt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&M.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&M.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function be(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Bt.lFrame.selectedIndex}function ye(t){Bt.lFrame.selectedIndex=t}function me(){const t=Bt.lFrame;return Lt(t.tView,t.selectedIndex)}function we(){Bt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function _e(){Bt.lFrame.currentNamespace=null}function Oe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ie(t,e,n){Ce(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(je(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function je(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function xe(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ne(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function Ne(t){return 64===t.charCodeAt(0)}function Me(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function De(t){return-1!==t}function Le(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Ue(t){const e=Re;return Re=t,e}let Ve=0;function ze(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ke(t,e),o=t.injectorIndex;if(De(i)){const t=Le(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ke(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Ve++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function He(t,e,n){if(n&M.Optional)return t;_t(e,"NodeInjector")}function Ge(t,e,n,r){if(n&M.Optional&&void 0===r&&(r=null),0==(n&(M.Self|M.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&M.Optional):L(e,r,n&M.Optional)}finally{D(o)}}return He(r,e,n)}function We(t,e,n,r=M.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&M.Host?He(i,n,r):Ge(e,n,r,i);try{const t=o();if(null!=t||r&M.Optional)return t;_t(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=qe(t,e),a=-1,u=r&M.Host?e[16][6]:null;for((-1===s||r&M.SkipSelf)&&(a=-1===s?Ke(t,e):e[s+8],-1!==a&&tn(r,!1)?(i=e[1],s=Le(a),e=Pe(a,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Ye(s,e,n,i,r,u);if(t!==Qe)return t}a=e[s+8],-1!==a&&tn(r,e[1].data[s+8]===u)&&Xe(o,s,e)?(i=t,s=Le(a),e=Pe(a,e)):s=-1}}}return Ge(e,n,r,i)}const Qe={};function $e(){return new en($t(),Gt())}function Ye(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Je(a,s,n,null==r?pt(a)&&Re:r!=s&&0!=(3&a.type),i&M.Host&&o===a);return null!==u?Ze(e,s,u,a):Qe}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&bt(t)&&t.type===n)return u}return null}function Ze(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new yt("200","Circular dependency in DI detected for "+t)}(wt(o[n]));const a=Ue(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?D(s.injectImpl):null;le(t,r,M.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Et(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&D(u),Ue(a),s.resolving=!1,ge()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function tn(t,e){return!(t&M.Self||t&M.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return We(this._tNode,this._lView,t,void 0,e)}}function nn(t){const e=t;if(O(t))return()=>{const t=nn(_(e));return t?t():null};let n=vt(e);if(null===n){const t=j(e);n=t&&t.factory}return n||null}function rn(t){return P(()=>{const e=t.prototype.constructor,n=e[J]||nn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||nn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}function sn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class an{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=I({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const un=new an("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const vn=sn("Inject",t=>({token:t})),yn=sn("Optional"),mn=sn("Self"),wn=sn("SkipSelf"),_n={},On=/\n/gm,In=g({provide:String,useValue:g});let En,Tn=void 0;function Cn(t){const e=Tn;return Tn=t,e}function jn(t,e=M.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?L(t,void 0,e):Tn.get(t,e&M.Optional?null:void 0,e)}function Sn(t,e=M.Default){return(k||jn)(_(t),e)}function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=M.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof yn||"Optional"===i.ngMetadataName||i===yn?n|=M.Optional:i instanceof wn||"SkipSelf"===i.ngMetadataName||i===wn?n|=M.SkipSelf:i instanceof mn||"Self"===i.ngMetadataName||i===mn?n|=M.Self:t=i instanceof vn||i===vn?i.token:i}e.push(Sn(t,n))}else e.push(Sn(r))}return e}function An(t){var e;return(null===(e=function(){if(void 0===En&&(En=null,K.trustedTypes))try{En=K.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return En}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Mn extends Nn{getTypeName(){return"HTML"}}class kn extends Nn{getTypeName(){return"Style"}}class Dn extends Nn{getTypeName(){return"Script"}}class Ln extends Nn{getTypeName(){return"URL"}}class Pn extends Nn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Nn&&t.getTypeName()||null}function zn(t){return new Mn(t)}function Fn(t){return new kn(t)}function qn(t){return new Dn(t)}function Kn(t){return new Ln(t)}function Bn(t){return new Pn(t)}let Hn=!0,Gn=!1;function Wn(){return Gn=!0,Hn}function Qn(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");Hn=!1}class $n{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Jn)||t.match(Zn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see https://g.co/ng/security#xss)`),"unsafe:"+t)}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ar=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=tr("srcset"),cr=er(ar,ur,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ar[o]&&(s=Xn(s)),ur[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function br(t,e){let n=null;try{gr=gr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new $n:new Yn(t)}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);const s=new hr,a=s.sanitizeChildren(vr(n)||n);return Wn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function mr(t){const e=function(){const t=Gt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Un(t,"URL")?Rn(t):Xn(mt(t))}function wr(t){return t.ngDebugContext}function _r(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?wr(t)?wr(t):this._findContext(_r(t)):null}_findOriginalError(t){let e=_r(t);for(;e&&_r(e);)e=_r(e);return e}}function Er(t,e){t.__ngContext__=e}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(K))();function Cr(t){return t instanceof Function?t():t}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Sr(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return ft(e)?e[3]:e}function Ar(t){return Mr(t[13])}function Nr(t){return Mr(t[4])}function Mr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=Mt(r);0===t&&null!==n?null==i?zr(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Mt(n)&&kr(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Wr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Lr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function Pr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Lr(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,10+e);Wr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Rr(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Wr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Mt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Lr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Vr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):zr(t,e,n)}function qr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Kr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===U.None||e===U.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Dt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(o,i,n[a],s,!1);else Fr(o,i,n,s,!1)}function Br(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Br(t,n);{const n=t[e.index];return ft(n)?Hr(-1,n):Mt(n)}}if(32&n)return Sr(e,t)()||Mt(t[e.index]);{const n=t[16],r=n[6],i=xr(n),o=r.projection[e.projection];return null!=o?Br(i,o):Br(t,e.next)}}return null}function Hr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Br(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(Mt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Gr(t,e,n.child,r,i,o,!1),kr(e,t,i,a,o);else if(32&u){const s=Sr(n,r);let u;for(;u=s();)kr(e,t,i,u,o);kr(e,t,i,a,o)}else 16&u?Qr(t,e,r,n,i,o):kr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Qr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)kr(e,t,i,a[u],o);else Gr(t,e,a,s[3],i,o,!0)}function $r(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Jr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Jr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&"ng-template"!==t.value}function ti(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ei(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ti(t,u,n)||""===u&&1===e.length){if(ni(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Zr(t.attrs,c,n)){if(ni(r))return!1;s=!0}continue}const l=ri(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ni(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Jr(e,c,0)||2&r&&c!==t){if(ni(r))return!1;s=!0}}}}else{if(!s&&!ni(r)&&!ni(u))return!1;if(s&&ni(u))continue;s=!1,r=u|1&r}}return ni(r)||s}function ni(t){return 0==(1&t)}function ri(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ii(t,e,n=!1){for(let r=0;r<e.length;r++)if(ei(t,e[r],n))return!0;return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ni(s)||(e+=oi(o,i),i=""),r=s,o=o||!ni(r);n++}return""!==i&&(e+=oi(o,i)),e}const ai={};function ui(t){ci(Wt(),Gt(),ve()+t,Xt())}function ci(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ie(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}ye(n)}function li(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function fi(t){return 2|t}function di(t){return(131068&t)>>2}function pi(t,e){return-131069&t|e<<2}function gi(t){return 1|t}function bi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ue(i),n.contentQueries(2,e[o],o)}}}function vi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,qt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function yi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Jt(o,!0),o}function mi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function wi(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function _i(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Xt();try{qt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ie(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Te(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Kt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=Nr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&_i(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&bi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ie(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&$i(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ie(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{be()}}function Oi(t,e,n,r){const i=e[10],o=!Xt(),s=Vt(e);try{o&&!s&&i.begin&&i.begin(),s&&wi(t,e,r),_i(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ii(t,e,n,r,i){const o=ve();try{ye(-1),2&r&&e.length>20&&ci(t,e,20,Xt()),n(r,i)}finally{ye(o)}}function Ei(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ze(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=bt(r);o&&Ui(e,n,r);const u=Ze(e,t,a,n);Er(u,e),null!==s&&Vi(0,a-i,u,r,0,s),o&&(Rt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ki(r,i)}}finally{ye(-1),se(s)}}(t,e,n))}function Ti(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ji(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ji(t,e,n,r,i,o,s,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=Ji(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ai(t,e,n,r,i,o,s,a){const u=Dt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Xi(t,n,c,r,i),pt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Ne(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ni(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ii(n,s.selectors,!1)&&(i||(i=[]),Be(ze(n,e),t,s.type),bt(s)?(Di(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=mi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Me(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,u,c),Li(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:zi(n,i);o.push(c),s=xi(n,u,s),a=xi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new yt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Me(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ki(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Di(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Se(o,bt(i),null);t.blueprint[r]=s,n[r]=s,Mi(t,e,0,r,mi(t,n,i.hostVars,ai),i)}function Ui(t,e,n){const r=Dt(e,t),i=Ci(n),o=t[10],s=Hi(t,vi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Vi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Fi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function qi(t,e){const n=Rt(e,t);if(zt(n)){const t=n[1];80&n[2]?_i(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Ar(t);null!==n;n=Nr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];_i(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);zt(r)&&r[5]>0&&Ki(r)}}function Bi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),wi(r,n,n[8])}function Hi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Gi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Wi(t,e,n){const r=e[10];r.begin&&r.begin();try{_i(t,e,t.template,n)}catch(i){throw Zi(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];Oi(i,r,i.template,n)}}(t[8])}function $i(t,e,n){ue(0),e(t,n)}const Yi=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function Zi(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function Xi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function to(t,e,n){const r=kt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function eo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const no=new an("INJECTOR",-1);class ro{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const io=new an("Set Injector scope."),oo={},so={},ao=[];let uo=void 0;function co(){return void 0===uo&&(uo=new ro),uo}function lo(t,e=null,n=null,r){return new ho(t,n,e||co(),r)}class ho{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(no,go(void 0,this));const o=this.records.get(io);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=M.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&M.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&T(t);e=n&&this.injectableDefInScope(n)?go(fo(t),oo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&M.Self?co():this.parent).get(t,e=n&M.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=j(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=j(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||ao))}}this.injectorDefTypes.add(o),this.records.set(o,go(r.factory,oo));const a=r.providers;if(null!=a&&!s){const e=t;hn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return bo(t)?go(void 0,t.useValue):go(po(t),oo)}(t);if(vo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=go(void 0,oo,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fo(t){const e=T(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=j(t);if(null!==r)return r.factory;if(t instanceof an)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function po(t,e,n){let r=void 0;if(vo(t)){const e=_(t);return vt(e)||fo(e)}if(bo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Sn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||fo(e);r=()=>new e(...xn(t.deps))}var i;return r}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&In in t}function vo(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=lo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new ro,t.\u0275prov=I({token:t,providedIn:"any",factory:()=>Sn(no)}),t.__NG_ELEMENT_ID__=-1,t})();function wo(t,e){Oe(Ut(t)[1],$t())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Oo(t.inputs),e.declaredInputs=Oo(t.declaredInputs),e.outputs=Oo(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Io(t,o),s&&Eo(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Me(i.hostAttrs,n=Me(n,i.hostAttrs))}}(r)}function Oo(t){return t===B?{}:t===H?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Co=null;function jo(){if(!Co){const t=K.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}class So{constructor(t){this.wrapped=t}static wrap(t){return new So(t)}static unwrap(t){return So.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof So}}function xo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&jo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return t[e]=n}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=Gt();return Mo(i,re(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?mt(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(me(),i,t,e,n,r)),ko}function Do(t,e,n,r){return Mo(t,re(),n)?e+mt(n)+r:ai}function Lo(t,e,n,r,i,o,s,a){const u=Gt(),c=Wt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=yi(e,t,4,s||null,Ft(c,a));Ni(e,n,l,Ft(c,u)),Oe(e,l);const h=l.tViews=ji(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Jt(h,!1);const f=u[11].createComment("");Kr(c,u,f,h),Er(f,u),Hi(u,u[l]=Fi(f,u,f,h)),gt(h)&&Ei(c,u,h),null!=s&&Ti(u,h,a)}function Po(t){return Pt(Bt.lFrame.contextLView,20+t)}function Ro(t,e=M.Default){const n=Gt();return null===n?Sn(t,e):We($t(),n,_(t),e)}function Uo(t,e,n){const r=Gt();return Mo(r,re(),e)&&Ai(Wt(),me(),r,t,e,r[11],n,!1),Uo}function Vo(t,e,n,r,i){const o=i?"class":"style";Xi(t,n,e.inputs[o],o,r)}function zo(t,e,n,r){const i=Gt(),o=Wt(),s=20+t,a=i[11],u=i[s]=Dr(a,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=yi(e,t,2,i,Ft(a,o));return Ni(e,n,u,Ft(a,s)),null!==u.attrs&&eo(u,u.attrs,!1),null!==u.mergedAttrs&&eo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Jt(c,!0);const l=c.mergedAttrs;null!==l&&xe(a,u,l);const h=c.classes;null!==h&&Yr(a,u,h);const f=c.styles;null!==f&&$r(a,u,f),64!=(64&c.flags)&&Kr(o,i,u,c),0===Bt.lFrame.elementDepthCount&&Er(u,i),Bt.lFrame.elementDepthCount++,gt(c)&&(Ei(o,i,c),function(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ti(i,c)}function Fo(){let t=$t();Zt()?Bt.lFrame.isParent=!1:(t=t.parent,Jt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(Oe(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Vo(n,e,Gt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Vo(n,e,Gt(),e.stylesWithoutHost,!1)}function qo(t,e,n,r){zo(t,e,n,r),Fo()}function Ko(){return Gt()}function Bo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}function Go(t,e,n=!1,r){const i=Gt(),o=Wt(),s=$t();return function(t,e,n,r,i,o,s=!1,a){const u=gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ji(e);let h=!0;if(3&r.type){const f=Dt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,b=a?t=>a(Mt(t[r.index])).target:r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Qo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=Qo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=Qo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Go}function Wo(t,e,n){try{return!1!==e(n)}catch(r){return Zi(t,r),!1}}function Qo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Gi(s);let a=Wo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Wo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function $o(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Yo(t,e,n){return Jo(t,"",e,"",n),Yo}function Jo(t,e,n,r,i){const o=Gt(),s=Do(o,e,n,r);return s!==ai&&Ai(Wt(),me(),o,t,s,o[11],i,!1),Jo}const Zo=[];function Xo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?hi(o):di(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ts(t[a],e)&&(u=!0,t[a+1]=r?gi(n):fi(n)),a=r?hi(n):di(n)}u&&(t[n+1]=r?fi(o):gi(o))}function ts(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ns(t){return t.substring(es.key,es.keyEnd)}function rs(t){return t.substring(es.value,es.valueEnd)}function is(t,e){const n=es.textEnd;let r=es.key=os(t,e,n);return n===r?-1:(r=es.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ss(t,r,n),r=es.value=os(t,r,n),r=es.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=as(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=as(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),ss(t,r,n))}function os(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ss(t,e,n,r){return(e=os(t,e,n))<n&&e++,e}function as(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function us(t,e){return function(t,e,n,r){const i=Gt(),o=Wt(),s=ie(2);o.firstUpdatePass&&hs(o,t,s,true),e!==ai&&Mo(i,s,e)&&gs(o,o.data[ve()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=v(Rn(t))),t}(e),true,s)}(t,e),us}function cs(t,e){for(let n=function(t){return function(t){es.key=0,es.keyEnd=0,es.value=0,es.valueEnd=0,es.textEnd=t.length}(t),is(t,os(t,0,es.textEnd))}(e);n>=0;n=is(e,n))ps(t,ns(e),rs(e))}function ls(t,e){return e>=t.expandoStartIndex}function hs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ve()],s=ls(t,n);ys(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ds(n=fs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=fs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==di(r))return t[hi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=fs(null,t,e,n[1],r),n=ds(n,e.attrs,r),function(t,e,n,r){t[hi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ds(r,t[o].hostAttrs,n);return ds(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),u=di(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=hi(t[a+1]);t[r+1]=li(e,a),0!==e&&(t[e+1]=pi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=li(a,0),0!==a&&(t[a+1]=pi(t[a+1],r)),a=r;else t[r+1]=li(u,0),0===a?a=r:t[u+1]=pi(t[u+1],r),u=r;l&&(t[r+1]=fi(t[r+1])),Xo(t,c,r,!0),Xo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=gi(n[r+1]))}(e,c,t,r,o),s=li(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function fs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ds(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ds(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ps(t,e,n){pn(t,e,Rn(n))}function gs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];vs(1==(1&c)?bs(u,e,n,i,di(c),s):void 0)||(vs(o)||2==(2&c)&&(o=bs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:jr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=jr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,kt(ve(),n),i,o))}function bs(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ai&&(l=c?Zo:void 0);let h=c?gn(l,r):u===r?l:void 0;if(o&&!vs(h)&&(h=gn(e,r)),vs(h)&&(a=h,s))return a;const f=t[i+1];i=s?hi(f):di(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=gn(t,r))}return a}function vs(t){return void 0!==t}function ys(t,e){return 0!=(t.flags&(e?16:32))}function ms(t,e=""){const n=Gt(),r=Wt(),i=t+20,o=r.firstCreatePass?yi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Kr(r,n,s,o),Jt(o,!1)}function ws(t){return _s("",t,""),ws}function _s(t,e,n){const r=Gt(),i=Do(r,t,e,n);return i!==ai&&to(r,ve(),i),_s}function Os(t,e,n,r,i){const o=Gt(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=Mo(t,e,n);return Mo(t,e+1,r)||i}(t,ne(),n,i);return ie(2),s?e+mt(n)+r+mt(i)+o:ai}(o,t,e,n,r,i);return s!==ai&&to(o,ve(),s),Os}function Is(t,e,n){(function(t,e,n,r){const i=Wt(),o=ie(2);i.firstUpdatePass&&hs(i,null,o,!1);const s=Gt();if(n!==ai&&Mo(s,o,n)){const r=i.data[ve()];if(ys(r,!1)&&!ls(i,o)){let t=r.stylesWithoutHost;null!==t&&(n=y(t,n||"")),Vo(i,r,s,n,!1)}else!function(t,e,n,r,i,o,s,a){i===ai&&(i=Zo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const s=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,s!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&gs(t,e,n,r,d,p,!1,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,r,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Zo;const r=[],i=Rn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}})(ps,cs,Do(Gt(),t,e,n))}function Es(t,e,n){const r=Gt();return Mo(r,re(),e)&&Ai(Wt(),me(),r,t,e,r[11],n,!0),Es}const Ts=void 0;var Cs=["en",[["a","p"],["AM","PM"],Ts],[["AM","PM"],Ts,Ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ts,"{1} 'at' {0}",Ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let js={};function Ss(t,e,n){"string"!=typeof e&&(n=e,e=t[ks.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),js[e]=t,n&&(js[e][ks.ExtraData]=n)}function xs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ms(e);if(n)return n;const r=e.split("-")[0];if(n=Ms(r),n)return n;if("en"===r)return Cs;throw new Error(`Missing locale data for the locale "${t}".`)}function As(t){return xs(t)[ks.CurrencyCode]||null}function Ns(t){return xs(t)[ks.PluralCase]}function Ms(t){return t in js||(js[t]=K.ng&&K.ng.common&&K.ng.common.locales&&K.ng.common.locales[t]),js[t]}var ks=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Ds="en-US";function Ls(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ds=t.toLowerCase().replace(/_/g,"-"))}function Ps(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ps(t[o],e,n,r,i);else{const o=Wt(),s=Gt();let a=vo(t)?t:_(t.provide),u=po(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(vo(t)||!t.multi){const r=new Se(u,i,Ro),d=Vs(a,e,i?l:l+f,h);-1===d?(Be(ze(c,s),o,a),Rs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Vs(a,e,l+f,h),p=Vs(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){Be(ze(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,Ro);return o.multi=[],o.index=e,o.componentProviders=0,Us(o,i,r&&!n),o}(i?Fs:zs,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),Rs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Rs(o,t,d>-1?d:p,Us(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function Rs(t,e,n,r){const i=vo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Us(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function zs(t,e,n,r){return qs(this.multi,[])}function Fs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ze(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),qs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],qs(i,o);return o}function qs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ks(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=bt(t);Ps(n,r.data,r.blueprint,i,!0),Ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Bs{}class Hs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Gs=(()=>{class t{}return t.NULL=new Hs,t})();function Ws(...t){}function Qs(t,e){return new Ys(Dt(t,e))}const $s=function(){return Qs($t(),Gt())};let Ys=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$s,t})();class Js{}let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xs(),t})();const Xs=function(){const t=Gt(),e=Rt($t().index,t);return function(t){return t[11]}(ht(e)?e:t)};let ta=(()=>{class t{}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>null}),t})();class ea{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const na=new ea("11.0.3");class ra{constructor(){}supports(t){return xo(t)}create(t){return new oa(t)}}const ia=(t,e)=>e;class oa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ia}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ca(n,r,i)?e:n,s=ca(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[jo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ua),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ua{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class la{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new ha}}class ha{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new wn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>new t([new ra])}),t})(),pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new wn,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=I({token:t,providedIn:"root",factory:()=>new t([new la])}),t})();function ga(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Mt(o)),ft(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ga(e[1],e,n,r)}const s=n.type;if(8&s)ga(t,e,n.child,r);else if(32&s){const t=Sr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=xr(t);ga(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ba{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ga(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Rr(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Gi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){te(!0);try{Wi(t,e,n)}finally{te(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Wr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class va extends ba{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){te(!0);try{Qi(t)}finally{te(!1)}}(this._view)}get context(){return null}}const ya=wa;let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t.__ChangeDetectorRef__=!0,t})();function wa(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Rt(t.index,e);return new ba(n,n)}return 47&t.type?new ba(e[16],e):null}($t(),Gt(),t)}const _a=[new la],Oa=new da([new ra]),Ia=new pa(_a),Ea=function(){return Sa($t(),Gt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t})();const Ca=Ta,ja=class extends Ca{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),wi(e,n,t),new ba(n)}};function Sa(t,e){return 4&t.type?new ja(e,t,Qs(t,e)):null}class xa{}class Aa{}const Na=function(){return Ra($t(),Gt())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const ka=Ma,Da=class extends ka{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ke(this._hostTNode,this._hostLView);if(De(t)){const e=Pe(t,this._hostLView),n=Le(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=La(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(xa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Da(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],fn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Wr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(this),fn(Pa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=La(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);n&&(dn(Pa(this._lContainer),e),Rr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);return n&&null!=dn(Pa(this._lContainer),e)?new ba(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function La(t){return t[8]}function Pa(t){return t[8]||(t[8]=[])}function Ra(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Mt(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Vr(n,qr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Fi(r,e,i,t),Hi(e,n)}return new Da(n,t,e)}const Ua={};class Va extends Gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new qa(e,this.ngModule)}}function za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Fa=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class qa extends Bs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return za(this.componentDef.inputs)}get outputs(){return za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ua,i);return o!==Ua||r===Ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Js,Nt),s=i.get(ta,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===U.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:Yi,playerHandler:null,flags:0},f=ji(0,null,null,1,0,null,null,null,null,null),d=vi(null,f,h,l,null,null,o,a,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=yi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(eo(a,u,!0),null!==t&&(xe(i,t,u),null!==a.classes&&Yr(i,t,a.classes),null!==a.styles&&$r(i,t,a.styles)));const c=r.createRenderer(t,e),l=vi(n,Ci(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Be(ze(a,n),s,e.type),Di(s,a),Pi(a,n.length,1)),Hi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)xe(a,c,["ng-version",na.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ni(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&xe(a,c,t),e&&e.length>0&&Yr(a,c,e.join(" "))}if(g=Lt(f,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,mi(t,e,1,null),n));const i=Ze(e,t,r.directiveStart,r);Er(i,e);const o=Dt(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=$t();e.contentQueries(1,s,t.directiveStart)}const a=$t();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),ki(e,s)),s}(t,this.componentDef,d,h,[wo]),wi(f,d,null)}finally{be()}return new Ka(this.componentType,p,Qs(g,d),d,g)}}class Ka extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new va(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ba=new Map;class Ha extends xa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Va(this);const n=lt(t),r=t[Y]||null;r&&Ls(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=lo(t,e,[{provide:xa,useValue:this},{provide:Gs,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=M.Default){return t===mo||t===xa||t===no?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ga extends Aa{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,Ba.get(i),n),Ba.set(i,n));const o=Cr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ha(this.moduleType,t)}}function Wa(t,e,n){const r=ee()+t,i=Gt();return i[r]===ai?No(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Qa(t,e,n,r){return $a(Gt(),ee(),t,e,n,r)}function $a(t,e,n,r,i,o){const s=e+n;return Mo(t,s,i)?No(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===ai?void 0:n}(t,s+1)}function Ya(t,e){const n=Wt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new yt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=D(Ro);try{const t=Ue(!1),e=o();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Gt(),i,e),e}finally{D(s)}}function Ja(t,e,n){const r=t+20,i=Gt(),o=Pt(i,r);return function(t,e){return So.isWrapped(e)&&(e=So.unwrap(e),t[ne()]=ai),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?$a(i,ee(),e,o.transform,n,o):o.transform(n))}const Za=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Xa(){return this._results[jo()]()}class tu{constructor(){this.dirty=!0,this._results=[],this.changes=new Za,this.length=0;const t=jo(),e=tu.prototype;e[t]||(e[t]=Xa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=ln(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class eu{constructor(t){this.queryList=t,this.matches=null}clone(){return new eu(this.queryList)}setDirty(){this.queryList.setDirty()}}class nu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new nu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==du(t,e).matches&&this.queries[e].setDirty()}}class ru{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class iu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new iu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ou{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ou(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ys||r===Ma||r===Ta&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function au(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Qs(t,e):4&t.type?Sa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ys?Qs(e,t):n===Ta?Sa(e,t):n===Ma?Ra(e,t):void 0}(t,e,r):Ze(t,t[1],n,e)}function uu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:au(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function cu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=uu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&cu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];cu(n[1],n,i,r)}}}}}return r}function lu(t){const e=Gt(),n=Wt(),r=ae();ue(r+1);const i=du(n,r);if(t.dirty&&Vt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?cu(n,e,r,[]):uu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function hu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new iu),t.queries.track(new ou(e,n))}(t,new ru(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new tu;Si(t,e,n,n.destroy),null===e[19]&&(e[19]=new nu),e[19].queries.push(new eu(n))}(t,e)}(Wt(),Gt(),e,n,r,0,$t(),t)}function fu(){return t=Gt(),e=ae(),t[19].queries[e].queryList;var t,e}function du(t,e){return t.queries.getByIndex(e)}function pu(t,e){return Sa(t,e)}function gu(t=M.Default){const e=wa(!0);if(null!=e||t&M.Optional)return e;_t("ChangeDetectorRef")}const bu=new an("Application Initializer");let vu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ws,this.reject=Ws,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Bo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Sn(bu,8))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const yu=new an("AppId"),mu={provide:yu,useFactory:function(){return`${wu()}${wu()}${wu()}`},deps:[]};function wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _u=new an("Platform Initializer"),Ou=new an("Platform ID"),Iu=new an("appBootstrapListener");let Eu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const Tu=new an("LocaleId"),Cu=new an("DefaultCurrencyCode");class ju{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Su=function(t){return new Ga(t)},xu=Su,Au=function(t){return Promise.resolve(Su(t))},Nu=function(t){const e=Su(t),n=Cr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new qa(n)),t},[]);return new ju(e,n)},Mu=Nu,ku=function(t){return Promise.resolve(Nu(t))};let Du=(()=>{class t{constructor(){this.compileModuleSync=xu,this.compileModuleAsync=Au,this.compileModuleAndAllComponentsSync=Mu,this.compileModuleAndAllComponentsAsync=ku}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();const Lu=(()=>Promise.resolve(0))();function Pu(t){"undefined"==typeof Zone?Lu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ru{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=K.requestAnimationFrame,e=K.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(K,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zu(t),Vu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Fu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),qu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Fu(t),e.invoke(r,i,o,s,a)}finally{qu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,zu(t),Vu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Uu,Ws,Ws);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Uu={};function Vu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Fu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,Vu(t)}class Ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Bu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),Pu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ru))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})(),Hu=(()=>{class t{constructor(){this._applications=new Map,$u.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return $u.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();class Gu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wu(t){$u=t}let Qu,$u=new Gu;const Yu=new an("AllowMultipleToken");class Ju{constructor(t,e){this.name=t,this.token=e}}function Zu(t,e,n=[]){const r="Platform: "+e,i=new an(r);return(e=[])=>{let o=Xu();if(!o||o.injector.get(Yu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:io,useValue:"platform"});!function(t){if(Qu&&!Qu.destroyed&&!Qu.injector.get(Yu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qu=t.get(tc);const e=t.get(_u,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=Xu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Xu(){return Qu&&!Qu.destroyed?Qu:null}let tc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ku:("zone.js"===t?void 0:t)||new Ru({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ru,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>rc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Bo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(vu);return t.runInitializers(),t.donePromise.then(()=>(Ls(i.injector.get(Tu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ec({},e);return function(t,e,n){const r=new Ga(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(nc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Sn(mo))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function ec(t,e){return Array.isArray(e)?e.reduce(ec,t):Object.assign(Object.assign({},t),e)}let nc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),Pu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Bs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(xa),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Bu,null);return o&&i.injector.get(Hu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;rc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Iu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),rc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Sn(Ru),Sn(Eu),Sn(mo),Sn(Ir),Sn(Gs),Sn(vu))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function rc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ic{}class oc{}const sc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ac=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||sc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>uc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>uc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Sn(Du),Sn(oc,8))},t.\u0275prov=I({token:t,factory:t.\u0275fac}),t})();function uc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const cc=function(t){return null},lc=Zu(null,"core",[{provide:Ou,useValue:"unknown"},{provide:tc,deps:[mo]},{provide:Hu,deps:[]},{provide:Eu,deps:[]}]),hc=[{provide:nc,useClass:nc,deps:[Ru,Eu,mo,Ir,Gs,vu]},{provide:Fa,deps:[Ru],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:vu,useClass:vu,deps:[[new yn,bu]]},{provide:Du,useClass:Du,deps:[]},mu,{provide:da,useFactory:function(){return Oa},deps:[]},{provide:pa,useFactory:function(){return Ia},deps:[]},{provide:Tu,useFactory:function(t){return Ls(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new vn(Tu),new yn,new wn]]},{provide:Cu,useValue:"USD"}];let fc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=E({factory:function(e){return new(e||t)(Sn(nc))},providers:hc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function y(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),m=new u.q("angularfire2.app.nameOrConfig"),w=new u.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:_,deps:[y,u.z,[new u.A,m]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:m,useValue:n}]}}}return t.\u0275mod=u.Gb({type:t}),t.\u0275inj=u.Fb({factory:function(e){return new(e||t)(u.Pb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(b){u={error:b}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var y=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(y),e.a=y},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAw4DDKQtP4e8cR0yGgjBaJgf7J69KbmEA",authDomain:"rideshop-d4463.firebaseapp.com",databaseURL:"https://rideshop-d4463-default-rtdb.firebaseio.com",projectId:"rideshop-d4463",storageBucket:"rideshop-d4463.appspot.com",messagingSenderId:"319290134734",appId:"1:319290134734:web:41aab0e91cd616579bc09f",measurementId:"G-R1VHRBE6QZ"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Pb)(a).location;return new w(Object(r.Pb)(u),e&&e.origin||"")}const m=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u),r.Pb(m,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:I,token:t,providedIn:"root"}),t})();function I(){return new O(Object(r.Pb)(v),Object(r.Pb)(u))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.lb;class j{}let S=(()=>{class t extends j{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new k,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class k{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}class L{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class P{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const R=new P,U=new L;let V=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return R;if(Object(r.pb)(e))return U;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Rb())},t.\u0275pipe=r.Hb({name:"async",type:t,pure:!1}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:j,useClass:S}]}),t})();function F(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new K(Object(r.Pb)(a),window,Object(r.Pb)(r.m))}),t})();class K{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=B(this.window.history)||B(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function B(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=W||(W=document.querySelector("base"),W)?W.getAttribute("href"):null;return null==e?null:(n=e,G||(G=document.createElement("a")),G.setAttribute("href",n),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname);var n}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let G,W=null;const Q=new r.q("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Q,a,r.r],multi:!0}];class Y{static init(){Object(r.W)(new Y)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const J=new r.q("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class X{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function ot(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Z),r.Pb(et),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ot(n)):this.eventManager.addEventListener(t,e,ot(n))}}class ut extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends X{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gt=(()=>{class t extends X{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const bt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){H.makeCurrent(),Y.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],vt=Object(r.R)(r.V,"browser",bt),yt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:J,useClass:lt,multi:!0,deps:[a,r.z,r.B]},{provide:J,useClass:gt,multi:!0,deps:[a]},[],{provide:st,useClass:st,deps:[Z,et,r.c]},{provide:r.E,useExisting:st},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Z,useClass:Z,deps:[J,r.z]},[]];let mt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Q,useExisting:r.c},$]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:yt,imports:[z,r.f]}),t})();"undefined"!=typeof window&&window;var wt=n("LRne"),_t=n("Cfvw"),Ot=n("XNiG"),It=n("9ppp");class Et extends Ot.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new It.a;return this._value}next(t){super.next(this._value=t)}}var Tt=n("z+Ro"),Ct=n("DH7j"),jt=n("7o/Q");class St extends jt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xt extends jt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var At=n("SeVD"),Nt=n("HDdC");function Mt(t,e,n,r,i=new xt(t,n,r)){if(!i.closed)return e instanceof Nt.a?e.subscribe(i):Object(At.a)(e)(i)}var kt=n("yCtX");const Dt={};class Lt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Pt(t,this.resultSelector))}}class Pt extends St{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Dt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Mt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Dt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Rt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("EY2u");function Vt(t){return new Nt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(_t.a)(n):Object(Ut.b)()).subscribe(e)})}var zt=n("lJxs"),Ft=n("bHdf");function qt(){return Object(Ft.a)(1)}function Kt(t,e){return function(n){return n.lift(new Bt(t,e))}}class Bt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ht(t,this.predicate,this.thisArg))}}class Ht extends jt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wt(t){return function(e){return 0===t?Object(Ut.b)():e.lift(new Qt(t))}}class Qt{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new $t(t,this.total))}}class $t extends jt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Yt(t=Xt){return e=>e.lift(new Jt(t))}class Jt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Zt(t,this.errorFactory))}}class Zt extends jt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Xt(){return new Rt}function te(t=null){return e=>e.lift(new ee(t))}class ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ne(t,this.defaultValue))}}class ne extends jt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var re=n("SpAZ"),ie=n("zx2A");function oe(t,e){return"function"==typeof e?n=>n.pipe(oe((n,r)=>Object(_t.a)(t(n,r)).pipe(Object(zt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new se(t))}class se{constructor(t){this.project=t}call(t,e){return e.subscribe(new ae(t,this.project))}}class ae extends ie.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ie.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ie.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ue(t){return e=>0===t?Object(Ut.b)():e.lift(new ce(t))}class ce{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new le(t,this.total))}}class le extends jt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function he(...t){return qt()(Object(wt.a)(...t))}function fe(...t){const e=t[t.length-1];return Object(Tt.a)(e)?(t.pop(),n=>he(t,n,e)):e=>he(t,e)}function de(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pe(t,e,n))}}class pe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ge(t,this.accumulator,this.seed,this.hasSeed))}}class ge extends jt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function be(t){return function(e){const n=new ve(t),r=e.lift(n);return n.caught=r}}class ve{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ye(t,this.selector,this.caught))}}class ye extends ie.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ie.a(this);this.add(r);const i=Object(ie.c)(n,r);i!==r&&this.add(i)}}}var me=n("5+tZ");function we(t,e){return Object(me.a)(t,e,1)}function _e(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):re.a,ue(1),n?te(e):Yt(()=>new Rt))}var Oe=n("vkgz"),Ie=n("quSY");class Ee{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Te(t,this.callback))}}class Te extends jt.a{constructor(t,e){super(t),this.add(new Ie.a(e))}}class Ce{constructor(t,e){this.id=t,this.url=e}}class je extends Ce{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Se extends Ce{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xe extends Ce{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ae extends Ce{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ne extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Ce{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class De extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends Ce{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Re{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ke{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Be(t){return new Ke(t)}function He(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ge(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function We(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function $e(t){return Array.prototype.concat.apply([],t)}function Ye(t){return t.length>0?t[t.length-1]:null}function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ze(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(_t.a)(Promise.resolve(t)):Object(wt.a)(t)}function Xe(t,e,n){return n?function(t,e){return We(t,e)}(t.queryParams,e.queryParams)&&tn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&en(t.root,e.root)}function tn(t,e){if(!an(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!tn(t.children[n],e.children[n]))return!1}return!0}function en(t,e){return nn(t,e,e.segments)}function nn(t,e,n){if(t.segments.length>n.length)return!!an(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!an(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!en(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!an(t.segments,r)&&!!t.children.primary&&nn(t.children.primary,e,i)}}class rn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return hn.serialize(this)}}class on{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Je(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class sn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return mn(this)}}function an(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function un(t,e){let n=[];return Je(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Je(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class cn{}class ln{parse(t){const e=new En(t);return new rn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+dn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gn(e)}=${gn(t)}`).join("&"):`${gn(e)}=${gn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const hn=new ln;function fn(t){return t.segments.map(t=>mn(t)).join("/")}function dn(t,e){if(!t.hasChildren())return fn(t);if(e){const e=t.children.primary?dn(t.children.primary,!1):"",n=[];return Je(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${dn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=un(t,(e,n)=>"primary"===n?[dn(t.children.primary,!1)]:[`${n}:${dn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${fn(t)}/${e[0]}`:`${fn(t)}/(${e.join("//")})`}}function pn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(t){return pn(t).replace(/%3B/gi,";")}function bn(t){return pn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function yn(t){return vn(t.replace(/\+/g,"%20"))}function mn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const wn=/^[^\/()?;=#]+/;function _n(t){const e=t.match(wn);return e?e[0]:""}const On=/^[^=?&#]+/,In=/^[^?&#]+/;class En{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new on(t,e)),n}parseSegment(){const t=_n(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new sn(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=_n(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=_n(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(On);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(In);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=yn(e),i=yn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=_n(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new on([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Tn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Cn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Cn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return jn(t,this._root).map(t=>t.value)}}function Cn(t,e){if(t===e.value)return e;for(const n of e.children){const e=Cn(t,n);if(e)return e}return null}function jn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jn(t,n);if(r.length)return r.unshift(e),r}return[]}class Sn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class An extends Tn{constructor(t,e){super(t),this.snapshot=e,Pn(this,t)}toString(){return this.snapshot.toString()}}function Nn(t,e){const n=function(t,e){const n=new Dn([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Ln("",new Sn(n,[]))}(t,e),r=new Et([new sn("",{})]),i=new Et({}),o=new Et({}),s=new Et({}),a=new Et(""),u=new Mn(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new An(new Sn(u,[]),n)}class Mn{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(zt.a)(t=>Be(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(zt.a)(t=>Be(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends Tn{constructor(t,e){super(e),this.url=t,Pn(this,e)}toString(){return Rn(this._root)}}function Pn(t,e){e.value._routerState=t,e.children.forEach(e=>Pn(t,e))}function Rn(t){const e=t.children.length>0?` { ${t.children.map(Rn).join(", ")} } `:"";return`${t.value}${e}`}function Un(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,We(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),We(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!We(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),We(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Vn(t,e){return We(t.params,e.params)&&function(t,e){return an(t,e)&&t.every((t,n)=>We(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Vn(t.parent,e.parent))}function zn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return zn(t,e,r);return zn(t,e)})}(t,e,n);return new Sn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Fn(e,t),t}{const n=new Mn(new Et((r=e.value).url),new Et(r.params),new Et(r.queryParams),new Et(r.fragment),new Et(r.data),r.outlet,r.component,r),i=e.children.map(e=>zn(t,e));return new Sn(n,i)}}var r}function Fn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Fn(t.children[n],e.children[n])}function qn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Kn(t){return"object"==typeof t&&null!=t&&t.outlets}function Bn(t,e,n,r,i){let o={};return r&&Je(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new rn(n.root===t?e:Hn(n.root,t,e),o,i)}function Hn(t,e,n){const r={};return Je(t.children,(t,i)=>{r[i]=t===e?n:Hn(t,e,n)}),new on(t.segments,r)}class Gn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Kn);if(r&&r!==Ye(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qn(t,e,n){if(t||(t=new on([],{})),0===t.segments.length&&t.hasChildren())return $n(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Kn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Xn(a,u,e))return o;r+=2}else{if(!Xn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new on(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new on(t.segments.slice(r.pathIndex),t.children),$n(e,0,i)}return r.match&&0===i.length?new on(t.segments,{}):r.match&&!t.hasChildren()?Yn(t,e,n):r.match?$n(t,0,i):Yn(t,e,n)}function $n(t,e,n){if(0===n.length)return new on(t.segments,{});{const r=function(t){return Kn(t[0])?t[0].outlets:{primary:t}}(n),i={};return Je(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Qn(t.children[r],e,n))}),Je(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new on(t.segments,i)}}function Yn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Kn(o)){const t=Jn(o.outlets);return new on(r,t)}if(0===i&&qn(n[0])){r.push(new sn(t.segments[e].path,n[0])),i++;continue}const s=Kn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&qn(a)?(r.push(new sn(s,Zn(a))),i+=2):(r.push(new sn(s,{})),i++)}return new on(r,{})}function Jn(t){const e={};return Je(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Yn(new on([],{}),0,t))}),e}function Zn(t){const e={};return Je(t,(t,n)=>e[n]=""+t),e}function Xn(t,e,n){return t==n.path&&We(e,n.parameters)}class tr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Un(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=xn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Je(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=xn(t),i=t.value.component?n.children:e;Je(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=xn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Fe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ve(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Un(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),er(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function er(t){Un(t.value),t.children.forEach(er)}class nr{constructor(t,e){this.routes=t,this.module=e}}function rr(t){return"function"==typeof t}function ir(t){return t instanceof rn}const or=Symbol("INITIAL_VALUE");function sr(){return oe(t=>function(...t){let e=void 0,n=void 0;return Object(Tt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ct.a)(t[0])&&(t=t[0]),Object(kt.a)(t,n).lift(new Lt(e))}(...t.map(t=>t.pipe(ue(1),fe(or)))).pipe(de((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==or)return t;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ir(r))return r}return t},t)},or),Kt(t=>t!==or),Object(zt.a)(t=>ir(t)?t:!0===t),ue(1)))}let ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[ei]},encapsulation:2}),t})();function ur(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];cr(r,lr(e,r))}}function cr(t,e){t.children&&ur(t.children,e)}function lr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function hr(t){const e=t.children&&t.children.map(hr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ar),n}function fr(t){return t.outlet||"primary"}class dr{constructor(t){this.segmentGroup=t||null}}class pr{constructor(t){this.urlTree=t}}function gr(t){return new Nt.a(e=>e.error(new dr(t)))}function br(t){return new Nt.a(e=>e.error(new pr(t)))}function vr(t){return new Nt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class yr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(zt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(t=>{if(t instanceof pr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof dr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(zt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(be(t=>{if(t instanceof dr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new on([],{primary:t}):t;return new rn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(zt.a)(t=>new on([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(wt.a)({});const n=[],r=[],i={};return Je(t,(t,o)=>{const s=e(o,t).pipe(Object(zt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),wt.a.apply(null,n.concat(r)).pipe(qt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Kt((e,n)=>t(e,n,r)):re.a,Wt(1),n?te(e):Yt(()=>new Rt))}(),Object(zt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){const s=function(t){return t.reduce((t,e)=>{const n=fr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);s.has(i)||s.set(i,[]);const a=n=>Object(_t.a)(n).pipe(we(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(be(t=>{if(t instanceof dr)return Object(wt.a)(null);throw t}))),_e(t=>null!==t),be(t=>{if(t instanceof Rt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(wt.a)(new on([],{}));throw new dr(e)}throw t})),u=Array.from(s.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(zt.a)(()=>null),be(()=>Object(wt.a)(null)))});return Object(_t.a)(u).pipe(t=>t.lift(new Lt(void 0)),_e(),Object(zt.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fr(r)!==o&&""!==r.path?gr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):gr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?br(i):this.lineralizeSegments(n,i).pipe(Object(me.a)(n=>{const i=new on(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=mr(e,r,i);if(!s)return gr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?br(l):this.lineralizeSegments(r,l).pipe(Object(me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(zt.a)(t=>(n._loadedConfig=t,new on(r,{})))):Object(wt.a)(new on(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=mr(e,n,r);if(!i)return gr(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(me.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>_r(t,e,n)&&"primary"!==fr(n))}(t,n,r)?{segmentGroup:wr(new on(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==fr(r)&&(n[fr(r)]=new on([],{}));return n}(r,new on(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>_r(t,e,n))}(t,n,r)?{segmentGroup:wr(new on(t.segments,function(t,e,n,r){const i={};for(const o of n)_r(t,e,o)&&!r[fr(o)]&&(i[fr(o)]=new on([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(zt.a)(t=>new on(o,t))):0===r.length&&0===s.length?Object(wt.a)(new on(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(zt.a)(t=>new on(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(wt.a)(new nr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(wt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(zt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Nt.a(e=>e.error(He(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(wt.a)(new nr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&rr(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!rr(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ze(o)});return Object(wt.a)(i).pipe(sr(),Object(Oe.a)(t=>{if(!ir(t))return;const e=He(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(zt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(wt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return vr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new rn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Je(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Je(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new on(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ge)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new on(t.segments.concat(e.segments),e.children)}return t}function _r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ir{constructor(t,e){this.component=t,this.route=e}}function Er(t,e,n){const r=t._root;return Cr(r,e?e._root:null,n,[r.value])}function Tr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=xn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!an(t.url,e.url);case"pathParamsOrQueryParamsChange":return!an(t.url,e.url)||!We(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vn(t,e)||!We(t.queryParams,e.queryParams);case"paramsChange":default:return!Vn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Or(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Cr(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ir(a.outlet.component,s))}else s&&jr(e,a,i),i.canActivateChecks.push(new Or(r)),Cr(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Je(o,(t,e)=>jr(t,n.getContext(e),i)),i}function jr(t,e,n){const r=xn(t),i=t.value;Je(r,(t,r)=>{jr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ir(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sr(t,e){return null!==t&&e&&e(new ze(t)),Object(wt.a)(!0)}function xr(t,e){return null!==t&&e&&e(new Ue(t)),Object(wt.a)(!0)}function Ar(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(wt.a)(!0);const i=r.map(r=>Vt(()=>{const i=Tr(r,e,n);let o;if(function(t){return t&&rr(t.canActivate)}(i))o=Ze(i.canActivate(e,t));else{if(!rr(i))throw new Error("Invalid CanActivate guard");o=Ze(i(e,t))}return o.pipe(_e())}));return Object(wt.a)(i).pipe(sr())}function Nr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Vt(()=>{const i=e.guards.map(i=>{const o=Tr(i,e.node,n);let s;if(function(t){return t&&rr(t.canActivateChild)}(o))s=Ze(o.canActivateChild(r,t));else{if(!rr(o))throw new Error("Invalid CanActivateChild guard");s=Ze(o(r,t))}return s.pipe(_e())});return Object(wt.a)(i).pipe(sr())}));return Object(wt.a)(i).pipe(sr())}class Mr{}class kr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Pr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Dn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Sn(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),Object(wt.a)(i)}catch(t){return new Nt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=kn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=un(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Mr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Mr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Mr;if((t.outlet||"primary")!==r)throw new Mr;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Ye(n).parameters:{};i=new Dn(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+n.length,Vr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Mr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ge)(n,t,e);if(!r)throw new Mr;const i={};Je(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Dn(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+o.length,Vr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Pr(e,o,s,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Sn(i,t)]}if(0===a.length&&0===c.length)return[new Sn(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Sn(i,l)]}}function Dr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Pr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Rr(t,e,n)&&"primary"!==fr(n))}(t,n,r)){const i=new on(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==fr(o)){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[fr(o)]=n}return i}(t,e,r,new on(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Rr(t,e,n))}(t,n,r)){const o=new on(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Rr(t,n,a)&&!i[fr(a)]){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[fr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new on(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Rr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ur(t){return t.data||{}}function Vr(t){return t.resolve||{}}function zr(t){return function(e){return e.pipe(oe(e=>{const n=t(e);return n?Object(_t.a)(n).pipe(Object(zt.a)(()=>e)):Object(_t.a)([e])}))}}class Fr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qr=new r.q("ROUTES");class Kr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(zt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new nr($e(r.injector.get(qr)).map(hr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(_t.a)(this.loader.load(t)):Ze(t()).pipe(Object(me.a)(t=>t instanceof r.v?Object(wt.a)(t):Object(_t.a)(this.compiler.compileModuleAsync(t))))}}class Br{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hr,this.attachRef=null}}class Hr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Br,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Gr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Wr(t){throw t}function Qr(t,e,n){return e.parse("/")}function $r(t,e){return Object(wt.a)(null)}let Yr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ot.a,this.errorHandler=Wr,this.malformedUriErrorHandler=Qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$r,afterPreactivation:$r},this.urlHandlingStrategy=new Gr,this.routeReuseStrategy=new Fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new rn(new on([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kr(s,a,t=>this.triggerEvent(new Pe(t)),t=>this.triggerEvent(new Re(t))),this.routerState=Nn(this.currentUrlTree,this.rootComponentType),this.transitions=new Et({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Kt(t=>0!==t.id),Object(zt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),oe(t=>{let n=!1,r=!1;return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),oe(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(wt.a)(t).pipe(oe(t=>{const n=this.transitions.getValue();return e.next(new je(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ut.a:[t]}),oe(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(oe(t=>function(t,e,n,r,i){return new yr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(zt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(me.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new kr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(zt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Oe.a)(t=>{const n=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new je(n,this.serializeUrl(r),i,o);e.next(a);const u=Nn(r,this.rootComponentType).snapshot;return Object(wt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ut.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Oe.a)(t=>{const e=new Me(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(zt.a)(t=>Object.assign(Object.assign({},t),{guards:Er(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(wt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(_t.a)(t).pipe(Object(me.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(wt.a)(!0);const s=o.map(o=>{const s=Tr(o,e,i);let a;if(function(t){return t&&rr(t.canDeactivate)}(s))a=Ze(s.canDeactivate(t,e,n,r));else{if(!rr(s))throw new Error("Invalid CanDeactivate guard");a=Ze(s(t,e,n,r))}return a.pipe(_e())});return Object(wt.a)(s).pipe(sr())}(t.component,t.route,n,e,r)),_e(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(_t.a)(e).pipe(we(e=>Object(_t.a)([xr(e.route.parent,r),Sr(e.route,r),Nr(t,e.path,n),Ar(t,e.route,n)]).pipe(qt(),_e(t=>!0!==t,!0))),_e(t=>!0!==t,!0))}(r,o,t,e):Object(wt.a)(n)),Object(zt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(ir(t.guardsResult)){const e=He(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Oe.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Kt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(wt.a)(t).pipe(Object(Oe.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),oe(t=>{let n=!1;return Object(wt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(wt.a)(t);let o=0;return Object(_t.a)(n).pipe(we(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(wt.a)({});const o={};return Object(_t.a)(i).pipe(Object(me.a)(i=>function(t,e,n,r){const i=Tr(t,e,r);return Ze(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Oe.a)(t=>{o[i]=t}))),Wt(1),Object(me.a)(()=>Object.keys(o).length===i.length?Object(wt.a)(o):Ut.a))}(t._resolve,t,e,r).pipe(Object(zt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),kn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Oe.a)(()=>o++),Wt(1),Object(me.a)(e=>o===n.length?Object(wt.a)(t):Ut.a))}))}),Object(Oe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Oe.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(zt.a)(t=>{const e=function(t,e,n){const r=zn(t,e._root,n?n._root:void 0);return new An(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(zt.a)(t=>(new tr(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ee(i))),be(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ir(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xe(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ae(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Vl){t.reject(Vl)}}var i;return Ut.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ur(t),this.config=t.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Bn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Gn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Je(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Gn(n,e,r)}(n);if(o.toRoot())return Bn(e.root,new on([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Wn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Wn(t,t===e.root,0)}const r=qn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?$n(s.segmentGroup,s.index,o.commands):Qn(s.segmentGroup,s.index,o.commands);return Bn(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ir(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ir(t))return Xe(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xe(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(cn),r.Pb(Hr),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Jr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ot.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yr),r.Ib(Mn),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),Zr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ot.a,this.subscription=t.events.subscribe(t=>{t instanceof Se&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Xr(this.skipLocationChange),replaceUrl:Xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yr),r.Ib(Mn),r.Ib(v))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.gc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Xr(t){return""===t||!!t}let ti=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Se&&this.update()})}ngAfterContentInit(){Object(_t.a)([this.links.changes,this.linksWithHrefs.changes,Object(wt.a)(null)]).pipe(Object(Ft.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(_t.a)(e).pipe(Object(Ft.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yr),r.Ib(r.l),r.Ib(r.D),r.Ib(r.h),r.Ib(Jr,8),r.Ib(Zr,8))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Bb(n,Jr,!0),r.Bb(n,Zr,!0)),2&t){let t;r.dc(t=r.Tb())&&(e.links=t),r.dc(t=r.Tb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),ei=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ni(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Hr),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ni{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Mn?this.route:t===Hr?this.childContexts:this.parent.get(t,e)}}class ri{}class ii{preload(t,e){return Object(wt.a)(null)}}let oi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kr(e,n,e=>t.triggerEvent(new Pe(e)),e=>t.triggerEvent(new Re(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Kt(t=>t instanceof Se),we(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(_t.a)(n).pipe(Object(Ft.a)(),Object(zt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Yr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(ri))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),si=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof je?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Se&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Yr),r.Pb(q),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ai=new r.q("ROUTER_CONFIGURATION"),ui=new r.q("ROUTER_FORROOT_GUARD"),ci=[O,{provide:cn,useClass:ln},{provide:Yr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Yr(null,t,e,n,r,i,o,$e(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[cn,Hr,O,r.r,r.w,r.i,qr,ai,[class{},new r.A],[class{},new r.A]]},Hr,{provide:Mn,useFactory:function(t){return t.routerState.root},deps:[Yr]},{provide:r.w,useClass:r.J},oi,ii,class{preload(t,e){return e().pipe(be(()=>Object(wt.a)(null)))}},{provide:ai,useValue:{enableTracing:!1}}];function li(){return new r.y("Router",Yr)}let hi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ci,gi(e),{provide:ui,useFactory:pi,deps:[[Yr,new r.A,new r.I]]},{provide:ai,useValue:n||{}},{provide:v,useFactory:di,deps:[u,[new r.p(m),new r.A],ai]},{provide:si,useFactory:fi,deps:[Yr,q,ai]},{provide:ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ii},{provide:r.y,multi:!0,useFactory:li},[bi,{provide:r.d,multi:!0,useFactory:vi,deps:[bi]},{provide:mi,useFactory:yi,deps:[bi]},{provide:r.b,multi:!0,useExisting:mi}]]}}static forChild(e){return{ngModule:t,providers:[gi(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(ui,8),r.Pb(Yr,8))}}),t})();function fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new si(t,e,n)}function di(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function pi(t){return"guarded"}function gi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:qr,multi:!0,useValue:t}]}let bi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ot.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yr),r=this.injector.get(ai);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(wt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ai),n=this.injector.get(oi),i=this.injector.get(si),o=this.injector.get(Yr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function vi(t){return t.appInitializer.bind(t)}function yi(t){return t.bootstrapListener.bind(t)}const mi=new r.q("Router Initializer");var wi=n("mCNh"),_i=n("VRyK"),Oi=n("pxpQ"),Ii=n("qgXg"),Ei=n("Ylt2");class Ti extends Ot.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ci(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new It.a;if(this.isStopped||this.hasError?o=Ie.a.EMPTY:(this.observers.push(t),o=new Ei.a(this,t)),r&&t.add(t=new Oi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ii.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Ci{constructor(t,e){this.time=t,this.value=e}}function ji(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Ti(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Si(t,e){return e?oe(()=>t,e):oe(()=>t)}var xi=n("tf+s"),Ai=n("spgP");const Ni=new r.q("angularfire2.auth.use-emulator"),Mi=new r.q("angularfire2.auth.settings"),ki=new r.q("angularfire2.auth.tenant-id"),Di=new r.q("angularfire2.auth.langugage-code"),Li=new r.q("angularfire2.auth.use-device-language"),Pi=new r.q("angularfire.auth.persistence");let Ri=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Ai.d(i),f=Object(Ai.h)(h),d=new Ot.a,p=Object(wt.a)(void 0).pipe(Object(Oi.b)(h.outsideAngular),oe(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(zt.a)(()=>Object(Ai.g)(t,i,e)),Object(zt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ai.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ji({bufferSize:1,refCount:!1}));if(F(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(wt.a)(null);else{p.pipe(_e()).subscribe();const t=p.pipe(oe(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ji({bufferSize:1,refCount:!1})),e=t=>new Nt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(oe(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(oe(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Si(n),Object(xi.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular)),this.user=t.pipe(Si(r),Object(xi.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular)),this.idToken=this.user.pipe(oe(t=>t?Object(_t.a)(t.getIdToken()):Object(wt.a)(null))),this.idTokenResult=this.user.pipe(oe(t=>t?Object(_t.a)(t.getIdTokenResult()):Object(wt.a)(null))),this.credential=Object(_i.a)(t,d,this.authState.pipe(Kt(t=>!t))).pipe(Object(zt.a)(t=>(null==t?void 0:t.user)?t:null),Object(xi.a)(h.outsideAngular),Object(Oi.b)(h.insideAngular))}return Object(Ai.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ai.c),r.Pb(Ai.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Ni,8),r.Pb(Mi,8),r.Pb(ki,8),r.Pb(Di,8),r.Pb(Li,8),r.Pb(Pi,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ai.c),Object(r.Pb)(Ai.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Ni,8),Object(r.Pb)(Mi,8),Object(r.Pb)(ki,8),Object(r.Pb)(Di,8),Object(r.Pb)(Li,8),Object(r.Pb)(Pi,8))},token:t,providedIn:"any"}),t})();Object(Ai.e)(Ri,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);const Ui=Object(zt.a)(t=>!!t);let Vi=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>Ui);return this.auth.user.pipe(ue(1),n(t,e),Object(zt.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Yr),r.Pb(Ri))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Yr),Object(r.Pb)(Ri))},token:t,providedIn:"any"}),t})();Object(zt.a)(t=>!!t&&!t.isAnonymous);const zi=oe(t=>t?t.getIdTokenResult():Object(wt.a)(null)),Fi=(Object(zt.a)(t=>!!t&&t.emailVerified),Object(wi.a)(zi,Object(zt.a)(t=>t?t.claims:[]))),qi=t=>Object(wi.a)(Ui,Object(zt.a)(e=>e||t)),Ki=[{path:"admin",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-admin-dashboard"]],decls:59,vars:0,consts:[[1,"wrapper"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"active"],["href","#homeSubmenu","data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle"],["id","homeSubmenu",1,"collapse","list-unstyled"],["href","#"],["href","#pageSubmenu","data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle"],["id","pageSubmenu",1,"collapse","list-unstyled"],["id","content"],[1,"container-fluid"],["type","button","id","sidebarCollapse",1,"btn","btn-info"],[1,"fas","fa-align-left"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"btn","btn-dark","d-inline-block","d-lg-none","ml-auto"],[1,"fas","fa-align-justify"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Lb(2,"div",0),r.Lb(3,"nav",1),r.Lb(4,"div",2),r.Lb(5,"h3"),r.lc(6,"Bootstrap Sidebar"),r.Kb(),r.Kb(),r.Lb(7,"ul",3),r.Lb(8,"p"),r.lc(9,"Dummy Heading"),r.Kb(),r.Lb(10,"li",4),r.Lb(11,"a",5),r.lc(12,"Home"),r.Kb(),r.Lb(13,"ul",6),r.Lb(14,"li"),r.Lb(15,"a",7),r.lc(16,"Home 1"),r.Kb(),r.Kb(),r.Lb(17,"li"),r.Lb(18,"a",7),r.lc(19,"Home 2"),r.Kb(),r.Kb(),r.Lb(20,"li"),r.Lb(21,"a",7),r.lc(22,"Home 3"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(23,"li"),r.Lb(24,"a",7),r.lc(25,"About"),r.Kb(),r.Kb(),r.Lb(26,"li"),r.Lb(27,"a",8),r.lc(28,"Pages"),r.Kb(),r.Lb(29,"ul",9),r.Lb(30,"li"),r.Lb(31,"a",7),r.lc(32,"Page 1"),r.Kb(),r.Kb(),r.Lb(33,"li"),r.Lb(34,"a",7),r.lc(35,"Page 2"),r.Kb(),r.Kb(),r.Lb(36,"li"),r.Lb(37,"a",7),r.lc(38,"Page 3"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(39,"li"),r.Lb(40,"a",7),r.lc(41,"Portfolio"),r.Kb(),r.Kb(),r.Lb(42,"li"),r.Lb(43,"a",7),r.lc(44,"Contact"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(45,"div",10),r.Lb(46,"div",11),r.Lb(47,"button",12),r.Jb(48,"i",13),r.Lb(49,"span"),r.lc(50,"Toggle Sidebar"),r.Kb(),r.Kb(),r.Lb(51,"button",14),r.Jb(52,"i",15),r.Kb(),r.Kb(),r.Lb(53,"h2"),r.lc(54,"Collapsible Sidebar Using Bootstrap 4"),r.Kb(),r.Lb(55,"p"),r.lc(56,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.Kb(),r.Lb(57,"p"),r.lc(58,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),r.Kb(),r.Kb(),r.Kb())},styles:['@import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";body[_ngcontent-%COMP%]{background:#fafafa}body[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}p[_ngcontent-%COMP%]{font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px rgba(0,0,0,.1)}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386d5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width:768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}']}),t})(),canActivate:[Vi],data:{authGuardPipe:()=>qi(["login"]),adminOnly:()=>Object(wi.a)(Fi,Object(zt.a)(t=>t.hasOwnProperty("admin")))}}];let Bi=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,hi.forChild(Ki)],hi]}),t})(),Hi=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,Bi]]}),t})();function Gi(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}var Wi=n("D0XW");function Qi(){return t=>t.lift(new $i)}class $i{call(t,e){return e.subscribe(new Yi(t))}}class Yi extends jt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Ji{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Zi(t,this.compare,this.keySelector))}}class Zi extends jt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Xi=n("Jgta"),to=n("30Go"),eo=n("zIRd"),no=n("q/0M"),ro=n("qOnz"),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function oo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var so,ao="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uo=uo||{},co=ao||self;function lo(){}function ho(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var po="closure_uid_"+(1e9*Math.random()>>>0),go=0;function bo(t,e,n){return t.call.apply(t.bind,arguments)}function vo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function yo(t,e,n){return(yo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bo:vo).apply(null,arguments)}function mo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function wo(){return Date.now()}function _o(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Oo(){this.j=this.j,this.i=this.i}Oo.prototype.j=!1,Oo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,po)&&t[po]||(t[po]=++go)}(this)},Oo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Io=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Eo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function To(t){return Array.prototype.concat.apply([],arguments)}function Co(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function jo(t){return/^[\s\xa0]*$/.test(t)}var So,xo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ao(t,e){return-1!=t.indexOf(e)}function No(t,e){return t<e?-1:t>e?1:0}t:{var Mo=co.navigator;if(Mo){var ko=Mo.userAgent;if(ko){So=ko;break t}}So=""}function Do(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Lo(t){var e={};for(var n in t)e[n]=t[n];return e}var Po="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ro(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Po.length;o++)n=Po[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uo(t){return Uo[" "](t),t}Uo[" "]=lo;var Vo,zo,Fo=Ao(So,"Opera"),qo=Ao(So,"Trident")||Ao(So,"MSIE"),Ko=Ao(So,"Edge"),Bo=Ko||qo,Ho=Ao(So,"Gecko")&&!(Ao(So.toLowerCase(),"webkit")&&!Ao(So,"Edge"))&&!(Ao(So,"Trident")||Ao(So,"MSIE"))&&!Ao(So,"Edge"),Go=Ao(So.toLowerCase(),"webkit")&&!Ao(So,"Edge");function Wo(){var t=co.document;return t?t.documentMode:void 0}t:{var Qo="",$o=(zo=So,Ho?/rv:([^\);]+)(\)|;)/.exec(zo):Ko?/Edge\/([\d\.]+)/.exec(zo):qo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zo):Go?/WebKit\/(\S+)/.exec(zo):Fo?/(?:Version)[ \/]?(\S+)/.exec(zo):void 0);if($o&&(Qo=$o?$o[1]:""),qo){var Yo=Wo();if(null!=Yo&&Yo>parseFloat(Qo)){Vo=String(Yo);break t}}Vo=Qo}var Jo={};function Zo(t){return function(t,e){var n=Jo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=xo(String(Vo)).split("."),r=xo(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=No(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||No(0==s[2].length,0==a[2].length)||No(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Xo=co.document&&qo&&(Wo()||parseInt(Vo,10))||void 0,ts=!qo||9<=Number(Xo),es=qo&&!Zo("9"),ns=function(){if(!co.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{co.addEventListener("test",lo,e),co.removeEventListener("test",lo,e)}catch(n){}return t}();function rs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function is(t,e){if(rs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ho){t:{try{Uo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:os[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rs.prototype.b=function(){this.defaultPrevented=!0},_o(is,rs);var os={2:"touch",3:"pen",4:"mouse"};is.prototype.b=function(){is.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,es)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ss="closure_listenable_"+(1e6*Math.random()|0),as=0;function us(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++as,this.Y=this.Z=!1}function cs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ls(t){this.src=t,this.a={},this.b=0}function hs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Io(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ls.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=fs(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new us(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ds="closure_lm_"+(1e6*Math.random()|0),ps={};function gs(t,e,n,r,i){if(r&&r.once)return vs(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gs(t,e[o],n,r,i);return null}return n=Ts(n),t&&t[ss]?t.va(e,n,fo(r)?!!r.capture:!!r,i):bs(t,e,n,!1,r,i)}function bs(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=fo(i)?!!i.capture:!!i;if(s&&!ts)return null;var a=Is(t);if(a||(t[ds]=a=new ls(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Os,e=ts?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ns||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ws(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function vs(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)vs(t,e[o],n,r,i);return null}return n=Ts(n),t&&t[ss]?t.wa(e,n,fo(r)?!!r.capture:!!r,i):bs(t,e,n,!0,r,i)}function ys(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ys(t,e[o],n,r,i);else r=fo(r)?!!r.capture:!!r,n=Ts(n),t&&t[ss]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=fs(o=t.a[e],n,r,i))&&(cs(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Is(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fs(e,n,r,i)),(n=-1<t?e[t]:null)&&ms(n))}function ms(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ss])hs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ws(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Is(e))?(hs(n,t),0==n.b&&(n.src=null,e[ds]=null)):cs(t)}}}function ws(t){return t in ps?ps[t]:ps[t]="on"+t}function _s(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ms(t),n.call(r,e)}function Os(t,e){if(t.Y)return!0;if(!ts){if(!e)t:{e=["window","event"];for(var n=co,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return _s(t,e=new is(e,this))}return _s(t,new is(e,this))}function Is(t){return(t=t[ds])instanceof ls?t:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ts(t){return"function"==typeof t?t:(t[Es]||(t[Es]=function(e){return t.handleEvent(e)}),t[Es])}function Cs(){Oo.call(this),this.c=new ls(this),this.J=this,this.C=null}function js(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new rs(e,t);else if(e instanceof rs)e.target=e.target||t;else{var i=e;Ro(e=new rs(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ss(s,r,!0,e)&&i}if(i=Ss(s=e.a=t,r,!0,e)&&i,i=Ss(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ss(s=e.a=n[o],r,!1,e)&&i}function Ss(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&hs(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_o(Cs,Oo),Cs.prototype[ss]=!0,(so=Cs.prototype).addEventListener=function(t,e,n,r){gs(this,t,e,n,r)},so.removeEventListener=function(t,e,n,r){ys(this,t,e,n,r)},so.G=function(){if(Cs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)cs(n[r]);delete e.a[t],e.b--}}this.C=null},so.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},so.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xs=co.JSON.stringify;function As(){this.b=this.a=null}var Ns,Ms=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ds},function(t){t.reset()});function ks(){var t=Us,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ds(){this.next=this.b=this.a=null}function Ls(t){co.setTimeout(function(){throw t},0)}function Ps(t,e){Ns||function(){var t=co.Promise.resolve(void 0);Ns=function(){t.then(Vs)}}(),Rs||(Ns(),Rs=!0),Us.add(t,e)}As.prototype.add=function(t,e){var n=Ms.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ds.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ds.prototype.reset=function(){this.next=this.b=this.a=null};var Rs=!1,Us=new As;function Vs(){for(var t;t=ks();){try{t.a.call(t.b)}catch(n){Ls(n)}var e=Ms;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Rs=!1}function zs(t,e){Cs.call(this),this.b=t||1,this.a=e||co,this.f=yo(this.Za,this),this.g=wo()}function Fs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function qs(t,e,n){if("function"==typeof t)n&&(t=yo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=yo(t.handleEvent,t)}return 2147483647<Number(e)?-1:co.setTimeout(t,e||0)}function Ks(t){t.a=qs(function(){t.a=null,t.c&&(t.c=!1,Ks(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_o(zs,Cs),(so=zs.prototype).aa=!1,so.M=null,so.Za=function(){if(this.aa){var t=wo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),js(this,"tick"),this.aa&&(Fs(this),this.start()))}},so.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=wo())},so.G=function(){zs.X.G.call(this),Fs(this),delete this.a};var Bs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ks(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(co.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Oo);function Hs(t){Oo.call(this),this.b=t,this.a={}}_o(Hs,Oo);var Gs=[];function Ws(t,e,n,r){Array.isArray(n)||(n&&(Gs[0]=n.toString()),n=Gs);for(var i=0;i<n.length;i++){var o=gs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qs(t){Do(t.a,function(t,e){this.a.hasOwnProperty(e)&&ms(t)},t),t.a={}}function $s(){this.a=!0}function Ys(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return xs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Hs.prototype.G=function(){Hs.X.G.call(this),Qs(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$s.prototype.info=function(){};var Js={},Zs=null;function Xs(){return Zs=Zs||new Cs}function ta(t){rs.call(this,Js.Fa,t)}function ea(t){var e=Xs();js(e,new ta(e,t))}function na(t,e){rs.call(this,Js.STAT_EVENT,t),this.stat=e}function ra(t){var e=Xs();js(e,new na(e,t))}function ia(t){rs.call(this,Js.Ga,t)}function oa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return co.setTimeout(function(){t()},e)}Js.Fa="serverreachability",_o(ta,rs),Js.STAT_EVENT="statevent",_o(na,rs),Js.Ga="timingevent",_o(ia,rs);var sa={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},aa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ua(){}function ca(){}ua.prototype.a=null;var la,ha={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function fa(){rs.call(this,"d")}function da(){rs.call(this,"c")}function pa(){}function ga(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Hs(this),this.P=ba,this.R=new zs(t=Bo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}_o(fa,rs),_o(da,rs),_o(pa,ua),la=new pa;var ba=45e3,va={},ya={};function ma(t,e,n){t.H=1,t.i=Fa(La(e)),t.j=n,t.I=!0,wa(t,null)}function wa(t,e){t.u=wo(),Ia(t),t.l=La(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tu(n.b,"t",r),t.D=0,t.a=Qu(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bs(yo(t.Ca,t,t.a),t.O)),Ws(t.J,t.a,"readystatechange",t.Xa),e=t.B?Lo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ea(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function _a(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Oa(t,n);if(i==ya){4==e&&(t.h=4,ra(14),r=!1),Ys(t.c,t.f,null,"[Incomplete Response]");break}if(i==va){t.h=4,ra(15),Ys(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ys(t.c,t.f,i,null),Sa(t,i)}4==e&&0==n.length&&(t.h=1,ra(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zu(e),e.F=!0,ra(11))):(Ys(t.c,t.f,n,"[Invalid Chunked Response]"),ja(t),Ca(t))}function Oa(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ya:(n=Number(e.substring(n,r)),isNaN(n)?va:(r+=1)+n>e.length?ya:(e=e.substr(r,n),t.D=r+n,e))}function Ia(t){t.T=wo()+t.P,Ea(t,t.P)}function Ea(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=oa(yo(t.Va,t),e)}function Ta(t){t.o&&(co.clearTimeout(t.o),t.o=null)}function Ca(t){0==t.g.v||t.A||Ku(t.g,t)}function ja(t){Ta(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Fs(t.R),Qs(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Sa(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||au(n.b,t)))if(n.I=t.N,!t.C&&au(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Ry){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;qu(n),Nu(n)}Vu(n),ra(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=oa(yo(n.Sa,n),6e3));if(1>=su(n.b)&&n.ea){try{n.ea()}catch(Ry){}n.ea=void 0}}else Hu(n,11)}else if((t.C||n.a==t)&&qu(n),!jo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ao(l,"spdy")||Ao(l,"quic")||Ao(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(uu(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,za(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=wo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Wu(u,u.C?u.ga:null,u.fa),d.C){cu(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ta(p),Ia(p)),u.a=d}else Uu(u);0<n.g.length&&Du(n)}else"stop"!=i[0]&&"close"!=i[0]||Hu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Hu(n,7):Au(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ea(4)}catch(Ry){}}function xa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ho(t)||"string"==typeof t)Eo(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ho(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ho(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Aa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Aa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Na(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ma(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ma(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ma(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(so=ga.prototype).setTimeout=function(t){this.P=t},so.Xa=function(t){t=t.target;var e=this.F;e&&3==Cu(t)?e.f():this.Ca(t)},so.Ca=function(t){try{if(t==this.a)t:{var e=Cu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Bo&&!this.a.$())){this.A||4!=e||7==n||ea(8==n||0>=r?3:2),Ta(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jo(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ra(12),ja(this),Ca(this);break t}Ys(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Sa(this,u)}this.I?(_a(this,e,o),Bo&&this.b&&3==e&&(Ws(this.J,this.R,"tick",this.Wa),this.R.start())):(Ys(this.c,this.f,o,null),Sa(this,o)),4==e&&ja(this),this.b&&!this.A&&(4==e?Ku(this.g,this):(this.b=!1,Ia(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ra(12)):(this.h=0,ra(13)),ja(this),Ca(this)}}}catch(c){}},so.Wa=function(){if(this.a){var t=Cu(this.a),e=this.a.$();this.D<e.length&&(Ta(this),_a(this,t,e),this.b&&4!=t&&Ia(this))}},so.cancel=function(){this.A=!0,ja(this)},so.Va=function(){this.o=null;var t=wo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(ea(3),ra(17)),ja(this),this.h=2,Ca(this)):Ea(this,this.T-t)},(so=Aa.prototype).K=function(){Na(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},so.L=function(){return Na(this),this.a.concat()},so.get=function(t,e){return Ma(this.b,t)?this.b[t]:e},so.set=function(t,e){Ma(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},so.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ka=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Da(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Da){this.a=void 0!==e?e:t.a,Pa(this,t.f),this.j=t.j,Ra(this,t.c),Ua(this,t.h),this.g=t.g,e=t.b;var n=new Ya;n.c=e.c,e.a&&(n.a=new Aa(e.a),n.b=e.b),Va(this,n),this.i=t.i}else t&&(n=String(t).match(ka))?(this.a=!!e,Pa(this,n[1]||"",!0),this.j=qa(n[2]||""),Ra(this,n[3]||"",!0),Ua(this,n[4]),this.g=qa(n[5]||"",!0),Va(this,n[6]||"",!0),this.i=qa(n[7]||"")):(this.a=!!e,this.b=new Ya(null,this.a))}function La(t){return new Da(t)}function Pa(t,e,n){t.f=n?qa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ra(t,e,n){t.c=n?qa(e,!0):e}function Ua(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Va(t,e,n){e instanceof Ya?(t.b=e,function(t,e){e&&!t.f&&(Ja(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Za(this,e),tu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ka(e,Qa)),t.b=new Ya(e,t.a))}function za(t,e,n){t.b.set(e,n)}function Fa(t){return za(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^wo()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ka(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ba),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ba(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Da.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ka(e,Ha,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ka(e,Ha,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ka(n,"/"==n.charAt(0)?Wa:Ga,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ka(n,$a)),t.join("")};var Ha=/[#\/\?@]/g,Ga=/[#\?:]/g,Wa=/[#\?]/g,Qa=/[#\?@]/g,$a=/#/g;function Ya(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ja(t){t.a||(t.a=new Aa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Za(t,e){Ja(t),e=eu(t,e),Ma(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ma((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Na(t)))}function Xa(t,e){return Ja(t),e=eu(t,e),Ma(t.a.b,e)}function tu(t,e,n){Za(t,e),0<n.length&&(t.c=null,t.a.set(eu(t,e),Co(n)),t.b+=n.length)}function eu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(so=Ya.prototype).add=function(t,e){Ja(this),this.c=null,t=eu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},so.forEach=function(t,e){Ja(this),this.a.forEach(function(n,r){Eo(n,function(n){t.call(e,n,r,this)},this)},this)},so.L=function(){Ja(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},so.K=function(t){Ja(this);var e=[];if("string"==typeof t)Xa(this,t)&&(e=To(e,this.a.get(eu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=To(e,t[n])}return e},so.set=function(t,e){return Ja(this),this.c=null,Xa(this,t=eu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},so.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},so.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nu=function(){return function(t,e){this.b=t,this.a=e}}();function ru(t){this.g=t||iu,t=co.PerformanceNavigationTiming?0<(t=co.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(co.ia&&co.ia.ya&&co.ia.ya()&&co.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var iu=10;function ou(t){return!!t.b||!!t.a&&t.a.size>=t.f}function su(t){return t.b?1:t.a?t.a.size:0}function au(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function uu(t,e){t.a?t.a.add(e):t.b=e}function cu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function lu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=oo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Co(t.c)}function hu(){}function fu(){this.a=new hu}function du(t,e,n){var r=n||"";try{xa(t,function(t,n){var i=t;fo(t)&&(i=xs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}ru.prototype.cancel=function(){var t,e;if(this.c=lu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=oo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hu.prototype.stringify=function(t){return co.JSON.stringify(t,void 0)},hu.prototype.parse=function(t){return co.JSON.parse(t,void 0)};var gu=co.JSON.parse;function bu(t){Cs.call(this),this.headers=new Aa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vu,this.D=this.F=!1}_o(bu,Cs);var vu="",yu=/^https?$/i,mu=["POST","PUT"];function wu(t){return"content-type"==t.toLowerCase()}function _u(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ou(t),Eu(t)}function Ou(t){t.u||(t.u=!0,js(t,"complete"),js(t,"error"))}function Iu(t){if(t.b&&void 0!==uo&&(!t.s[1]||4!=Cu(t)||2!=t.W()))if(t.l&&4==Cu(t))qs(t.za,0,t);else if(js(t,"readystatechange"),4==Cu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ka)[1]||null;if(!o&&co.self&&co.self.location){var s=co.self.location.protocol;o=s.substr(0,s.length-1)}i=!yu.test(o?o.toLowerCase():"")}e=i}if(e)js(t,"complete"),js(t,"success");else{t.h=6;try{var a=2<Cu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ou(t)}}finally{Eu(t)}}}function Eu(t,e){if(t.a){Tu(t);var n=t.a,r=t.s[0]?lo:null;t.a=null,t.s=null,e||js(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Tu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(co.clearTimeout(t.m),t.m=null)}function Cu(t){return t.a?t.a.readyState:0}function ju(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Do(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):za(t,e,n))}function Su(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xu(t){this.pa=0,this.g=[],this.c=new $s,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Su("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Su("baseRetryDelayMs",5e3,t),this.Ra=Su("retryDelaySeedMs",1e4,t),this.Ma=Su("forwardChannelMaxRetries",2,t),this.ma=Su("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ru(t&&t.concurrentRequestLimit),this.ka=new fu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Au(t){if(Mu(t),3==t.v){var e=t.R++,n=La(t.B);za(n,"SID",t.J),za(n,"RID",e),za(n,"TYPE","terminate"),Pu(t,n),(e=new ga(t,t.c,e,void 0)).H=2,e.i=Fa(La(n)),n=!1,co.navigator&&co.navigator.sendBeacon&&(n=co.navigator.sendBeacon(e.i.toString(),"")),!n&&co.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qu(e.g,null),e.a.ba(e.i)),e.u=wo(),Ia(e)}Gu(t)}function Nu(t){t.a&&(zu(t),t.a.cancel(),t.a=null)}function Mu(t){Nu(t),t.j&&(co.clearTimeout(t.j),t.j=null),qu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&co.clearTimeout(t.h),t.h=null)}function ku(t,e){t.g.push(new nu(t.Oa++,e)),3==t.v&&Du(t)}function Du(t){ou(t.b)||t.h||(t.h=!0,Ps(t.Ba,t),t.u=0)}function Lu(t,e){var n;n=e?e.f:t.R++;var r=La(t.B);za(r,"SID",t.J),za(r,"RID",n),za(r,"AID",t.P),Pu(t,r),t.i&&t.l&&ju(r,t.i,t.l),n=new ga(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ru(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),uu(t.b,n),ma(n,r,e)}function Pu(t,e){t.f&&xa({},function(t,n){za(e,n,t)})}function Ru(t,e,n){n=Math.min(t.g.length,n);var r=t.f?yo(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{du(l,s,"req"+c+"_")}catch(Cc){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Uu(t){t.a||t.j||(t.T=1,Ps(t.Aa,t),t.o=0)}function Vu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=oa(yo(t.Aa,t),Bu(t,t.o)),t.o++,0))}function zu(t){null!=t.s&&(co.clearTimeout(t.s),t.s=null)}function Fu(t){t.a=new ga(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=La(t.la);za(e,"RID","rpc"),za(e,"SID",t.J),za(e,"CI",t.H?"0":"1"),za(e,"AID",t.P),Pu(t,e),za(e,"TYPE","xmlhttp"),t.i&&t.l&&ju(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fa(La(e)),n.j=null,n.I=!0,wa(n,t)}function qu(t){null!=t.m&&(co.clearTimeout(t.m),t.m=null)}function Ku(t,e){var n=null;if(t.a==e){qu(t),zu(t),t.a=null;var r=2}else{if(!au(t.b,e))return;n=e.s,cu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=wo()-e.u;var i=t.u;js(r=Xs(),new ia(r,n,e,i)),Du(t)}else Uu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(su(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=oa(yo(t.Ba,t,e),Bu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Vu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Hu(t,5);break;case 4:Hu(t,10);break;case 3:Hu(t,6);break;default:Hu(t,2)}}function Bu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Hu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=yo(t.Ya,t);n||(n=new Da("//www.google.com/images/cleardot.gif"),co.location&&"http"==co.location.protocol||Pa(n,"https"),Fa(n)),function(t,e){var n=new $s;if(co.Image){var r=new Image;r.onload=mo(pu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mo(pu,n,r,"TestLoadImage: error",!1,e),r.onabort=mo(pu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mo(pu,n,r,"TestLoadImage: timeout",!1,e),co.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ra(2);t.v=0,t.f&&t.f.ra(e),Gu(t),Mu(t)}function Gu(t){t.v=0,t.I=-1,t.f&&(0==lu(t.b).length&&0==t.g.length||(t.b.c.length=0,Co(t.g),t.g.length=0),t.f.qa())}function Wu(t,e,n){var r=function(t){return t instanceof Da?La(t):new Da(t,void 0)}(n);if(""!=r.c)e&&Ra(r,e+"."+r.c),Ua(r,r.h);else{var i=co.location;r=function(t,e,n,r){var i=new Da(null,void 0);return t&&Pa(i,t),e&&Ra(i,e),n&&Ua(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Do(t.V,function(t,e){za(r,e,t)}),n=t.na,(e=t.A)&&n&&za(r,e,n),za(r,"VER",t.ha),Pu(t,r),r}function Qu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bu(t.Na)).F=t.C,e}function $u(){}function Yu(){if(qo&&!(10<=Number(Xo)))throw Error("Environmental error: no available transport.")}function Ju(t,e){Cs.call(this),this.a=new xu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!jo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tc(this)}function Zu(t){fa.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xu(){da.call(this),this.status=1}function tc(t){this.a=t}(so=bu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:la),this.a.onreadystatechange=yo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void _u(this,o)}t=n||"";var i=new Aa(this.headers);r&&xa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=wu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=co.FormData&&t instanceof co.FormData,!(0<=Io(mu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tu(this),0<this.o&&((this.D=function(t){return qo&&Zo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=yo(this.xa,this)):this.m=qs(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){_u(this,o)}},so.xa=function(){void 0!==uo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,js(this,"timeout"),this.abort(8))},so.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,js(this,"complete"),js(this,"abort"),Eu(this))},so.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Eu(this,!0)),bu.X.G.call(this)},so.za=function(){this.j||(this.A||this.l||this.g?Iu(this):this.Ua())},so.Ua=function(){Iu(this)},so.W=function(){try{return 2<Cu(this)?this.a.status:-1}catch(zo){return-1}},so.$=function(){try{return this.a?this.a.responseText:""}catch(zo){return""}},so.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gu(e)}},so.ua=function(){return this.h},so.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(so=xu.prototype).ha=8,so.v=1,so.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ga(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ro(r=Lo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ru(this,n,e),za(i=La(this.B),"RID",t),za(i,"CVER",22),this.A&&za(i,"X-HTTP-Session-Id",this.A),Pu(this,i),this.i&&r&&ju(i,this.i,r),uu(this.b,n),this.Ia&&za(i,"TYPE","init"),this.da?(za(i,"$req",e),za(i,"SID","null"),n.U=!0,ma(n,i,null)):ma(n,i,e),this.v=2}}else 3==this.v&&(t?Lu(this,t):0==this.g.length||ou(this.b)||Lu(this))},so.Aa=function(){if(this.j=null,Fu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=oa(yo(this.Ta,this),t)}},so.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ra(10),Nu(this),Fu(this))},so.Sa=function(){null!=this.m&&(this.m=null,Nu(this),Vu(this),ra(19))},so.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ra(2)):(this.c.info("Failed to ping google.com"),ra(1))},(so=$u.prototype).ta=function(){},so.sa=function(){},so.ra=function(){},so.qa=function(){},so.Ja=function(){},Yu.prototype.a=function(t,e){return new Ju(t,e)},_o(Ju,Cs),Ju.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ra(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Wu(t,null,t.fa),Du(t)},Ju.prototype.close=function(){Au(this.a)},Ju.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ku(this.a,e)}else this.l?((e={}).__data__=xs(t),ku(this.a,e)):ku(this.a,t)},Ju.prototype.G=function(){this.a.f=null,delete this.f,Au(this.a),delete this.a,Ju.X.G.call(this)},_o(Zu,fa),_o(Xu,da),_o(tc,$u),tc.prototype.ta=function(){js(this.a,"a")},tc.prototype.sa=function(t){js(this.a,new Zu(t))},tc.prototype.ra=function(t){js(this.a,new Xu(t))},tc.prototype.qa=function(){js(this.a,"b")},Yu.prototype.createWebChannel=Yu.prototype.a,Ju.prototype.send=Ju.prototype.h,Ju.prototype.open=Ju.prototype.g,Ju.prototype.close=Ju.prototype.close,sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,aa.COMPLETE="complete",ca.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",Cs.prototype.listen=Cs.prototype.va,bu.prototype.listenOnce=bu.prototype.wa,bu.prototype.getLastError=bu.prototype.Qa,bu.prototype.getLastErrorCode=bu.prototype.ua,bu.prototype.getStatus=bu.prototype.W,bu.prototype.getResponseJson=bu.prototype.Pa,bu.prototype.getResponseText=bu.prototype.$,bu.prototype.send=bu.prototype.ba;var ec=sa,nc=aa,rc=Js,ic=ca,oc=bu,sc=n("/6Yf"),ac=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},uc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cc=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();cc.UNAUTHENTICATED=new cc(null),cc.l=new cc("google-credentials-uid"),cc._=new cc("first-party-uid");var lc=new no.b("@firebase/firestore");function hc(){return lc.logLevel}function fc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lc.logLevel<=no.a.DEBUG){var r=e.map(gc);lc.debug.apply(lc,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function dc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lc.logLevel<=no.a.ERROR){var r=e.map(gc);lc.error.apply(lc,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function pc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lc.logLevel<=no.a.WARN){var r=e.map(gc);lc.warn.apply(lc,Object(to.g)(["Firestore (8.1.2): "+t],r))}}function gc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function bc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw dc(e),new Error(e)}function vc(t,e){t||bc()}function yc(t,e){return t}var mc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(to.c)(e,t),e}(Error),_c=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Oc=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(cc.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Ic=function(){function t(t){var e=this;this.P=null,this.currentUser=cc.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(fc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(vc("string"==typeof n.accessToken),new _c(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return vc(null===t||"string"==typeof t),new cc(t)},t}(),Ec=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=cc._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Tc=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Ec(this.v,this.S))},t.prototype.A=function(t){t(cc._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function Cc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var jc=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Sc(t,e){return t<e?-1:t>e?1:0}function xc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ac(t){return t+"\0"}var Nc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new wc(mc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new wc(mc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new wc(mc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wc(mc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?Sc(this.nanoseconds,t.nanoseconds):Sc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Mc=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new Nc(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),kc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&bc(),void 0===n?n=t.length-e:n>t.length-e&&bc(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new wc(mc.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(kc),Lc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Lc.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new wc(mc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new wc(mc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new wc(mc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new wc(mc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(kc),Rc=function(){function t(t){this.path=t}return t.st=function(e){return new t(Dc.Y(e))},t.it=function(e){return new t(Dc.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Dc.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return Dc.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new Dc(e.slice()))},t}();function Uc(t){return null==t}function Vc(t){return 0===t&&1/t==-1/0}function zc(t){return"number"==typeof t&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Fc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null};function qc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Fc(t,e,n,r,i,o,s)}function Kc(t){var e=yc(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+Ul(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),Uc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ff(e.startAt)),e.endAt&&(n+="|ub:",n+=Ff(e.endAt)),e.ut=n}return e.ut}function Bc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Gf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Dl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kf(t.startAt,e.startAt)&&Kf(t.endAt,e.endAt)}function Hc(t){return Rc.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gc=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return Sc(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Gc.lt=new Gc("");var Wc,Qc,$c=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Mc.min()),void 0===o&&(o=Mc.min()),void 0===s&&(s=Gc.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Yc=function(t){this.count=t};function Jc(t){switch(t){case mc.OK:return bc();case mc.CANCELLED:case mc.UNKNOWN:case mc.DEADLINE_EXCEEDED:case mc.RESOURCE_EXHAUSTED:case mc.INTERNAL:case mc.UNAVAILABLE:case mc.UNAUTHENTICATED:return!1;case mc.INVALID_ARGUMENT:case mc.NOT_FOUND:case mc.ALREADY_EXISTS:case mc.PERMISSION_DENIED:case mc.FAILED_PRECONDITION:case mc.ABORTED:case mc.OUT_OF_RANGE:case mc.UNIMPLEMENTED:case mc.DATA_LOSS:return!0;default:return bc()}}function Zc(t){if(void 0===t)return dc("GRPC error has no .code"),mc.UNKNOWN;switch(t){case Wc.OK:return mc.OK;case Wc.CANCELLED:return mc.CANCELLED;case Wc.UNKNOWN:return mc.UNKNOWN;case Wc.DEADLINE_EXCEEDED:return mc.DEADLINE_EXCEEDED;case Wc.RESOURCE_EXHAUSTED:return mc.RESOURCE_EXHAUSTED;case Wc.INTERNAL:return mc.INTERNAL;case Wc.UNAVAILABLE:return mc.UNAVAILABLE;case Wc.UNAUTHENTICATED:return mc.UNAUTHENTICATED;case Wc.INVALID_ARGUMENT:return mc.INVALID_ARGUMENT;case Wc.NOT_FOUND:return mc.NOT_FOUND;case Wc.ALREADY_EXISTS:return mc.ALREADY_EXISTS;case Wc.PERMISSION_DENIED:return mc.PERMISSION_DENIED;case Wc.FAILED_PRECONDITION:return mc.FAILED_PRECONDITION;case Wc.ABORTED:return mc.ABORTED;case Wc.OUT_OF_RANGE:return mc.OUT_OF_RANGE;case Wc.UNIMPLEMENTED:return mc.UNIMPLEMENTED;case Wc.DATA_LOSS:return mc.DATA_LOSS;default:return bc()}}(Qc=Wc||(Wc={}))[Qc.OK=0]="OK",Qc[Qc.CANCELLED=1]="CANCELLED",Qc[Qc.UNKNOWN=2]="UNKNOWN",Qc[Qc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qc[Qc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qc[Qc.NOT_FOUND=5]="NOT_FOUND",Qc[Qc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qc[Qc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qc[Qc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qc[Qc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qc[Qc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qc[Qc.ABORTED=10]="ABORTED",Qc[Qc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qc[Qc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qc[Qc.INTERNAL=13]="INTERNAL",Qc[Qc.UNAVAILABLE=14]="UNAVAILABLE",Qc[Qc.DATA_LOSS=15]="DATA_LOSS";var Xc=function(){function t(t,e){this.$=t,this.root=e||el.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,el.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,el.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new tl(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new tl(this.root,t,this.$,!1)},t.prototype.vt=function(){return new tl(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new tl(this.root,t,this.$,!0)},t}(),tl=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),el=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw bc();if(this.right.Mt())throw bc();var t=this.left.Qt();if(t!==this.right.Qt())throw bc();return t+(this.Mt()?0:1)},t}();el.EMPTY=null,el.RED=!0,el.It=!1,el.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw bc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw bc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new el(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var nl=function(){function t(t){this.$=t,this.data=new Xc(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new rl(this.data.yt())},t.prototype.Vt=function(t){return new rl(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),rl=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),il=new Xc(Rc.$);function ol(){return il}function sl(){return ol()}var al=new Xc(Rc.$);function ul(){return al}var cl=new Xc(Rc.$),ll=new nl(Rc.$);function hl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ll,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var fl=new nl(Sc);function dl(){return fl}var pl=function(){function t(t){this.$=t?function(e,n){return t(e,n)||Rc.$(e.key,n.key)}:function(t,e){return Rc.$(t.key,e.key)},this.Ht=ul(),this.Jt=new Xc(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),gl=function(){function t(){this.Xt=new Xc(Rc.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):bc():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),bl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=s,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,pl.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vl=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,yl.he(e,n)),new t(Mc.min(),r,dl(),ol(),hl())},t}(),yl=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Gc.lt,n,hl(),hl(),hl())},t}(),ml=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},wl=function(t,e){this.targetId=t,this.Te=e},_l=function(t,e,n,r){void 0===n&&(n=Gc.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ol=function(){function t(){this.Ie=0,this.me=Tl(),this.Ae=Gc.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=hl(),e=hl(),n=hl();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:bc()}}),new yl(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Tl()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Il=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=ol(),this.Me=El(),this.ke=new nl(Sc)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof ff?this.Le(r,t.Ee):t.Ee instanceof df&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:bc()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Hc(i))if(0===n){var o=new Rc(i.path);this.Be(e,o,new df(o,Mc.min()))}else vc(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&Hc(o.target)){var s=new Rc(o.target.path);null!==e.Oe.get(s)||e.Je(i,s)||e.Be(i,s,new df(s,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=hl();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new vl(t,n,this.ke,this.Oe,r);return this.Oe=ol(),this.Me=El(),this.ke=new nl(Sc),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Ol,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new nl(Sc),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||fc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Ol),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function El(){return new Xc(Rc.$)}function Tl(){return new Xc(Rc.$)}function Cl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Sl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Al(t){var e=t.mapValue.fields.__previous_value__;return xl(e)?Al(e):e}function Nl(t){var e=zl(t.mapValue.fields.__local_write_time__.timestampValue);return new Nc(e.seconds,e.nanos)}var Ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xl(t)?4:10:bc()}function Dl(t,e){var n=kl(t);if(n!==kl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zl(t.timestampValue),r=zl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ql(t.bytesValue).isEqual(ql(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Fl(t.geoPointValue.latitude)===Fl(e.geoPointValue.latitude)&&Fl(t.geoPointValue.longitude)===Fl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Fl(t.integerValue)===Fl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Fl(t.doubleValue),r=Fl(e.doubleValue);return n===r?Vc(n)===Vc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return xc(t.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Cl(n)!==Cl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dl(n[i],r[i])))return!1;return!0}(t,e);default:return bc()}}function Ll(t,e){return void 0!==(t.values||[]).find(function(t){return Dl(t,e)})}function Pl(t,e){var n=kl(t),r=kl(e);if(n!==r)return Sc(n,r);switch(n){case 0:return 0;case 1:return Sc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Fl(t.integerValue||t.doubleValue),r=Fl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rl(t.timestampValue,e.timestampValue);case 4:return Rl(Nl(t),Nl(e));case 5:return Sc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ql(t),r=ql(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Sc(n[i],r[i]);if(0!==o)return o}return Sc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Sc(Fl(t.latitude),Fl(e.latitude));return 0!==n?n:Sc(Fl(t.longitude),Fl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pl(n[i],r[i]);if(o)return o}return Sc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Sc(r[s],o[s]);if(0!==a)return a;var u=Pl(n[r[s]],i[o[s]]);if(0!==u)return u}return Sc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw bc()}}function Rl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Sc(t,e);var n=zl(t),r=zl(e),i=Sc(n.seconds,r.seconds);return 0!==i?i:Sc(n.nanos,r.nanos)}function Ul(t){return Vl(t)}function Vl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=zl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ql(t.bytesValue).toBase64():"referenceValue"in t?Rc.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Vl(t.fields[o])}return e+"}"}(t.mapValue):bc();var e}function zl(t){if(vc(!!t),"string"==typeof t){var e=0,n=Ml.exec(t);if(vc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fl(t.seconds),nanos:Fl(t.nanos)}}function Fl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ql(t){return"string"==typeof t?Gc.fromBase64String(t):Gc.fromUint8Array(t)}function Kl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Bl(t){return!!t&&"integerValue"in t}function Hl(t){return!!t&&"arrayValue"in t}function Gl(t){return!!t&&"nullValue"in t}function Wl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}var $l={asc:"ASCENDING",desc:"DESCENDING"},Yl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jl=function(t,e){this.t=t,this.tn=e};function Zl(t){return{integerValue:""+t}}function Xl(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function th(t,e){return zc(e)?Zl(e):Xl(t,e)}function eh(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nh(t,e){return t.tn?e.toBase64():e.toUint8Array()}function rh(t,e){return eh(t,e.M())}function ih(t){return vc(!!t),Mc.N(function(t){var e=zl(t);return new Nc(e.seconds,e.nanos)}(t))}function oh(t,e){return function(t){return new Dc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function sh(t){var e=Dc.Y(t);return vc(xh(e)),e}function ah(t,e){return oh(t.t,e.path)}function uh(t,e){var n=sh(e);if(n.get(1)!==t.t.projectId)throw new wc(mc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new wc(mc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Rc(fh(n))}function ch(t,e){return oh(t.t,e)}function lh(t){var e=sh(t);return 4===e.length?Dc.X():fh(e)}function hh(t){return new Dc(["projects",t.t.projectId,"databases",t.t.database]).J()}function fh(t){return vc(t.length>4&&"documents"===t.get(4)),t.B(5)}function dh(t,e,n){return{name:ah(t,e),fields:n.proto.mapValue.fields}}function ph(t,e){var n;if(e instanceof Xh)n={update:dh(t,e.key,e.value)};else if(e instanceof sf)n={delete:ah(t,e.key)};else if(e instanceof tf)n={update:dh(t,e.key,e.data),updateMask:Sh(e.en)};else if(e instanceof nf)n={transform:{document:ah(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Dh)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lh)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Rh)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof Vh)return{fieldPath:e.field.J(),increment:n.nn};throw bc()}(0,t)})}};else{if(!(e instanceof af))return bc();n={verify:ah(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:rh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:bc()}(t,e.rn)),n}function gh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Hh.updateTime(ih(t.updateTime)):void 0!==t.exists?Hh.exists(t.exists):Hh.on()}(e.currentDocument):Hh.on();if(e.update){var r=uh(t,e.update.name),i=new uf({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new qh((t.fieldPaths||[]).map(function(t){return Pc.nt(t)}))}(e.updateMask);return new tf(r,i,o,n)}return new Xh(r,i,n)}if(e.delete){var s=uh(t,e.delete);return new sf(s,n)}if(e.transform){var a=uh(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(vc("REQUEST_TIME"===e.setToServerValue),n=new Dh):"appendMissingElements"in e?n=new Lh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Rh(e.removeAllFromArray.values||[]):"increment"in e?n=new Vh(t,e.increment):bc();var r=Pc.nt(e.fieldPath);return new Kh(r,n)}(t,e)});return vc(!0===n.exists),new nf(a,u)}if(e.verify){var c=uh(t,e.verify);return new af(c,n)}return bc()}function bh(t,e){return{documents:[ch(t,e.path)]}}function vh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ch(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ch(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Wl(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NAN"}};if(Gl(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wl(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NAN"}};if(Gl(t.value))return{unaryFilter:{field:Eh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(t.field),op:Ih(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Eh(t.field),direction:Oh(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.tn||Uc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=wh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wh(e.endAt)),n}function yh(t){var e=lh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vc(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=mh(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Bf(Th(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Uc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=_h(n.startAt));var l=null;return n.endAt&&(l=_h(n.endAt)),bf(e,i,a,s,u,"F",c,l)}function mh(t){return t?void 0!==t.unaryFilter?[jh(t)]:void 0!==t.fieldFilter?[Ch(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return mh(t)}).reduce(function(t,e){return t.concat(e)}):bc():[]}function wh(t){return{before:t.before,values:t.position}}function _h(t){return new zf(t.values||[],!!t.before)}function Oh(t){return $l[t]}function Ih(t){return Yl[t]}function Eh(t){return{fieldPath:t.J()}}function Th(t){return Pc.nt(t.fieldPath)}function Ch(t){return Nf.create(Th(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return bc()}}(t.fieldFilter.op),t.fieldFilter.value)}function jh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Th(t.unaryFilter.field);return Nf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Th(t.unaryFilter.field);return Nf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Th(t.unaryFilter.field);return Nf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Th(t.unaryFilter.field);return Nf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return bc()}}function Sh(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function xh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Ah=function(){this.cn=void 0};function Nh(t,e,n){return t instanceof Dh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lh?Ph(t,e):t instanceof Rh?Uh(t,e):function(t,e){var n=kh(t,e),r=zh(n)+zh(t.nn);return Bl(n)&&Bl(t.nn)?Zl(r):Xl(t.serializer,r)}(t,e)}function Mh(t,e,n){return t instanceof Lh?Ph(t,e):t instanceof Rh?Uh(t,e):n}function kh(t,e){return t instanceof Vh?Bl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e}(Ah),Lh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(to.c)(e,t),e}(Ah);function Ph(t,e){for(var n=Fh(e),r=function(t){n.some(function(e){return Dl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(to.c)(e,t),e}(Ah);function Uh(t,e){for(var n=Fh(e),r=function(t){n=n.filter(function(e){return!Dl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Vh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(to.c)(e,t),e}(Ah);function zh(t){return Fl(t.integerValue||t.doubleValue)}function Fh(t){return Hl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var qh=function(){function t(t){this.fields=t,t.sort(Pc.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return xc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Kh=function(t,e){this.field=t,this.transform=e},Bh=function(t,e){this.version=t,this.transformResults=e},Hh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Gh(t,e){return void 0!==t.updateTime?e instanceof ff&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ff}var Wh=function(){};function Qh(t,e,n){return t instanceof Xh?function(t,e,n){return new ff(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof tf?function(t,e,n){if(!Gh(t.rn,e))return new pf(t.key,n.version);var r=ef(t,e);return new ff(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof nf?function(t,e,n){if(vc(null!=n.transformResults),!Gh(t.rn,e))return new pf(t.key,n.version);var r=rf(0,e),i=function(t,e,n){var r=[];vc(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ff&&(a=e.field(o.field)),r.push(Mh(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=of(t,r.data(),i);return new ff(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new df(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function $h(t,e,n,r){return t instanceof Xh?function(t,e){if(!Gh(t.rn,e))return e;var n=Zh(e);return new ff(t.key,n,t.value,{an:!0})}(t,e):t instanceof tf?function(t,e){if(!Gh(t.rn,e))return e;var n=Zh(e),r=ef(t,e);return new ff(t.key,n,r,{an:!0})}(t,e):t instanceof nf?function(t,e,n,r){if(!Gh(t.rn,e))return e;var i=rf(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ff&&(c=n.field(a.field)),null===c&&r instanceof ff&&(c=r.field(a.field)),i.push(Nh(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=of(t,i.data(),o);return new ff(t.key,i.version,s,{an:!0})}(t,e,r,n):function(t,e){return Gh(t.rn,e)?new df(t.key,Mc.min()):e}(t,e)}function Yh(t,e){return t instanceof nf?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof ff?e.field(o.field):void 0,a=kh(o.transform,s||null);null!=a&&(n=null==n?(new cf).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function Jh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||xc(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lh&&e instanceof Lh||t instanceof Rh&&e instanceof Rh?xc(t.elements,e.elements,Dl):t instanceof Vh&&e instanceof Vh?Dl(t.nn,e.nn):t instanceof Dh&&e instanceof Dh}(t.transform,e.transform)}(t,e)}))}function Zh(t){return t instanceof ff?t.version:Mc.min()}var Xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(to.c)(e,t),e}(Wh),tf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(to.c)(e,t),e}(Wh);function ef(t,e){return function(t,e){var n=new cf(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof ff?e.data():uf.empty())}var nf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Hh.exists(!0),r}return Object(to.c)(e,t),e}(Wh);function rf(t,e){return e}function of(t,e,n){for(var r=new cf(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(to.c)(e,t),e}(Wh),af=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(to.c)(e,t),e}(Wh),uf=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ql(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Dl(this.proto,t.proto)},t}(),cf=function(){function t(t){void 0===t&&(t=uf.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===kl(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Pc.X(),this._n);return null!=t?new uf(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Ql(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.dn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function lf(t){var e=[];return jl(t.fields||{},function(t,n){var r=new Pc([t]);if(Ql(n)){var i=lf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new qh(e)}var hf=function(t,e){this.key=t,this.version=e},ff=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(to.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(hf),df=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(to.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hf),pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(hf),gf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.In=null,this.mn=null};function bf(t,e,n,r,i,o,s,a){return new gf(t,e,n,r,i,o,s,a)}function vf(t){return new gf(t)}function yf(t){return!Uc(t.limit)&&"F"===t.limitType}function mf(t){return!Uc(t.limit)&&"L"===t.limitType}function wf(t){return t.Tn.length>0?t.Tn[0].field:null}function _f(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Of(t){return null!==t.collectionGroup}function If(t){var e=yc(t);if(null===e.In){e.In=[];var n=_f(e),r=wf(e);if(null!==n&&null===r)n.tt()||e.In.push(new Bf(n)),e.In.push(new Bf(Pc.et(),"asc"));else{for(var i=!1,o=0,s=e.Tn;o<s.length;o++){var a=s[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Bf(Pc.et(),u))}}}return e.In}function Ef(t){var e=yc(t);if(!e.mn)if("F"===e.limitType)e.mn=qc(e.path,e.collectionGroup,If(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=If(e);r<i.length;r++){var o=i[r];n.push(new Bf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new zf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new zf(e.startAt.position,!e.startAt.before):null;e.mn=qc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.mn}function Tf(t,e,n){return new gf(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cf(t,e){return Bc(Ef(t),Ef(e))&&t.limitType===e.limitType}function jf(t){return Kc(Ef(t))+"|lt:"+t.limitType}function Sf(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+Ul(e.value);var e}).join(", ")+"]"),Uc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ff(t.startAt)),t.endAt&&(e+=", endAt: "+Ff(t.endAt)),"Target("+e+")"}(Ef(t))+"; limitType="+t.limitType+")"}function xf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):Rc.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!qf(t.startAt,If(t),e)||t.endAt&&qf(t.endAt,If(t),e))}(t,e)}function Af(t){return function(e,n){for(var r=!1,i=0,o=If(t);i<o.length;i++){var s=o[i],a=Hf(s,e,n);if(0!==a)return a;r=r||s.field.tt()}return 0}}var Nf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(to.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Mf(t,n,r):"array-contains"===n?new Pf(t,r):"in"===n?new Rf(t,r):"not-in"===n?new Uf(t,r):"array-contains-any"===n?new Vf(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new kf(t,n):new Df(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Pl(e,this.value)):null!==e&&kl(this.value)===kl(e)&&this.Pn(Pl(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return bc()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Rc.it(r.referenceValue),i}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=Rc.$(t.key,this.key);return this.Pn(e)},e}(Nf),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Lf(0,n),r}return Object(to.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nf),Df=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Lf(0,n),r}return Object(to.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Nf);function Lf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Rc.it(t.referenceValue)})}var Pf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Hl(e)&&Ll(e.arrayValue,this.value)},e}(Nf),Rf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ll(this.value.arrayValue,e)},e}(Nf),Uf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ll(this.value.arrayValue,e)},e}(Nf),Vf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(to.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ll(e.value.arrayValue,t)})},e}(Nf),zf=function(t,e){this.position=t,this.before=e};function Ff(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ul(t)}).join(",")}function qf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.tt()?Rc.$(Rc.it(s.referenceValue),n.key):Pl(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Kf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Dl(t.position[n],e.position[n]))return!1;return!0}var Bf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Hf(t,e,n){var r=t.field.tt()?Rc.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pl(r,i):bc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bc()}}function Gf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Wf=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Qh(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=$h(i,e,e,this.gn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=$h(u,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},hl())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&xc(this.mutations,t.mutations,function(t,e){return Jh(t,e)})&&xc(this.baseMutations,t.baseMutations,function(t,e){return Jh(t,e)})},t}(),Qf=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){vc(e.mutations.length===r.length);for(var i=cl,o=e.mutations,s=0;s<o.length;s++)i=i.Tt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),$f=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.Cn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){jl(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.W=function(){return Sl(this.Nn)},t}(),Yf=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&bc(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Jf=function(){function t(){this.Qn=new $f(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Mc.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Yf.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Zf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Xf(t){return new Jl(t,!0)}function td(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var ed="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",nd=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),rd=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=sl();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=ol();return i.forEach(function(t,e){e||(e=new df(t,Mc.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return Rc.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Of(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new Rc(e)).next(function(t){var e=ul();return t instanceof ff&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=ul();return this.os.As(t,i).next(function(s){return Yf.forEach(s,function(s){var a=function(t,e){return new gf(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return o.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=$h(u,l,l,o.gn);r=h instanceof ff?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){xf(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=hl(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof tf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof ff&&(c=c.Tt(t,e))}),c})},t}(),id=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=hl(),i=hl(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),od=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();od.Ds=-1;var sd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&fc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),ad=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(ro.h)())&&dc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return fc("SimpleDb","Removing database:",t),dd(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(ro.h)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(fc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new cd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new wc(mc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new cd(t,n))},i.onupgradeneeded=function(t){fc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){fc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(to.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=hd.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Yf.reject(t)}).Ln(),u={},s.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return fc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ud=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return dd(this.ni.delete())},t}(),cd=function(t){function e(e,n){var r=this;return(r=t.call(this,mc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(to.c)(e,t),e}(wc);function ld(t){return"IndexedDbTransactionError"===t.name}var hd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Zf,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new cd(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=gd(e.target.error);n.ci.reject(new cd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new cd(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(fc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new fd(e)},t}(),fd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(fc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(fc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dd(n)},t.prototype.add=function(t){return fc("SimpleDb","ADD",this.store.name,t,t),dd(this.store.add(t))},t.prototype.get=function(t){var e=this;return dd(this.store.get(t)).next(function(n){return void 0===n&&(n=null),fc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return fc("SimpleDb","DELETE",this.store.name,t),dd(this.store.delete(t))},t.prototype.count=function(){return fc("SimpleDb","COUNT",this.store.name),dd(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){fc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Yf(function(n,r){e.onerror=function(t){var e=gd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Yf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ud(i),s=e(i.primaryKey,i.value,o);if(s instanceof Yf){var a=s.catch(function(t){return o.done(),Yf.reject(t)});n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return Yf.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dd(t){return new Yf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=gd(t.target.error);n(e)}})}var pd=!1;function gd(t){var e=ad.js(Object(ro.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new wc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return pd||(pd=!0,setTimeout(function(){throw r},0)),r}}return t}function bd(){return"undefined"!=typeof window?window:null}function vd(){return"undefined"!=typeof document?document:null}var yd=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Zf,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new wc(mc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),md=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new sd(this,"async_queue_retry"),this.Di=function(){var e=vd();e&&fc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=vd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=vd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e=this;return Object(to.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!ld(t=n.sent()))throw t;return fc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,dc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=yd.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&bc()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(to.b)(this,void 0,void 0,function(){var t;return Object(to.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function wd(t,e){if(dc("AsyncQueue",e+": "+t),ld(t))return new wc(mc.UNAVAILABLE,e+": "+t);throw t}function _d(t,e){var n=t[1],r=e[1],i=Sc(t[0],e[0]);return 0===i?Sc(n,r):i}var Od=function(){function t(t){this.Ki=t,this.buffer=new nl(_d),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();_d(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Id={zi:!1,Hi:0,Ji:0,Yi:0},Ed=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Ed.nr=10,Ed.sr=1e3,Ed.ir=new Ed(41943040,Ed.nr,Ed.sr),Ed.rr=new Ed(-1,0,0);var Td=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;fc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return ld(e=n.sent())?(fc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),Cd=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Yf.resolve(od.Ds);var r=new Od(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(fc("LruGarbageCollector","Garbage collection skipped; disabled"),Yf.resolve(Id)):this.Pr(t).next(function(r){return r<n.params.Xi?(fc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Id):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(fc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,s=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),hc()<=no.a.DEBUG&&fc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Yf.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),jd=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Mc.min())?this.pr(t,e):this.Vr._s(t,r).next(function(o){var s=i.vr(e,o);return(yf(e)||mf(e))&&i.br(e.limitType,s,r,n)?i.pr(t,e):(hc()<=no.a.DEBUG&&fc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Sf(e)),i.Vr.ws(t,e,n).next(function(t){return s.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new nl(Af(t));return e.forEach(function(e,r){r instanceof ff&&xf(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return hc()<=no.a.DEBUG&&fc("QueryEngine","Using full collection scan to execute query:",Sf(e)),this.Vr.ws(t,e,Mc.min())},t}();function Sd(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ad(e)),e=xd(t.get(n),e);return Ad(e)}function xd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ad(t){return t+"\x01\x01"}function Nd(t){var e=t.length;if(vc(e>=2),2===e)return vc("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Dc.X();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&bc(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:bc()}o=s+2}return new Dc(r)}var Md=function(t){this.Sr=t};function kd(t,e){if(e.document)return function(t,e,n){var r=uh(t,e.name),i=ih(e.updateTime),o=new uf({mapValue:{fields:e.fields}});return new ff(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Rc.ct(e.noDocument.path),r=Ud(e.noDocument.readTime);return new df(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Rc.ct(e.unknownDocument.path),o=Ud(e.unknownDocument.version);return new pf(i,o)}return bc()}function Dd(t,e,n){var r=Ld(n),i=e.key.path.q().H();if(e instanceof ff){var o=function(t,e){return{name:ah(t,e.key),fields:e.En().mapValue.fields,updateTime:eh(t,e.version.M())}}(t.Sr,e);return new hp(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof df){var s=e.key.path.H(),a=Rd(e.version),u=e.hasCommittedMutations;return new hp(null,new cp(s,a),null,u,r,i)}if(e instanceof pf){var c=e.key.path.H(),l=Rd(e.version);return new hp(new lp(c,l),null,null,!0,r,i)}return bc()}function Ld(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Pd(t){var e=new Nc(t[0],t[1]);return Mc.N(e)}function Rd(t){var e=t.M();return new ip(e.seconds,e.nanoseconds)}function Ud(t){var e=new Nc(t.seconds,t.nanoseconds);return Mc.N(e)}function Vd(t,e){var n=(e.baseMutations||[]).map(function(e){return gh(t.Sr,e)}),r=e.mutations.map(function(e){return gh(t.Sr,e)}),i=Nc.fromMillis(e.localWriteTimeMs);return new Wf(e.batchId,i,n,r)}function zd(t){var e,n,r=Ud(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ud(t.lastLimboFreeSnapshotVersion):Mc.min();return void 0!==t.query.documents?(vc(1===(n=t.query).documents.length),e=Ef(vf(lh(n.documents[0])))):e=function(t){return Ef(yh(t))}(t.query),new $c(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Gc.fromBase64String(t.resumeToken))}function Fd(t,e){var n,r=Rd(e.ft),i=Rd(e.lastLimboFreeSnapshotVersion);n=Hc(e.target)?bh(t.Sr,e.target):vh(t.Sr,e.target);var o=e.resumeToken.toBase64();return new dp(e.targetId,Kc(e.target),r,o,e.sequenceNumber,i,n)}function qd(t){var e=yh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Tf(e,e.limit,"L"):e}var Kd=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return vc(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t)._i({index:ap.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,o=Wd(t),s=Gd(t);return s.add({}).next(function(a){vc("number"==typeof a);for(var u=new Wf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return ph(t.Sr,e)}),i=n.mutations.map(function(e){return ph(t.Sr,e)});return new ap(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new nl(function(t,e){return Sc(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],g=up.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(s.put(c)),l.push(o.put(g,up.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=u.keys()}),Yf.qn(l).next(function(){return u})})},t.prototype.kr=function(t,e){var n=this;return Gd(t).get(e).next(function(t){return t?(vc(t.userId===n.userId),Vd(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?Yf.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Gd(t)._i({index:ap.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(vc(e.batchId>=r),o=Vd(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gd(t)._i({index:ap.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t).ui(ap.userMutationsIndex,n).next(function(t){return t.map(function(t){return Vd(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=up.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Wd(t)._i({range:i},function(r,i,s){var a=r[0],u=r[2],c=Nd(r[1]);if(a===n.userId&&e.path.isEqual(c))return Gd(t).get(u).next(function(t){if(!t)throw bc();vc(t.userId===n.userId),o.push(Vd(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new nl(Sc),i=[];return e.forEach(function(e){var o=up.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Wd(t)._i({range:s},function(t,i,o){var s=t[0],a=t[2],u=Nd(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Yf.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=up.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new nl(Sc);return Wd(t)._i({range:s},function(t,e,o){var s=t[0],u=t[2],c=Nd(t[1]);s===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Gd(t).get(e).next(function(t){if(null===t)throw bc();vc(t.userId===n.userId),r.push(Vd(n.serializer,t))}))}),Yf.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return Hd(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),Yf.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return Yf.resolve();var r=IDBKeyRange.lowerBound(up.prefixForUser(e.userId)),i=[];return Wd(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=Nd(t[1]);i.push(o)}else r.done()}).next(function(){vc(0===i.length)})})},t.prototype.zr=function(t,e){return Bd(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Qd(t).get(this.userId).next(function(t){return t||new sp(e.userId,-1,"")})},t}();function Bd(t,e,n){var r=up.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Wd(t)._i({range:o,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Hd(t,e,n){var r=t.store(ap.store),i=t.store(up.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){vc(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=up.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yf.qn(o).next(function(){return c})}function Gd(t){return Dp.Ys(t,ap.store)}function Wd(t){return Dp.Ys(t,up.store)}function Qd(t){return Dp.Ys(t,sp.store)}var $d=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Zd(t).put(Xd(e),n)},t.prototype.Hn=function(t,e){var n=Zd(t),r=Xd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Zd(t).get(Xd(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return Zd(t).get(Xd(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:tp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=sl();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=sl(),i=new Xc(Rc.$);return this.Zr(t,e,function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,tp(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return Yf.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Zd(t)._i({range:r},function(t,e,r){for(var s=Rc.ct(t);o&&Rc.$(o,s)<0;)n(o,null),o=i.Ct();o&&o.isEqual(s)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=ul(),o=e.path.length+1,s={};if(n.isEqual(Mc.min())){var a=e.path.H();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=Ld(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=hp.collectionReadTimeIndex}return Zd(t)._i(s,function(t,n,s){if(t.length===o){var a=kd(r.serializer,n);e.path.j(a.key.path)?a instanceof ff&&xf(e,a)&&(i=i.Tt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.io=function(t){return new Yd(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Jd(t).get(fp.key).next(function(t){return vc(!!t),t})},t.prototype.Jr=function(t,e){return Jd(t).put(fp.key,e)},t.prototype.Yr=function(t){if(t){var e=kd(this.serializer,t);return e instanceof df&&e.version.isEqual(Mc.min())?null:e}return null},t}(),Yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new $f(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(to.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new nl(function(t,e){return Sc(t.J(),e.J())});return this.Qn.forEach(function(o,s){var a=e.uo.get(o);if(s.zn){var u=Dd(e.co.serializer,s.zn,e.Wn(o));i=i.add(o.path.q());var c=tp(u);r+=c-a,n.push(e.co.jn(t,o,u))}else if(r-=a,e.ro){var l=Dd(e.co.serializer,new df(o,Mc.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),Yf.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(Jf);function Jd(t){return Dp.Ys(t,fp.store)}function Zd(t){return Dp.Ys(t,hp.store)}function Xd(t){return t.path.H()}function tp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw bc();e=t.noDocument}return JSON.stringify(e).length}var ep=function(){function t(){this.ao=new np}return t.prototype.Mr=function(t,e){return this.ao.add(e),Yf.resolve()},t.prototype.As=function(t,e){return Yf.resolve(this.ao.getEntries(e))},t}(),np=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new nl(Dc.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nl(Dc.$)).H()},t}(),rp=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;vc(n<r&&n>=0&&r<=11);var o=new hd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(op.store)}(t),function(t){t.createObjectStore(sp.store,{keyPath:sp.keyPath}),t.createObjectStore(ap.store,{keyPath:ap.keyPath,autoIncrement:!0}).createIndex(ap.userMutationsIndex,ap.userMutationsKeyPath,{unique:!0}),t.createObjectStore(up.store)}(t),vp(t),function(t){t.createObjectStore(hp.store)}(t));var s=Yf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(pp.store),t.deleteObjectStore(dp.store),t.deleteObjectStore(gp.store)}(t),vp(t)),s=s.next(function(){return function(t){var e=t.store(gp.store),n=new gp(0,0,Mc.min().M(),0);return e.put(gp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(ap.store).ui().next(function(n){t.deleteObjectStore(ap.store),t.createObjectStore(ap.store,{keyPath:ap.keyPath,autoIncrement:!0}).createIndex(ap.userMutationsIndex,ap.userMutationsKeyPath,{unique:!0});var r=e.store(ap.store),i=n.map(function(t){return r.put(t)});return Yf.qn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(yp.store,{keyPath:yp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(fp.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(hp.store);e.createIndex(hp.readTimeIndex,hp.readTimeIndexPath,{unique:!1}),e.createIndex(hp.collectionReadTimeIndex,hp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(mp.store,{keyPath:mp.keyPath})}(t),function(t){t.createObjectStore(wp.store,{keyPath:wp.keyPath})}(t)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(hp.store)._i(function(t,n){e+=tp(n)}).next(function(){var n=new fp(e);return t.store(fp.store).put(fp.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(sp.store),r=t.store(ap.store);return n.ui().next(function(n){return Yf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(ap.userMutationsIndex,i).next(function(r){return Yf.forEach(r,function(r){vc(r.userId===n.userId);var i=Vd(e.serializer,r);return Hd(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(pp.store),n=t.store(hp.store);return t.store(gp.store).get(gp.key).next(function(t){var r=[];return n._i(function(n,i){var o=new Dc(n),s=function(t){return[0,Sd(t)]}(o);r.push(e.get(s).next(function(n){return n?Yf.resolve():function(n){return e.put(new pp(0,Sd(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Yf.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(bp.store,{keyPath:bp.keyPath});var n=e.store(bp.store),r=new np,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:Sd(i)})}};return e.store(hp.store)._i({li:!0},function(t,e){var n=new Dc(t);return i(n.q())}).next(function(){return e.store(up.store)._i({li:!0},function(t,e){var n=Nd(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(dp.store);return n._i(function(t,r){var i=zd(r),o=Fd(e.serializer,i);return n.put(o)})},t}(),ip=function(t,e){this.seconds=t,this.nanoseconds=e},op=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};op.store="owner",op.key="owner";var sp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};sp.store="mutationQueues",sp.keyPath="userId";var ap=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ap.store="mutations",ap.keyPath="batchId",ap.userMutationsIndex="userMutationsIndex",ap.userMutationsKeyPath=["userId","batchId"];var up=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Sd(e)]},t.key=function(t,e,n){return[t,Sd(e),n]},t}();up.store="documentMutations",up.PLACEHOLDER=new up;var cp=function(t,e){this.path=t,this.readTime=e},lp=function(t,e){this.path=t,this.version=e},hp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};hp.store="remoteDocuments",hp.readTimeIndex="readTimeIndex",hp.readTimeIndexPath="readTime",hp.collectionReadTimeIndex="collectionReadTimeIndex",hp.collectionReadTimeIndexPath=["parentPath","readTime"];var fp=function(t){this.byteSize=t};fp.store="remoteDocumentGlobal",fp.key="remoteDocumentGlobalKey";var dp=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};dp.store="targets",dp.keyPath="targetId",dp.queryTargetsIndexName="queryTargetsIndex",dp.queryTargetsKeyPath=["canonicalId","targetId"];var pp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};pp.store="targetDocuments",pp.keyPath=["targetId","path"],pp.documentTargetsIndex="documentTargetsIndex",pp.documentTargetsKeyPath=["path","targetId"];var gp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};gp.key="targetGlobalKey",gp.store="targetGlobal";var bp=function(t,e){this.collectionId=t,this.parent=e};function vp(t){t.createObjectStore(pp.store,{keyPath:pp.keyPath}).createIndex(pp.documentTargetsIndex,pp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dp.store,{keyPath:dp.keyPath}).createIndex(dp.queryTargetsIndexName,dp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gp.store)}bp.store="collectionParents",bp.keyPath=["collectionId","parent"];var yp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};yp.store="clientMetadata",yp.keyPath="clientId";var mp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};mp.store="bundles",mp.keyPath="bundleId";var wp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};wp.store="namedQueries",wp.keyPath="name";var _p=Object(to.g)(Object(to.g)(Object(to.g)(Object(to.g)([sp.store,ap.store,up.store,hp.store,dp.store,op.store,gp.store,pp.store],[yp.store]),[fp.store]),[bp.store]),[mp.store,wp.store]),Op=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return Ip(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ud(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return Ip(t).put({bundleId:(n=e).id,createTime:Rd(ih(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return Ep(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:qd(e.bundledQuery),readTime:Ud(e.readTime)};var e})},t.prototype.fo=function(t,e){return Ep(t).put(function(t){return{name:t.name,readTime:Rd(ih(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ip(t){return Dp.Ys(t,mp.store)}function Ep(t){return Dp.Ys(t,wp.store)}var Tp=function(){function t(){this.wo=new np}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var o={collectionId:r,parent:Sd(i)};return Cp(t).put(o)}return Yf.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ac(e),""],!1,!0);return Cp(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nd(o.parent))}return n})},t}();function Cp(t){return Dp.Ys(t,bp.store)}var jp=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),Sp=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new jp(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return Mc.N(new Nc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return xp(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return vc(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return xp(t)._i(function(s,a){var u=zd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Do(t,u)))}).next(function(){return Yf.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return xp(t)._i(function(t,n){var r=zd(n);e(r)})},t.prototype.Ao=function(t){return Ap(t).get(gp.key).next(function(t){return vc(null!==t),t})},t.prototype.Ro=function(t,e){return Ap(t).put(gp.key,e)},t.prototype.vo=function(t,e){return xp(t).put(Fd(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=Kc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xp(t)._i({range:r,index:dp.queryTargetsIndexName},function(t,n,r){var o=zd(n);Bc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=Np(t);return e.forEach(function(e){var s=Sd(e.path);i.push(o.put(new pp(n,s))),i.push(r.Dr.Oo(t,n,e))}),Yf.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=Np(t);return Yf.forEach(e,function(e){var o=Sd(e.path);return Yf.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=Np(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Np(t),i=hl();return r._i({range:n,li:!0},function(t,e,n){var r=Nd(t[1]),o=new Rc(r);i=i.add(o)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=Sd(e.path),r=IDBKeyRange.bound([n],[Ac(n)],!1,!0),i=0;return Np(t)._i({index:pp.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return xp(t).get(e).next(function(t){return t?zd(t):null})},t}();function xp(t){return Dp.Ys(t,dp.store)}function Ap(t){return Dp.Ys(t,gp.store)}function Np(t){return Dp.Ys(t,pp.store)}var Mp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(to.c)(e,t),e}(nd),Dp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=s,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new wc(mc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new Rp(this,i),this.Ho=n+"main",this.serializer=new Md(u),this.Jo=new ad(this.Ho,11,new rp(this.serializer)),this.Yo=new Sp(this.Dr,this.serializer),this.os=new Tp,this.ss=function(t,e){return new $d(t,e)}(this.serializer,this.os),this.Xo=new Op(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&dc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof kp)return ad.Ys(t.Kr,e);throw bc()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new wc(mc.FAILED_PRECONDITION,Mp);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new od(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Pp(e).put(new yp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(ld(e))return fc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return fc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return Lp(t).get(op.key).next(function(t){return Yf.resolve(e.lc(t))})},t.prototype._c=function(t){return Pp(t).delete(this.clientId)},t.prototype.fc=function(){return Object(to.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(to.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,yp.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Yf.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?Yf.resolve(!0):Lp(t).get(op.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new wc(mc.FAILED_PRECONDITION,Mp);return!1}}return!(!e.networkEnabled||!e.inForeground)||Pp(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&fc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(to.b)(this,void 0,void 0,function(){var t=this;return Object(to.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[op.store,yp.store],function(e){var n=new kp(e,od.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Pp(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Kd.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return fc("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",_p,function(o){return r=new kp(o,i.Uo?i.Uo.next():od.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw dc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new wc(mc.FAILED_PRECONDITION,ed);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return Lp(t).get(op.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new wc(mc.FAILED_PRECONDITION,Mp)})},t.prototype.hc=function(t){var e=new op(this.clientId,this.allowTabSynchronization,Date.now());return Lp(t).put(op.key,e)},t.Gs=function(){return ad.Gs()},t.prototype.ac=function(t){var e=this,n=Lp(t);return n.get(op.key).next(function(t){return e.lc(t)?(fc("IndexedDbPersistence","Releasing primary lease."),n.delete(op.key)):Yf.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(dc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return fc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return dc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){dc("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Lp(t){return Dp.Ys(t,op.store)}function Pp(t){return Dp.Ys(t,yp.store)}var Rp=function(){function t(t,e){this.db=t,this.cr=new Cd(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return Up(t,n)},t.prototype.ko=function(t,e,n){return Up(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return Up(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return Qd(t).fi(function(r){return Bd(t,r,e).next(function(t){return t&&(n=!0),Yf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,function(s,a){if(a<=e){var u=n.xc(t,s).next(function(e){if(!e)return o++,r.Jn(t,s).next(function(){return r.Hn(s),Np(t).delete([0,Sd(s.path)])})});i.push(u)}}).next(function(){return Yf.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return Up(t,e)},t.prototype.Nc=function(t,e){var n,r=Np(t),i=od.Ds;return r._i({index:pp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==od.Ds&&e(new Rc(Nd(n)),i),i=s,n=o):i=od.Ds}).next(function(){i!==od.Ds&&e(new Rc(Nd(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function Up(t,e){return Np(t).put(function(t,e){return new pp(0,Sd(t.path),e)}(e,t.Lo))}function Vp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var zp=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new Xc(Sc),this.kc=new $f(function(t){return Kc(t)},Bc),this.$c=Mc.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new rd(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function Fp(t,e,n,r){return new zp(t,e,n,r)}function qp(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:return n=yc(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.qr(t).next(function(s){return o=s,r=n.persistence.yc(e),i=new rd(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],s=hl(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i._s(t,s).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return o=s.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}})})}function Kp(t,e){var n=yc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Yf.resolve();return o.forEach(function(t){s=s.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,s=n.Sn.get(t);vc(null!==s),(!o||o.version.F(s)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),s.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function Bp(t){var e=yc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function Hp(t,e){var n=yc(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var s=[];e.re.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.Yo.Mo(t,e.de,o).next(function(){return n.Yo.Fo(t,e._e,o)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return vc(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&s.push(n.Yo.So(t,c))}}});var a=ol();if(e.ce.forEach(function(r,i){e.ue.has(r)&&s.push(n.persistence.Dr.Fc(t,r))}),s.push(function(t,e,n,r,i){var o=hl();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var i=ol();return n.forEach(function(n,o){var s=t.get(n),a=r;o instanceof df&&o.version.isEqual(Mc.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==s||o.version.F(s.version)>0||0===o.version.F(s.version)&&s.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):fc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),i})}(t,o,e.ce,r).next(function(t){a=t})),!r.isEqual(Mc.min())){var u=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});s.push(u)}return Yf.qn(s).next(function(){return o.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function Gp(t,e){var n=yc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function Wp(t,e){var n=yc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?Yf.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new $c(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function Qp(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:r=yc(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ld(s=a.sent()))throw s;return fc("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function $p(t,e,n){var r=yc(t),i=Mc.min(),o=hl();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=yc(t),i=r.kc.get(n);return void 0!==i?Yf.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,Ef(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Oc.ws(t,e,n?i:Mc.min(),n?o:hl())}).next(function(t){return{documents:t,Kc:o}})})}function Yp(t,e){var n=yc(t),r=yc(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function Jp(t){var e=yc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=yc(t),i=ol(),o=Ld(n),s=Zd(e),a=IDBKeyRange.lowerBound(o,!0);return s._i({index:hp.readTimeIndex,range:a},function(t,e){var n=kd(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{Wc:i,readTime:Pd(o)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function Zp(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){return[2,(e=yc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Zd(t),n=Mc.min();return e._i({index:hp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Pd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function Xp(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){if(t.code!==mc.FAILED_PRECONDITION||t.message!==ed)throw t;return fc("LocalStore","Unexpectedly lost primary lease"),[2]})})}var tg=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new sd(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===mc.RESOURCE_EXHAUSTED?(dc(e.toString()),dc("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===mc.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new wc(mc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(to.b)(t,void 0,void 0,function(){return Object(to.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return fc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():(fc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(to.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:bc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(vc(void 0===e||"string"==typeof e),Gc.fromBase64String(e||"")):(vc(void 0===e||e instanceof Uint8Array),Gc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?mc.UNKNOWN:Zc(t.code);return new wc(e,t.message||"")}(s);n=new _l(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=uh(t,u.document.name),l=ih(u.document.updateTime),h=new uf({mapValue:{fields:u.document.fields}}),f=new ff(c,l,h,{});n=new ml(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=uh(t,d.document),g=d.readTime?ih(d.readTime):Mc.min(),b=new df(p,g);n=new ml([],d.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){var v=e.documentRemove,y=uh(t,v.document);n=new ml([],v.removedTargetIds||[],y,null)}else{if(!("filter"in e))return bc();var m=e.filter,w=new Yc(m.count||0);n=new wl(m.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Mc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Mc.min():e.readTime?ih(e.readTime):Mc.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=hh(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Hc(r)?{documents:bh(t,r)}:{query:vh(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=nh(t,e.resumeToken):e.ft.F(Mc.min())>0&&(n.readTime=eh(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bc()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=hh(this.serializer),e.removeTarget=t,this.su(e)},e}(tg),ng=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Eu=!1,s}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(vc(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(vc(void 0!==e),t.map(function(t){return function(t,e){var n=ih(t.updateTime?t.updateTime:e);n.isEqual(Mc.min())&&(n=ih(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Bh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=ih(t.commitTime);return this.listener.mu(n,e)}return vc(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=hh(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ph(e.serializer,t)})};this.su(n)},e}(tg),rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(to.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new wc(mc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===mc.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===mc.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),ig=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(dc(e),this.Su=!1):fc("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),og=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(to.b)(o,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return pg(this)?(fc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return(e=yc(t)).Bu.add(4),[4,ag(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,sg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new ig(n,r)};function sg(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:if(!pg(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ag(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ug(t,e){var n=yc(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),dg(n)?fg(n):xg(n).Xc()&&lg(n,e))}function cg(t,e){var n=yc(t),r=xg(n);n.Lu.delete(e),r.Xc()&&hg(n,e),0===n.Lu.size&&(r.Xc()?r.eu():pg(n)&&n.Ku.set("Unknown"))}function lg(t,e){t.Wu.De(e.targetId),xg(t).du(e)}function hg(t,e){t.Wu.De(e),xg(t).wu(e)}function fg(t){t.Wu=new Il({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),xg(t).start(),t.Ku.Du()}function dg(t){return pg(t)&&!xg(t).Yc()&&t.Lu.size>0}function pg(t){return 0===yc(t).Bu.size}function gg(t){t.Wu=void 0}function bg(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return t.Lu.forEach(function(e,n){lg(t,e)}),[2]})})}function vg(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){return gg(t),dg(t)?(t.Ku.xu(e),fg(t)):t.Ku.set("Unknown"),[2]})})}function yg(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:if(t.Ku.set("Online"),!(e instanceof _l&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),fc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ml?t.Wu.$e(e):e instanceof wl?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Mc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Bp(t.Ou)];case 8:return i=s.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Gc.lt,n.ft)),hg(t,e);var r=new $c(n.target,e,1,n.sequenceNumber);lg(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return fc("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,mg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function mg(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:if(!ld(e))throw e;return t.Bu.add(1),[4,ag(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Bp(t.Ou)}),t.di.Mi(function(){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return fc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,sg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function wg(t,e){return e().catch(function(n){return mg(t,n,e)})}function _g(t){return Object(to.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:e=yc(t),n=Ag(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return pg(t)&&t.$u.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Gp(e.Ou,r)];case 3:return null===(i=s.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=Ag(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,mg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Og(e)&&Ig(e),[2]}})})}function Og(t){return pg(t)&&!Ag(t).Yc()&&t.$u.length>0}function Ig(t){Ag(t).start()}function Eg(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return Ag(t).Ru(),[2]})})}function Tg(t){return Object(to.b)(this,void 0,void 0,function(){var e,n,r;return Object(to.d)(this,function(i){for(e=Ag(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function Cg(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:return r=t.$u.shift(),i=Qf.from(r,e,n),[4,wg(t,function(){return t.ku.zu(i)})];case 1:return o.sent(),[4,_g(t)];case 2:return o.sent(),[2]}})})}function jg(t,e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return e&&Ag(t).Tu?[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return Jc(r=e.code)&&r!==mc.ABORTED?(n=t.$u.shift(),Ag(t).tu(),[4,wg(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Og(t)&&Ig(t),[2]}})})}function Sg(t,e){return Object(to.b)(this,void 0,void 0,function(){var n;return Object(to.d)(this,function(r){switch(r.label){case 0:return n=yc(t),e?(n.Bu.delete(2),[4,sg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,ag(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xg(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=yc(t);return r.gu(),new eg(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:bg.bind(null,t),ou:vg.bind(null,t),fu:yg.bind(null,t)}),t.qu.push(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),dg(t)?fg(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),gg(t),e.label=3;case 3:return[2]}})})})),t.Ju}function Ag(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=yc(t);return r.gu(),new ng(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:Eg.bind(null,t),ou:jg.bind(null,t),Au:Tg.bind(null,t),mu:Cg.bind(null,t)}),t.qu.push(function(n){return Object(to.b)(e,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,_g(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(fc("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var Ng=function(){this.Xu=void 0,this.listeners=[]},Mg=function(){this.queries=new $f(function(t){return jf(t)},Cf),this.onlineState="Unknown",this.Zu=new Set};function kg(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:if(n=yc(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ng),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.ta(r)];case 2:return s.Xu=c.sent(),[3,4];case 3:return a=c.sent(),u=wd(a,"Initialization of query '"+Sf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&Rg(n),[2]}})})}function Dg(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(to.d)(this,function(a){return n=yc(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function Lg(t,e){for(var n=yc(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].na(s)&&(r=!0);a.Xu=s}}r&&Rg(n)}function Pg(t,e,n){var r=yc(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Rg(t){t.Zu.forEach(function(t){t.next()})}var Ug=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new bl(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=bl.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),Vg=function(){function t(){this.la=new nl(zg._a),this.fa=new nl(zg.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new zg(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new zg(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new Rc(new Dc([])),r=new zg(n,t),i=new zg(n,t+1),o=[];return this.fa.Kt([r,i],function(t){e.Ea(t),o.push(t.key)}),o},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new Rc(new Dc([])),n=new zg(e,t),r=new zg(e,t+1),i=hl();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new zg(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),zg=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return Rc.$(t.key,e.key)||Sc(t.Ra,e.Ra)},t.da=function(t,e){return Sc(t.Ra,e.Ra)||Rc.$(t.key,e.key)},t}();function Fg(t,e){return"firestore_clients_"+t+"_"+e}function qg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Kg(t,e){return"firestore_targets_"+t+"_"+e}var Bg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new wc(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(dc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new wc(r.error.code,r.error.message)),i?new t(e,r.state,o):(dc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=dl(),s=0;i&&s<r.activeTargetIds.length;++s)i=zc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(dc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Wg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(dc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qg=function(){function t(){this.activeTargetIds=dl()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$g=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new Xc(Sc),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=Fg(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new Qg),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(to.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(Fg(this.persistenceKey,r)))&&(o=Gg.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(s=this.storage.getItem(this.ka))&&(a=this.Ba(s))&&this.qa(a),u=0,c=this.Ca;u<c.length;u++)this.Sa(c[u]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Kg(this.persistenceKey,t));if(n){var r=Hg.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Kg(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return fc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){fc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){fc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(fc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void dc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(to.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(to.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(s=function(t){var e=od.Ds;if(null!=t)try{var n=JSON.parse(t);vc("number"==typeof n),e=n}catch(t){dc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==od.Ds&&this.ps(s);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Bg(this.currentUser,t,e,n),i=qg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=qg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Kg(this.persistenceKey,t),i=new Hg(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Gg.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Bg.Pa(new cc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Hg.Pa(r,e)},t.prototype.Ba=function(t){return Wg.Pa(t)},t.prototype._h=function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(fc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.va.Ih(s,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=dl();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Yg=function(){function t(){this.mh=new Qg,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new Qg,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),Jg=function(t){this.key=t},Zg=function(t){this.key=t},Xg=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=hl(),this.ee=hl(),this.yh=Af(t),this.Vh=new pl(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new gl,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,s=i,a=!1,u=yf(this.query)&&i.size===this.query.limit?i.last():null,c=mf(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof ff?e:null;h&&(h=xf(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.yh(h,u)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),yf(this.query)||mf(this.query))for(;s.size>this.query.limit;){var l=yf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:s,Sh:r,br:a,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bc()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var s=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,u=a!==this.Ph;return this.Ph=a,0!==o.length||u?{snapshot:new bl(this.query,t.Vh,i,o,t.ee,0===a,u,!1),xh:s}:{xh:s}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new gl,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=hl(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new Zg(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new Jg(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=hl();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return bl.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),tb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},eb=function(t){this.key=t,this.kh=!1},nb=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new $f(function(t){return jf(t)},Cf),this.Kh=new Map,this.Wh=[],this.jh=new Xc(Rc.$),this.Gh=new Map,this.zh=new Vg,this.Hh={},this.Jh=new Map,this.Yh=jp.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function rb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:return n=Mb(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,Wp(n.Ou,Ef(e))];case 2:return o=a.sent(),s=n.Bh.Ha(o.targetId),[4,ib(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Zh&&ug(n.$h,o),a.label=4;case 4:return[2,r]}})})}function ib(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(to.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,$p(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),s=e.view.Zn(i,t.Zh,o),[2,(vb(t,e.targetId,s.xh),s.snapshot)]}})})}(t,e,n,r)},[4,$p(t.Ou,e,!0)];case 1:return i=l.sent(),o=new Xg(e,i.Kc),s=o.bh(i.documents),a=yl.he(n,r&&"Offline"!==t.onlineState),u=o.Zn(s,t.Zh,a),vb(t,n,u.xh),c=new tb(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),u.snapshot)]}})})}function ob(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:return n=yc(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!Cf(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,Qp(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),cg(n.$h,r.targetId),gb(n,r.targetId)}).catch(Xp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return gb(n,r.targetId),[4,Qp(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function sb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:r=kb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=yc(t),i=Nc.now(),o=e.reduce(function(t,e){return t.add(e.key)},hl());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Yh(c,n.get(c.key));null!=l&&s.push(new tf(c.key,l,lf(l.proto.mapValue),Hh.exists(!0)))}return r.rs.Or(t,i,s,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new Xc(Sc)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,wb(r,i.Qn)];case 3:return a.sent(),[4,_g(r.$h)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=wd(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function ab(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:n=yc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hp(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(vc(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?vc(r.kh):t.de.size>0&&(vc(r.kh),r.kh=!1))}),[4,wb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Xp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ub(t,e,n){var r=yc(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=yc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)}),r&&Rg(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function cb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return(r=yc(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(s=(s=new Xc(Rc.$)).Tt(o,new df(o,Mc.min())),a=hl().add(o),u=new vl(Mc.min(),new Map,new nl(Sc),s,a),[4,ab(r,u)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),mb(r),[3,4];case 2:return[4,Qp(r.Ou,e,!1).then(function(){return gb(r,e,n)}).catch(Xp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function lb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:n=yc(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Kp(n.Ou,e)];case 2:return i=o.sent(),pb(n,r,null),db(n,r),n.Bh.Ga(r,"acknowledged"),[4,wb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:r=yc(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=yc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return vc(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=o.sent(),pb(r,e,n),db(r,e),r.Bh.Ga(e,"rejected",n),[4,wb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Xp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function fb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:pg((n=yc(t)).$h)||fc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=yc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=a.sent(),s=wd(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function db(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function pb(t,e,n){var r=yc(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function gb(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||bb(t,e)})}function bb(t,e){var n=t.jh.get(e);null!==n&&(cg(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),mb(t))}function vb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Jg?(t.zh.Oo(o.key,e),yb(t,o)):o instanceof Zg?(fc("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||bb(t,o.key)):bc()}}function yb(t,e){var n=e.key;t.jh.get(n)||(fc("SyncEngine","New document in limbo: "+n),t.Wh.push(n),mb(t))}function mb(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new eb(e)),t.jh=t.jh.Tt(e,n),ug(t.$h,new $c(Ef(vf(e.path)),n,2,od.Ds))}}function wb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:return r=yc(t),i=[],o=[],s=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){s.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=id.Vs(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(to.d)(this,function(l){switch(l.label){case 0:n=yc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Yf.forEach(e,function(e){return Yf.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return Yf.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ld(r=l.sent()))throw r;return fc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Mc.get(a),c=u.Et(u.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function _b(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return(n=yc(t)).currentUser.isEqual(e)?[3,3]:(fc("SyncEngine","User change. New user:",e.h()),[4,qp(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new wc(mc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,wb(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Ob(t,e){var n=yc(t),r=n.Gh.get(e);if(r&&r.kh)return hl().add(r.key);var i=hl(),o=n.Kh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Qh.get(a[s]);i=i.Gt(u.view.ph)}return i}function Ib(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:return[4,$p((n=yc(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&vb(n,e.targetId,i.xh),i)]}})})}function Eb(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){return[2,Jp((e=yc(t)).Ou).then(function(t){return wb(e,t)})]})})}function Tb(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=yc(t),r=yc(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):Yf.resolve(null)})})}((i=yc(t)).Ou,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,_g(i.$h)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(pb(i,e,r||null),db(i,e),function(t,e){yc(yc(t).rs).Wr(e)}(i.Ou,e)):bc(),s.label=4;case 4:return[4,wb(i,o)];case 5:return s.sent(),[3,7];case 6:fc("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Cb(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return Mb(n=yc(t)),kb(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,jb(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,Sg(n.$h,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ug(n.$h,s[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],u=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):u=u.then(function(){return gb(n,e),Qp(n.Ou,e,!0)}),cg(n.$h,e)}),[4,u]);case 4:return c.sent(),[4,jb(n,a)];case 5:return c.sent(),function(t){var e=yc(t);e.Gh.forEach(function(t,n){cg(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new Xc(Rc.$)}(n),n.Xh=!1,[4,Sg(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function jb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(to.d)(this,function(g){switch(g.label){case 0:n=yc(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Kh.get(a=s[o]))&&0!==c.length?[4,Wp(n.Ou,Ef(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,Ib(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Yp(n.Ou,a)];case 8:return p=g.sent(),[4,Wp(n.Ou,p)];case 9:return u=g.sent(),[4,ib(n,Sb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function Sb(t){return bf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xb(t){var e=yc(t);return yc(yc(e.Ou).persistence).gc()}function Ab(t,e,n,r){return Object(to.b)(this,void 0,void 0,function(){var i,o,s;return Object(to.d)(this,function(a){switch(a.label){case 0:return(i=yc(t)).Xh?(fc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Jp(i.Ou)];case 3:return o=a.sent(),s=vl.ae(e,"current"===n),[4,wb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Qp(i.Ou,e,!0)];case 6:return a.sent(),gb(i,e,r),[3,8];case 7:bc(),a.label=8;case 8:return[2]}})})}function Nb(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(to.d)(this,function(f){switch(f.label){case 0:if(!(r=Mb(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(s=o[i])?(fc("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yp(r.Ou,s)]:[3,6];case 2:return a=f.sent(),[4,Wp(r.Ou,a)];case 3:return u=f.sent(),[4,ib(r,Sb(a),u.targetId,!1)];case 4:f.sent(),ug(r.$h,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(to.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,Qp(r.Ou,t,!1).then(function(){cg(r.$h,t),gb(r,t)}).catch(Xp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Mb(t){var e=yc(t);return e.$h.ku.Gu=ab.bind(null,e),e.$h.ku.Xe=Ob.bind(null,e),e.$h.ku.ju=cb.bind(null,e),e.Uh.fu=Lg.bind(null,e.Lh),e.Uh.el=Pg.bind(null,e.Lh),e}function kb(t){var e=yc(t);return e.$h.ku.zu=lb.bind(null,e),e.$h.ku.Hu=hb.bind(null,e),e}var Db=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new nl(zg._a)}return t.prototype.Fr=function(t){return Yf.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new Wf(i,e,n,r);this.rs.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.sl=this.sl.add(new zg(u.key,i)),this.os.Mr(t,u.key.path.q())}return Yf.resolve(o)},t.prototype.kr=function(t,e){return Yf.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Yf.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return Yf.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return Yf.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new zg(e,0),i=new zg(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);o.push(e)}),Yf.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new nl(Sc);return e.forEach(function(t){var e=new zg(t,0),i=new zg(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),Yf.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;Rc.ot(i)||(i=i.child(""));var o=new zg(new Rc(i),0),s=new nl(Sc);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(s=s.add(t.Ra)),!0)},o),Yf.resolve(this.ol(s))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;vc(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Yf.forEach(e.mutations,function(i){var o=new zg(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new zg(e,0),r=this.sl.jt(n);return Yf.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return Yf.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Lb=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Xc(Rc.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:s,readTime:n}),this.size+=s-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Yf.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=sl();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Yf.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=ul(),i=new Rc(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var s=o.Ct(),a=s.value,u=a.zn,c=a.readTime;if(!e.path.j(s.key.path))break;c.F(n)<=0||u instanceof ff&&xf(e,u)&&(r=r.Tt(u.key,u))}return Yf.resolve(r)},t.prototype.al=function(t,e){return Yf.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new Pb(this)},t.prototype.oo=function(t){return Yf.resolve(this.size)},t}(),Pb=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(to.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),Yf.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(Jf),Rb=function(){function t(t){this.persistence=t,this.hl=new $f(function(t){return Kc(t)},Bc),this.lastRemoteSnapshotVersion=Mc.min(),this.highestTargetId=0,this.ll=0,this._l=new Vg,this.targetCount=0,this.fl=jp.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Yf.resolve()},t.prototype.Po=function(t){return Yf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return Yf.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),Yf.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Yf.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new jp(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,Yf.resolve()},t.prototype.So=function(t,e){return this.vo(e),Yf.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,Yf.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(s),o.push(r.Co(t,a.targetId)),i++)}),Yf.qn(o).next(function(){return i})},t.prototype.No=function(t){return Yf.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return Yf.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),Yf.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),Yf.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),Yf.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return Yf.resolve(n)},t.prototype.zr=function(t,e){return Yf.resolve(this._l.zr(e))},t}(),Ub=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return Yf.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:ih(n.createTime)}),Yf.resolve()},t.prototype._o=function(t,e){return Yf.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:qd(n.bundledQuery),readTime:ih(n.readTime)}),Yf.resolve()},t}(),Vb=function(){function t(t,e){var n=this;this.El={},this.Uo=new od(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new Rb(this),this.os=new ep,this.ss=function(t,e){return new Lb(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new Md(e),this.Xo=new Ub(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new Db(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;fc("MemoryPersistence","Starting transaction:",t);var i=new zb(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Yf.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),zb=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(to.c)(e,t),e}(nd),Fb=function(){function t(t){this.persistence=t,this.Rl=new Vg,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw bc()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),Yf.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),Yf.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),Yf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return Yf.forEach(this.yl,function(r){var i=Rc.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Yf.Un([function(){return Yf.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),qb=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Kb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(to.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,o){var s=new oc;s.listenOnce(nc.COMPLETE,function(){try{switch(s.getLastErrorCode()){case ec.NO_ERROR:var e=s.getResponseJson();fc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ec.TIMEOUT:fc("Connection",'RPC "'+t+'" timed out'),o(new wc(mc.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:var n=s.getStatus();if(fc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(mc).indexOf(e)>=0?e:mc.UNKNOWN}(r.status);o(new wc(a,r.message))}else o(new wc(mc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new wc(mc.UNAVAILABLE,"Connection failed."));break;default:bc()}}finally{fc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Yu,i=Xs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(ro.m)()||Object(ro.o)()||Object(ro.k)()||Object(ro.l)()||Object(ro.p)()||Object(ro.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");fc("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new qb({pl:function(t){c?fc("Connection","Not sending because WebChannel is closed:",t):(u||(fc("Connection","Opening WebChannel transport."),a.open(),u=!0),fc("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,ic.EventType.OPEN,function(){c||fc("Connection","WebChannel transport opened.")}),h(a,ic.EventType.CLOSE,function(){c||(c=!0,fc("Connection","WebChannel transport closed"),l.Nl())}),h(a,ic.EventType.ERROR,function(t){c||(c=!0,pc("Connection","WebChannel transport errored:",t),l.Nl(new wc(mc.UNAVAILABLE,"The operation could not be completed")))}),h(a,ic.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];vc(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){fc("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Wc[t];if(void 0!==e)return Zc(e)}(i),s=r.message;void 0===o&&(o=mc.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new wc(o,s)),a.close()}else fc("Connection","WebChannel received:",n),l.xl(n)}}),h(i,rc.STAT_EVENT,function(t){10===t.stat?fc("Connection","Detected buffering proxy"):11===t.stat&&fc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);fc("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then(function(t){return fc("RestConnection","Received: ",t),t},function(e){throw pc("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Kb[t]},t}()),Hb=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){fc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){fc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Gb=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),Wb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return this.serializer=Xf(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Fp(this.persistence,new jd,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Vb(Fb.gl,this.serializer)},t.prototype.jl=function(t){return new Yg},t.prototype.terminate=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),Qb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(to.c)(e,t),e.prototype.initialize=function(e){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Zp(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,kb(this.Xl.va)];case 4:return n.sent(),[4,_g(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Fp(this.persistence,new jd,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Td(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=Vp(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Ed.er(this.cacheSizeBytes):Ed.ir;return new Dp(this.synchronizeTabs,e,t.clientId,n,t.di,bd(),vd(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Yg},e}(Wb),$b=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(to.c)(e,t),e.prototype.initialize=function(e){return Object(to.b)(this,void 0,void 0,function(){var n,r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof $g?(this.Bh.va={Eh:Tb.bind(null,n),Th:Ab.bind(null,n),Ih:Nb.bind(null,n),gc:xb.bind(null,n),wh:Eb.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return[4,Cb(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=bd();if(!$g.Gs(e))throw new wc(mc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vp(t.Fl.t,t.Fl.persistenceKey);return new $g(e,t.di,n,t.clientId,t.Yl)},e}(Qb),Yb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return ub(n.va,t,1)},this.$h.ku.s_=_b.bind(null,this.va),[4,Sg(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Mg},t.prototype.Zl=function(t){var e=Xf(t.Fl.t),n=new Bb(t.Fl);return function(t,e,n){return new rg(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return ub(s.va,t,0)},o=Hb.Gs()?new Hb:new Gb,new og(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var a=new nb(t,e,n,r,i,o);return s&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=yc(t),fc("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,ag(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),Jb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Zb(t,e,n){if(!n)throw new wc(mc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Xb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new wc(mc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function tv(t,e,n,r){if(!0===e&&!0===r)throw new wc(mc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ev(t){if(!Rc.ot(t))throw new wc(mc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nv(t){if(Rc.ot(t))throw new wc(mc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":bc()}function iv(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new wc(mc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rv(t);throw new wc(mc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ov(t,e){if(e<=0)throw new wc(mc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var sv=function(t){this._methodName=t},av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(sv);function uv(t,e,n){return new fy({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var cv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.c_=function(t){return new Kh(t.path,new Dh)},e.prototype.isEqual=function(t){return t instanceof e},e}(sv),lv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=uv(this,t,!0),n=this.__.map(function(t){return yy(t,e)}),r=new Lh(n);return new Kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sv),hv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=uv(this,t,!0),n=this.__.map(function(t){return yy(t,e)}),r=new Rh(n);return new Kh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(sv),fv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(to.c)(e,t),e.prototype.c_=function(t){var e=new Vh(t.serializer,th(t.serializer,this.f_));return new Kh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(sv),dv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new wc(mc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new wc(mc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return Sc(this.d_,t.d_)||Sc(this.w_,t.w_)},t}(),pv=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Gc.fromBase64String(e))}catch(e){throw new wc(mc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Gc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),gv=function(t){this.o_=t},bv=new Map,vv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new wc(mc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wc(mc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,tv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),yv=function(){function t(t,e){this.T_="(lite)",this.I_=new vv({}),this.m_=!1,t instanceof uc?(this.A_=t,this.R_=new Oc):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new wc(mc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(t.options.projectId)}(t),this.R_=new Ic(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new wc(mc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new wc(mc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new vv(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new Oc;switch(t.type){case"gapi":var e=t.client;return vc(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Tc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new wc(mc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=bv.get(t);e&&(fc("ComponentProvider","Removing Datastore"),bv.delete(t),e.terminate())}(this),Promise.resolve()},t}();function mv(){if("undefined"==typeof Uint8Array)throw new wc(mc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function wv(){if("undefined"==typeof atob)throw new wc(mc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var _v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.fromBase64String=function(t){return wv(),new e(pv.fromBase64String(t))},e.fromUint8Array=function(t){return mv(),new e(pv.fromUint8Array(t))},e.prototype.toBase64=function(){return wv(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return mv(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(gv),Ov=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),kl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fl(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(ql(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw bc()}},t.prototype.k_=function(t,e){var n=this,r={};return jl(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new dv(Fl(t.latitude),Fl(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=Al(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(Nl(t));default:return null}},t.prototype.C_=function(t){var e=zl(t);return new Nc(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=Dc.Y(t);vc(xh(n));var r=new uc(n.get(1),n.get(3)),i=new Rc(n.B(5));return r.isEqual(e)||dc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Iv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new _v(new pv(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return Yy.B_(e,this.firestore,null)},e}(Ov),Ev=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Fv(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new Tv(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(Cv("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),Tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ev);function Cv(t,e){return"string"==typeof e?Ey(t,e):e instanceof gv?e.o_.j_:e.j_}var jv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new wc(mc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Pc(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),Sv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new md,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(to.c)(e,t),e.prototype.S_=function(){return this.z_||Wy(this),this.z_.terminate()},e}(yv);function xv(t,e,n){var r=this,i=new Zf;return t.di.enqueue(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ay(t,n)];case 1:return o.sent(),[4,Ny(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===mc.FAILED_PRECONDITION||t.code===mc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Av(t){if(t.g_||t.y_)throw new wc(mc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Nv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).q_=e,a.H_=e,a.metadata=o,a}return Object(to.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Mv(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(Cv("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(Ev),Mv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Nv),kv=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new tm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new Mv(n.q_,n.U_,r.key,r,new tm(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new wc(mc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new Mv(t.q_,t.U_,e.doc.key,e.doc,new tm(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Mv(t.q_,t.U_,e.doc.key,e.doc,new tm(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Dv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.X_=e),this.Y_},t}();function Dv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bc()}}function Lv(t,e){return t instanceof Nv&&e instanceof Nv?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof kv&&e instanceof kv&&t.q_===e.q_&&sy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var Pv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new pv(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Fv(this.firestore,null,e)},e}(Ov);function Rv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=iv(t,Fv);var o=iv(t.firestore,Sv),s=ay(o);return e instanceof gv&&(e=e.o_),Vv(o,("string"==typeof e||e instanceof jv?by(s,"updateDoc",t.Q_,e,n,r):gy(s,"updateDoc",t.Q_,e)).tf(t.Q_,Hh.exists(!0)))}function Uv(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof gv&&(t=t.o_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||td(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(td(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Fv)c=iv(t.firestore,Sv),l=vf(t.Q_.path),u={next:function(e){i[a]&&i[a](zv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=iv(t,qv);c=iv(d.firestore,Sv),l=d.Z_;var p=new Pv(c);u={next:function(t){i[a]&&i[a](new kv(c,p,d,t))},error:i[a+1],complete:i[a+2]},ty(t.Z_)}return function(t,e,n,r){var i=this,o=new Jb(r),s=new Ug(e,o,n);return t.di.Ri(function(){return Object(to.b)(i,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=kg,[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.di.Ri(function(){return Object(to.b)(i,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=Dg,[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Gy(c),l,h,u)}function Vv(t,e){return function(t,e){var n=this,r=new Zf;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=sb,[4,Ry(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Gy(t),e)}function zv(t,e,n){var r=n.docs.get(e.Q_),i=new Pv(t);return new Nv(t,i,e.Q_,r,new tm(n.hasPendingWrites,n.fromCache),e.W_)}var Fv=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ey(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),qv=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),Kv=function(){};function Bv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var Hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=ay(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new wc(mc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Zv(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Jv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Jv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Zv(s,o),a=vy(n,"where",s,"in"===o||"not-in"===o);var h=Nf.create(i,o,a);return function(t,e){if(e.An()){var n=_f(t);if(null!==n&&!n.isEqual(e.field))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=wf(t);null!==r&&Xv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new wc(mc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new qv(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new gf(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(Kv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new wc(mc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new wc(mc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bf(e,n);return function(t,e){if(null===wf(t)){var n=_f(t);null!==n&&Xv(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new qv(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new gf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(Kv),Wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){return new qv(t.firestore,t.W_,Tf(t.Z_,this.af,this.hf))},e}(Kv),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=Yv(t,this.type,this.lf,this._f);return new qv(t.firestore,t.W_,function(t,e){return new gf(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(Kv),$v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(to.c)(e,t),e.prototype.nf=function(t){var e=Yv(t,this.type,this.lf,this._f);return new qv(t.firestore,t.W_,function(t,e){return new gf(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(Kv);function Yv(t,e,n,r){if(n[0]instanceof gv&&(n[0]=n[0].o_),n[0]instanceof Ev)return function(t,e,n,r,i){if(!r)throw new wc(mc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=If(t);s<a.length;s++){var u=a[s];if(u.field.tt())o.push(Kl(e,r.key));else{var c=r.field(u.field);if(xl(c))throw new wc(mc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new wc(mc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new zf(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=ay(t.firestore);return function(t,e,n,r,i,o){var s=t.Tn;if(i.length>s.length)throw new wc(mc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.tt()){if("string"!=typeof c)throw new wc(mc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Of(t)&&-1!==c.indexOf("/"))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Dc.Y(c));if(!Rc.ot(l))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Rc(l);a.push(Kl(e,h))}else{var f=vy(n,r,c);a.push(f)}}return new zf(a,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function Jv(t,e,n){if(n instanceof gv&&(n=n.o_),"string"==typeof n){if(""===n)throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Of(e)&&-1!==n.indexOf("/"))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Dc.Y(n));if(!Rc.ot(r))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Kl(t,new Rc(r))}if(n instanceof Fv)return Kl(t,n.Q_);throw new wc(mc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rv(n)+".")}function Zv(t,e){if(!Array.isArray(t)||0===t.length)throw new wc(mc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new wc(mc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xv(t,e,n){if(!n.isEqual(e))throw new wc(mc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ty(t){if(mf(t)&&0===t.Tn.length)throw new wc(mc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,vf(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Fv(this.firestore,null,new Rc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(qv);function ny(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof gv&&(t=t.o_),Zb("collection","path",e),t instanceof yv){var i=Dc.Y.apply(Dc,Object(to.g)([e],n));return nv(i),new ey(t,null,i)}if(!(t instanceof Fv||t instanceof ey))throw new wc(mc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=Dc.Y.apply(Dc,Object(to.g)([t.path],n)).child(Dc.Y(e));return nv(o),new ey(t.firestore,null,o)}function ry(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof gv&&(t=t.o_),1===arguments.length&&(e=jc.D()),Zb("doc","path",e),t instanceof yv){var i=Dc.Y.apply(Dc,Object(to.g)([e],n));return ev(i),new Fv(t,null,new Rc(i))}if(!(t instanceof Fv||t instanceof ey))throw new wc(mc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(Dc.Y.apply(Dc,Object(to.g)([e],n)));return ev(o),new Fv(t.firestore,t instanceof ey?t.W_:null,new Rc(o))}var iy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(to.c)(e,t),e.prototype.x_=function(t){return new pv(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Fv(this.firestore,null,e)},e}(Ov);function oy(t,e){return t instanceof gv&&(t=t.o_),e instanceof gv&&(e=e.o_),(t instanceof Fv||t instanceof ey)&&(e instanceof Fv||e instanceof ey)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function sy(t,e){return t instanceof gv&&(t=t.o_),e instanceof gv&&(e=e.o_),t instanceof qv&&e instanceof qv&&t.firestore===e.firestore&&Cf(t.Z_,e.Z_)&&t.W_===e.W_}function ay(t){var e=t.b_(),n=Xf(t.A_);return new dy(t.A_,!!e.ignoreUndefinedProperties,n)}var uy=/^__.*__$/,cy=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new tf(t,this.data,this.en,e):new Xh(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new nf(t,this.fieldTransforms)),n},t}(),ly=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new tf(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new nf(t,this.fieldTransforms)),n},t}();function hy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bc()}}var fy=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return Ty(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(hy(this.u_)&&uy.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),dy=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Xf(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new fy({u_:t,methodName:e,h_:n,path:Pc.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function py(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Af(o.merge||o.mergeFields?2:0,e,n,i);_y("Data must be an object, but it was:",s,r);var a,u,c=my(r,s);if(o.merge)a=new qh(s.en),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Oy(e,f[h],n);if(!s.contains(d))throw new wc(mc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Cy(l,d)||l.push(d)}a=new qh(l),u=s.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=s.fieldTransforms;return new cy(new uf(c),a,u)}function gy(t,e,n,r){var i=t.Af(1,e,n);_y("Data must be an object, but it was:",i,r);var o=[],s=new cf;jl(r,function(t,r){var a=Ey(e,t,n);r instanceof gv&&(r=r.o_);var u=i.Tf(a);if(r instanceof av)o.push(a);else{var c=yy(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new qh(o);return new ly(s.hn(),a,i.fieldTransforms)}function by(t,e,n,r,i,o){var s=t.Af(1,e,n),a=[Oy(e,r,n)],u=[i];if(o.length%2!=0)throw new wc(mc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Oy(e,o[c])),u.push(o[c+1]);for(var l=[],h=new cf,f=a.length-1;f>=0;--f)if(!Cy(l,a[f])){var d=a[f],p=u[f];p instanceof gv&&(p=p.o_);var g=s.Tf(d);if(p instanceof av)l.push(d);else{var b=yy(p,g);null!=b&&(l.push(d),h.set(d,b))}}var v=new qh(l);return new ly(h.hn(),v,s.fieldTransforms)}function vy(t,e,n,r){return void 0===r&&(r=!1),yy(n,t.Af(r?4:3,e))}function yy(t,e){if(t instanceof gv&&(t=t.o_),wy(t))return _y("Unsupported field value:",e,t),my(t,e);if(t instanceof sv)return function(t,e){if(!hy(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=yy(o[i],e.If(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof gv&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return th(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Nc.fromDate(t);return{timestampValue:eh(e.serializer,n)}}if(t instanceof Nc){var r=new Nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eh(e.serializer,r)}}if(t instanceof dv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pv)return{bytesValue:nh(e.serializer,t.E_)};if(t instanceof Fv){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:oh(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+rv(t))}(t,e)}function my(t,e){var n={};return Sl(t)?e.path&&e.path.length>0&&e.en.push(e.path):jl(t,function(t,r){var i=yy(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function wy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Nc||t instanceof dv||t instanceof pv||t instanceof Fv||t instanceof sv)}function _y(t,e,n){if(!wy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rv(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function Oy(t,e,n){if(e instanceof gv&&(e=e.o_),e instanceof jv)return e.j_;if("string"==typeof e)return Ey(t,e);throw Ty("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Iy=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(Iy)>=0)throw Ty("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(jv.bind.apply(jv,Object(to.g)([void 0],e.split("."))))).j_}catch(r){throw Ty("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ty(t,e,n,r,i){var o=r&&!r.W(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new wc(mc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Cy(t,e){return t.some(function(t){return t.isEqual(e)})}var jy=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n=this;return Object(to.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new wc(mc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(to.d)(this,function(u){switch(u.label){case 0:return n=yc(t),r=hh(n.serializer)+"/documents",i={documents:e.map(function(t){return ah(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){vc(!!e.found);var n=uh(t,e.found.name),r=ih(e.found.updateTime),i=new uf({mapValue:{fields:e.found.fields}});return new ff(n,r,i,{})}(t,e):"missing"in e?function(t,e){vc(!!e.missing),vc(!!e.readTime);var n=uh(t,e.missing),r=ih(e.readTime);return new df(n,r)}(t,e):bc()}(n.serializer,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());vc(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof df||t instanceof ff?n.vf(t):bc()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new sf(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e=this;return Object(to.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Rc.st(n);e.mutations.push(new af(r,e.rn(r)))}),[4,function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:return n=yc(t),r=hh(n.serializer)+"/documents",i={writes:e.map(function(t){return ph(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof ff)e=t.version;else{if(!(t instanceof df))throw bc();e=Mc.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new wc(mc.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Hh.updateTime(e):Hh.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Mc.min()))throw new wc(mc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hh.updateTime(e)}return Hh.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),Sy=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new sd(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(to.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(to.d)(this,function(r){return t=new jy(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Uc(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jc(e)}return!1},t}(),xy=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=cc.UNAUTHENTICATED,this.clientId=jc.D(),this.Ff=function(){},this.g=new Zf,this.credentials.A(function(t){fc("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new wc(mc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Zf;return this.di.Ni(function(){return Object(to.b)(t,void 0,void 0,function(){var t,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=wd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ay(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r=this;return Object(to.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),fc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(to.b)(r,void 0,void 0,function(){return Object(to.d)(this,function(t){switch(t.label){case 0:return[4,qp(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function Ny(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,My(t)];case 1:return n=i.sent(),fc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return(n=yc(t)).di.Li(),fc("RemoteStore","RemoteStore received new credentials"),r=pg(n),n.Bu.add(3),[4,ag(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,sg(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function My(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(fc("FirestoreClient","Using default OfflineComponentProvider"),[4,Ay(t,new Wb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function ky(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:(fc("FirestoreClient","Using default OnlineComponentProvider"),[4,Ny(t,new Yb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function Dy(t){return My(t).then(function(t){return t.persistence})}function Ly(t){return My(t).then(function(t){return t.Ou})}function Py(t){return ky(t).then(function(t){return t.$h})}function Ry(t){return ky(t).then(function(t){return t.va})}function Uy(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,ky(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=rb.bind(null,e.va),n.sa=ob.bind(null,e.va),n)]}})})}function Vy(t,e,n){var r=this;void 0===n&&(n={});var i=new Zf;return t.di.Ri(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jb({next:function(o){e.Ri(function(){return Dg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new wc(mc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new wc(mc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ug(vf(n.path),o,{includeMetadataChanges:!0,ha:!0});return kg(t,s)},[4,Uy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}function zy(t,e,n){var r=this;void 0===n&&(n={});var i=new Zf;return t.di.Ri(function(){return Object(to.b)(r,void 0,void 0,function(){var r;return Object(to.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Jb({next:function(n){e.Ri(function(){return Dg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new wc(mc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ug(n,o,{includeMetadataChanges:!0,ha:!0});return kg(t,s)},[4,Uy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}var Fy=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=ay(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=qy(t,this.q_),i=um(r.W_,e,n),o=py(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,Hh.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,s=qy(t,this.q_);return e instanceof gv&&(e=e.o_),o="string"==typeof e||e instanceof jv?by(this.Uf,"WriteBatch.update",s.Q_,e,n,r):gy(this.Uf,"WriteBatch.update",s.Q_,e),this.Bf=this.Bf.concat(o.tf(s.Q_,Hh.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=qy(t,this.q_);return this.Bf=this.Bf.concat(new sf(e.Q_,Hh.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new wc(mc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function qy(t,e){if(t instanceof gv&&(t=t.o_),t.firestore!==e)throw new wc(mc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(to.c)(e,t),e.prototype.get=function(e){var n=this,r=qy(e,this.q_),i=new Pv(this.q_);return t.prototype.get.call(this,e).then(function(t){return new Nv(n.q_,i,r.Q_,t.K_,new tm(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=ay(t)}return t.prototype.get=function(t){var e=this,n=qy(t,this.q_),r=new iy(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return bc();var i=t[0];if(i instanceof df)return new Ev(e.q_,r,n.Q_,null,n.W_);if(i instanceof ff)return new Ev(e.q_,r,i.key,i,n.W_);throw bc()})},t.prototype.set=function(t,e,n){var r=qy(t,this.q_),i=um(r.W_,e,n),o=py(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=qy(t,this.q_);return e instanceof gv&&(e=e.o_),o="string"==typeof e||e instanceof jv?by(this.Uf,"Transaction.update",s.Q_,e,n,r):gy(this.Uf,"Transaction.update",s.Q_,e),this.Kf.update(s.Q_,o),this},t.prototype.delete=function(t){var e=qy(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),By=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Av(t=iv(t,Sv));var n=Gy(t),r=t.b_(),i=new Yb;return xv(n,i,new Qb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Av(t=iv(t,Sv));var e=Gy(t),n=t.b_(),r=new Yb;return xv(e,r,new $b(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new wc(mc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zf;return t.G_.Ni(function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(to.b)(this,void 0,void 0,function(){return Object(to.d)(this,function(e){switch(e.label){case 0:return ad.Gs()?[4,ad.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Vp(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),Hy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof uc||(i.jf=e),i}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&pc("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(to.b)(e,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,Dy(t)];case 1:return e=r.sent(),[4,Py(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=yc(t);return e.Bu.delete(0),sg(e)}(n))]}})})})}(Gy(iv(this.o_,Sv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(to.b)(e,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return[4,Dy(t)];case 1:return e=r.sent(),[4,Py(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(to.b)(this,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return(e=yc(t)).Bu.add(0),[4,ag(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(Gy(iv(this.o_,Sv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&tv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zf;return t.di.Ri(function(){return Object(to.b)(e,void 0,void 0,function(){var e;return Object(to.d)(this,function(r){switch(r.label){case 0:return e=fb,[4,Ry(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Gy(iv(this.o_,Sv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Jb(e);return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yc(t).Zu.add(e),e.next()},[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var e;return Object(to.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yc(t).Zu.delete(e)},[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Gy(t=iv(t,Sv)),td(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new wc(mc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sm(this,ny(this.o_,t))}catch(t){throw Jy(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Yy(this,ry(this.o_,t))}catch(t){throw Jy(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new rm(this,function(t,e){if(t=iv(t,yv),Zb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new wc(mc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new qv(t,null,function(t){return new gf(Dc.X(),t)}(e))}(this.o_,t))}catch(t){throw Jy(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Zf;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ky(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new Sy(t.di,n,e,r).run(),[2]}})})}),r.promise}(Gy(t),function(n){return e(new Ky(t,n))})}(this.o_,function(n){return t(new Qy(e,n))})},e.prototype.batch=function(){var t=this;return Gy(this.o_),new $y(new Fy(this.o_,function(e){return Vv(t.o_,e)}))},e}(gv);function Gy(t){return t.z_||Wy(t),t.z_.Mf(),t.z_}function Wy(t){var e=t.b_(),n=function(t,e,n){return new ac(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new xy(t.R_,t.G_,n)}var Qy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),e.prototype.get=function(t){var e=this,n=am(t);return this.o_.get(n).then(function(t){return new em(e.q_,t)})},e.prototype.set=function(t,e,n){var r=am(t);return n?(Xb("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=am(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(to.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=am(t);return this.o_.delete(e),this},e}(gv),$y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.set=function(t,e,n){var r=am(t);return n?(Xb("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=am(t);return 2===arguments.length?this.o_.update(s,e):(r=this.o_).update.apply(r,Object(to.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=am(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(gv),Yy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Iv(e),r}return Object(to.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new wc(mc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Fv(n.o_,r,new Rc(t)))},e.B_=function(t,n,r){return new e(n,new Fv(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sm(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new sm(this.firestore,ny(this.o_,t))}catch(t){throw Jy(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof gv&&(t=t.o_),t instanceof Fv&&oy(this.o_,t)},e.prototype.set=function(t,e){e=Xb("DocumentReference.set",e);try{return function(t,e,n){t=iv(t,Fv);var r=iv(t.firestore,Sv),i=um(t.W_,e,n);return Vv(r,py(ay(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Hh.on()))}(this.o_,t,e)}catch(t){throw Jy(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Rv(this.o_,t):Rv.apply(void 0,Object(to.g)([this.o_,t,e],n))}catch(t){throw Jy(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Vv(iv((t=this.o_).firestore,Sv),[new sf(t.Q_,Hh.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zy(e),i=Xy(e,function(e){return new em(t.firestore,new Nv(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return Uv(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,Fv);var e=iv(t.firestore,Sv),n=Gy(e),r=new Pv(e);return function(t,e){var n=this,r=new Zf;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=yc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=s.sent())instanceof ff?n.resolve(r):r instanceof df?n.resolve(null):n.reject(new wc(mc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=wd(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,Ly(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new Nv(e,r,t.Q_,n,new tm(n instanceof ff&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,Fv);var e=iv(t.firestore,Sv);return Vy(Gy(e),t.Q_,{source:"server"}).then(function(n){return zv(e,t,n)})}(this.o_):function(t){t=iv(t,Fv);var e=iv(t.firestore,Sv);return Vy(Gy(e),t.Q_).then(function(n){return zv(e,t,n)})}(this.o_)).then(function(t){return new em(e.firestore,new Nv(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(gv);function Jy(t,e,n){return t.message=t.message.replace(e,n),t}function Zy(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!td(r))return r}return{}}function Xy(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=td(t[0])?t[0]:td(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var tm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),em=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yy(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Lv(this.o_,t.o_)},e}(gv),nm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(em),rm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new Iv(e),r}return Object(to.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Bv(this.o_,function(t,e,n){var r=e,i=Cv("where",t);return new Hv(i,r,n)}(t,n,r)))}catch(t){throw Jy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Bv(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=Cv("orderBy",t);return new Gv(r,n)}(t,n)))}catch(t){throw Jy(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Bv(this.o_,function(t){return ov("limit",t),new Wv("limit",t,"F")}(t)))}catch(t){throw Jy(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Bv(this.o_,function(t){return ov("limitToLast",t),new Wv("limitToLast",t,"L")}(t)))}catch(t){throw Jy(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Jy(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Jy(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $v("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Jy(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $v("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Jy(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return sy(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=iv(t,qv);var e=iv(t.firestore,Sv),n=Gy(e),r=new Pv(e);return function(t,e){var n=this,r=new Zf;return t.di.Ri(function(){return Object(to.b)(n,void 0,void 0,function(){var n;return Object(to.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(to.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,$p(t,e,!0)];case 1:return r=c.sent(),i=new Xg(e,r.Kc),o=i.bh(r.documents),s=i.Zn(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=wd(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Ly(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new kv(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=iv(t,qv);var e=iv(t.firestore,Sv),n=Gy(e),r=new Pv(e);return zy(n,t.Z_,{source:"server"}).then(function(n){return new kv(e,r,t,n)})}(this.o_):function(t){t=iv(t,qv);var e=iv(t.firestore,Sv),n=Gy(e),r=new Pv(e);return ty(t.Z_),zy(n,t.Z_).then(function(n){return new kv(e,r,t,n)})}(this.o_)).then(function(t){return new om(e.firestore,new kv(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zy(e),i=Xy(e,function(e){return new om(t.firestore,new kv(t.firestore.o_,t.U_,t.o_,e.J_))});return Uv(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(gv),im=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nm(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(gv),om=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new rm(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new nm(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new im(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new nm(n.q_,r))})},e.prototype.isEqual=function(t){return Lv(this.o_,t.o_)},e}(gv),sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(to.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Yy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Yy(this.firestore,void 0===t?ry(this.o_):ry(this.o_,t))}catch(t){throw Jy(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=iv(t.firestore,Sv),r=ry(t),i=um(t.W_,e);return Vv(n,py(ay(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Hh.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new Yy(e.firestore,t)})},e.prototype.isEqual=function(t){return oy(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(rm);function am(t){return t instanceof gv&&(t=t.o_),iv(t,Fv)}function um(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cm,lm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(jv.bind.apply(jv,Object(to.g)([void 0],e))))||this}return Object(to.c)(e,t),e.documentId=function(){return new e(Pc.et().J())},e.prototype.isEqual=function(t){return t instanceof gv&&(t=t.o_),t instanceof jv&&this.o_.j_.isEqual(t.j_)},e}(gv),hm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(to.c)(e,t),e.serverTimestamp=function(){var t=new cv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new av("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new fv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(gv),fm={Firestore:Hy,GeoPoint:dv,Timestamp:Nc,Blob:_v,Transaction:Qy,WriteBatch:$y,DocumentReference:Yy,DocumentSnapshot:em,Query:rm,QueryDocumentSnapshot:nm,QuerySnapshot:om,CollectionReference:sm,FieldPath:lm,FieldValue:hm,setLogLevel:function(t){lc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function dm(t,e){return function(t,e=Wi.b){return new Nt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function pm(t,e){return dm(t,e).pipe(Object(zt.a)(t=>({payload:t,type:"query"})))}function gm(t,e){return pm(t,e).pipe(fe(void 0),Qi(),Object(zt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function bm(t,e,n){return gm(t,n).pipe(de((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return vm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return vm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ji(void 0,void 0)),Object(zt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function vm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ym(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new sc.a("firestore",function(t){return function(t,e){return new Hy(t,new Sv(t,e),new By)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},fm)))})(cm=eo.a),cm.registerVersion("@firebase/firestore","2.0.5");class mm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fe(void 0),Qi(),Kt(([t,e])=>e.length>0||!t),Object(zt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ym(t);return bm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new wm(this.ref.doc(t),this.afs)}}class wm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Cm(n,e);return new mm(r,i,this.afs)}snapshotChanges(){return dm(this.ref,this.afs.schedulers.outsideAngular).pipe(fe(void 0),Qi(),Object(zt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(zt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(_t.a)(this.ref.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}}class _m{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Kt(t=>t.length>0),this.afs.keepUnstableUntilFirst):gm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ym(t);return bm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(zt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(_t.a)(this.query.get(t)).pipe(Object(Oi.b)(this.afs.schedulers.insideAngular))}}const Om=new r.q("angularfire2.enableFirestorePersistence"),Im=new r.q("angularfire2.firestore.persistenceSettings"),Em=new r.q("angularfire2.firestore.settings"),Tm=new r.q("angularfire2.firestore.use-emulator");function Cm(t,e=(t=>t)){return{query:e(t),ref:t}}let jm=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Ai.d(o),this.keepUnstableUntilFirst=Object(Ai.h)(this.schedulers);const c=Object(Ai.g)(t,o,e);!Xi.a.auth&&u&&Object(Ai.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Ai.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!F(i)){const e=()=>{try{return Object(_t.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(wt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(wt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Cm(n,e),o=this.schedulers.ngZone.run(()=>r);return new mm(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new _m(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new wm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ai.c),r.Pb(Ai.b,8),r.Pb(Om,8),r.Pb(Em,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Im,8),r.Pb(Tm,8),r.Pb(Ni,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ai.c),Object(r.Pb)(Ai.b,8),Object(r.Pb)(Om,8),Object(r.Pb)(Em,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Im,8),Object(r.Pb)(Tm,8),Object(r.Pb)(Ni,8))},token:t,providedIn:"any"}),t})(),Sm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Om,useValue:!0},{provide:Im,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[jm]}),t})();class xm{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Am(t,this.dueTime,this.scheduler))}}class Am extends jt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Nm,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Nm(t){t.debouncedNext()}var Mm=function(t){function e(n,r){var i=t.call(this,km(n),"Firebase Storage: "+r+" ("+km(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(to.c)(e,t),e.prototype.codeEquals=function(t){return km(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(ro.c);function km(t){return"storage/"+t}function Dm(){return new Mm("unknown","An unknown error occurred, please check the error payload for server response.")}function Lm(){return new Mm("canceled","User canceled the upload/download.")}function Pm(){return new Mm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rm(t){return new Mm("invalid-argument",t)}function Um(){return new Mm("app-deleted","The Firebase app was deleted.")}function Vm(t){return new Mm("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zm(t,e){return new Mm("invalid-format","String does not match format '"+t+"': "+e)}function Fm(t){throw new Mm("internal-error","Internal error: "+t)}var qm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Km=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Bm(t,e){switch(t){case qm.RAW:return new Km(Hm(e));case qm.BASE64:case qm.BASE64URL:return new Km(Gm(t,e));case qm.DATA_URL:return new Km((n=new Wm(e)).base64?Gm(qm.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw zm(qm.DATA_URL,"Malformed data URL.")}return Hm(e)}(n.rest),new Wm(e).contentType)}var n;throw Dm()}function Hm(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Gm(t,e){switch(t){case qm.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw zm(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case qm.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw zm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw zm(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Wm=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw zm(qm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),Qm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $m(t){switch(t){case"running":case"pausing":case"canceling":return Qm.RUNNING;case"paused":return Qm.PAUSED;case"success":return Qm.SUCCESS;case"canceled":return Qm.CANCELED;case"error":default:return Qm.ERROR}}var Ym=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Jm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ym.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ym.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ym.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Fm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Fm("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Fm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Fm("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Zm=function(){function t(){}return t.prototype.createXhrIo=function(){return new Jm},t}();function Xm(t){return"string"==typeof t||t instanceof String}function tw(t){return ew()&&t instanceof Blob}function ew(){return"undefined"!=typeof Blob}function nw(t,e,n,r){if(r<e)throw new Mm("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Mm("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function rw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ew())return new Blob(t);throw new Mm("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ow=function(){function t(t,e){var n=0,r="";tw(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(tw(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ew()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(iw.apply(null,r))}var i=e.map(function(t){return Xm(t)?Bm(qm.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),sw=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Mm("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new Mm("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function aw(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function uw(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function cw(t){return"https://firebasestorage.googleapis.com/v0"+t}function lw(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function hw(t,e){return e}var fw=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||hw}}(),dw=null;function pw(){if(dw)return dw;var t=[];t.push(new fw("bucket")),t.push(new fw("generation")),t.push(new fw("metageneration")),t.push(new fw("name","fullPath",!0));var e=new fw("name");e.xform=function(t,e){return function(t){return!Xm(t)||t.length<2?t:uw(t)}(e)},t.push(e);var n=new fw("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new fw("timeCreated")),t.push(new fw("updated")),t.push(new fw("md5Hash",null,!0)),t.push(new fw("cacheControl",null,!0)),t.push(new fw("contentDisposition",null,!0)),t.push(new fw("contentEncoding",null,!0)),t.push(new fw("contentLanguage",null,!0)),t.push(new fw("contentType",null,!0)),t.push(new fw("metadata","customMetadata",!0)),dw=t}function gw(t,e,n){var r=aw(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new sw(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function bw(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var vw=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function yw(t){if(!t)throw Dm()}function mw(t,e){return function(n,r){var i=gw(t,r,e);return yw(null!==i),i}}function ww(t){return function(e,n){var r;return(r=401===e.getStatus()?new Mm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Mm("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Mm("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function _w(t){var e=ww(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Mm("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ow(t,e,n){var r=cw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new vw(r,"GET",mw(t,n),i);return o.errorHandler=_w(e),o}function Iw(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Ew=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Tw(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){yw(!1)}return yw(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Cw=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),jw=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Sw(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var xw=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=pw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Iw(e,r,i),a={name:s.fullPath},u=cw(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=bw(s,n),h=new vw(u,"POST",function(t){var e;Tw(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){yw(!1)}return yw(Xm(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=ww(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new vw(n,"POST",function(t){var e=Tw(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){yw(!1)}n||yw(!1);var i=Number(n);return yw(!isNaN(i)),new Ew(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ww(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Ew(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new Ew(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Mm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Pm();var p=new vw(n,"POST",function(t,n){var i,s=Tw(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?mw(e,o)(t,n):null,new Ew(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=ww(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition("error")}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Ow(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Iw(e,r,i),c=bw(u,n),l=ow.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Pm();var h={name:u.fullPath},f=cw(o),d=t.maxUploadRetryTime,p=new vw(f,"POST",mw(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=ww(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Lm(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=$m(this._state);return new jw(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Cw(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch($m(this._state)){case Qm.SUCCESS:Sw(this._resolve.bind(null,this.snapshot))();break;case Qm.CANCELED:case Qm.ERROR:Sw(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch($m(this._state)){case Qm.RUNNING:case Qm.PAUSED:t.next&&Sw(t.next.bind(t,this.snapshot))();break;case Qm.SUCCESS:t.complete&&Sw(t.complete.bind(t))();break;case Qm.CANCELED:case Qm.ERROR:t.error&&Sw(t.error.bind(t,this._error))();break;default:t.error&&Sw(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),Aw=function(){function t(t,e){this._service=t,this._location=e instanceof sw?e:sw.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new sw(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return uw(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new sw(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Vm(t)},t}();function Nw(t){var e={prefixes:[],items:[]};return Mw(t,e).then(function(){return e})}function Mw(t,e,n){return Object(to.b)(this,void 0,void 0,function(){var r,i,o;return Object(to.d)(this,function(s){switch(s.label){case 0:return[4,kw(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Mw(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function kw(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r,i;return Object(to.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&nw("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=cw(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new vw(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=aw(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new sw(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new sw(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return yw(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=ww(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function Dw(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new sw(t._location.bucket,n);return new Aw(t.storage,r)}var Lw=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Pw=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Lw(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Lw(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Lw(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Lw(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Rw=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Uw(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Uw(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Uw=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(Dw(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Pw(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new xw(t,new ow(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=qm.RAW),this._throwIfRoot("putString"),new Pw(function(t,e,n,r){void 0===n&&(n=qm.RAW),t._throwIfRoot("putString");var i=Bm(n,e),o=Object(to.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new xw(t,new ow(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return Nw(this._delegate).then(function(e){return new Rw(e,t.storage)})},t.prototype.list=function(t){var e=this;return kw(this._delegate,t).then(function(t){return new Rw(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Ow(t.storage,t._location,pw()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(to.b)(this,void 0,void 0,function(){var n,r;return Object(to.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=cw(e.fullServerUrl()),o=bw(n,r),s=t.maxOperationRetryTime,a=new vw(i,"PATCH",mw(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=_w(e),a}(t.storage,t._location,e,pw()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=cw(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new vw(r,"GET",function(t,e){return function(n,r){var i=gw(t,r,e);return yw(null!==i),function(t,e){var n=aw(e);if(null===n)return null;if(!Xm(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return cw("/b/"+i(t.bucket)+"/o/"+i(n))+lw({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=_w(e),o}(t.storage,t._location,pw()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Mm("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(to.b)(this,void 0,void 0,function(){var e,n;return Object(to.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=cw(e.fullServerUrl()),r=new vw(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=_w(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Vm(t)},t}(),Vw=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),zw=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=Dm()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Um():Lm():new Mm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Fw(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new Fw(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ym.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Fw(s,n))}else{var a=n.getErrorCode()===Ym.ABORT;e(!1,new Fw(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(to.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(to.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Fw=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function qw(t){return/^[A-Za-z]+:\/\//.test(t)}function Kw(t,e){if(t instanceof Ww){var n=t;if(null==n._bucket)throw new Mm("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Aw(n,n._bucket);return null!=e?Kw(r,e):r}if(void 0!==e){if(e.includes(".."))throw Rm('`path` param cannot contain ".."');return Dw(t,e)}return t}function Bw(t,e){if(e&&qw(e)){if(t instanceof Ww)return new Aw(t,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}return Kw(t,e)}var Hw,Gw,Ww=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?sw.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:sw.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){nw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){nw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(to.b)(this,void 0,void 0,function(){var t,e;return Object(to.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new Aw(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new Vw(Um());var r=function(t,e,n,r){var i=lw(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==eo.a?eo.a.SDK_VERSION:"AppManager")}(s),new zw(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),Qw=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(qw(t))throw Rm("ref() expected a child path but got a URL, use refFromURL instead.");return new Uw(Bw(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!qw(t))throw Rm("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sw.makeFromUrl(t)}catch(e){throw Rm("refFromUrl() expected a valid full URL but got an invalid one.")}return new Uw(Bw(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function $w(t){const e=function(t){return new Nt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Wi.a){return n=>n.lift(new xm(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(zt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function Yw(t,e,n){return{getDownloadURL:()=>Object(wt.a)(void 0).pipe(Object(Oi.b)(e.outsideAngular),oe(()=>t.getDownloadURL()),n),getMetadata:()=>Object(wt.a)(void 0).pipe(Object(Oi.b)(e.outsideAngular),oe(()=>t.getMetadata()),n),delete:()=>Object(_t.a)(t.delete()),child:r=>Yw(t.child(r),e,n),updateMetadata:e=>Object(_t.a)(t.updateMetadata(e)),put:(e,n)=>$w(t.put(e,n)),putString:(e,n,r)=>$w(t.putString(e,n,r)),listAll:()=>Object(_t.a)(t.listAll())}}Gw={TaskState:Qm,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:qm,Storage:Ww,Reference:Uw},(Hw=eo.a).INTERNAL.registerComponent(new sc.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Qw(n,new Ww(n,r,new Zm,e))},"PUBLIC").setServiceProps(Gw).setMultipleInstances(!0)),Hw.registerVersion("@firebase/storage","0.4.2");const Jw=new r.q("angularfire2.storageBucket"),Zw=new r.q("angularfire2.storage.maxUploadRetryTime"),Xw=new r.q("angularfire2.storage.maxOperationRetryTime");let t_=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Ai.d(i),this.keepUnstableUntilFirst=Object(Ai.h)(this.schedulers);const a=Object(Ai.g)(t,i,e);this.storage=Object(Ai.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return Yw(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return Yw(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return Yw(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ai.c),r.Pb(Ai.b,8),r.Pb(Jw,8),r.Pb(r.B),r.Pb(r.z),r.Pb(Zw,8),r.Pb(Xw,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ai.c),Object(r.Pb)(Ai.b,8),Object(r.Pb)(Jw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(Zw,8),Object(r.Pb)(Xw,8))},token:t,providedIn:"any"}),t})(),e_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),n_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[t_],imports:[e_]}),t})(),r_=(()=>{class t{constructor(t,e){this.afstore=t,this.afstorage=e,this.carCollection=this.afstore.collection("cars")}getPosts(t){return this.carCollection=this.afstore.collection("/cars",e=>e.where("id","==",t))}getAll(){return this.carCollection=this.afstore.collection("/cars")}create(t){return this.carCollection.add(t).catch(t=>console.log(t))}upLoadImg(t,e){return Gi(this,void 0,void 0,function*(){if(e&&e.length)try{return yield this.afstorage.ref("/images").child(t).put(e[0]),this.afstorage.ref("images/"+t).getDownloadURL().toPromise()}catch(n){console.log(n)}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jm),r.Pb(t_))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function i_(t,e){if(1&t&&(r.Lb(0,"div",1),r.Lb(1,"div",2),r.Lb(2,"div",3),r.Lb(3,"h1"),r.lc(4),r.Kb(),r.Kb(),r.Lb(5,"div",4),r.Jb(6,"br"),r.Lb(7,"div",5),r.Jb(8,"img",6),r.Kb(),r.Lb(9,"div",5),r.Lb(10,"div",4),r.Lb(11,"div",7),r.Lb(12,"h2"),r.lc(13),r.Kb(),r.Kb(),r.Lb(14,"div",8),r.Vb(),r.Lb(15,"svg",9),r.Jb(16,"path",10),r.Jb(17,"path",11),r.Kb(),r.Kb(),r.Kb(),r.Ub(),r.Lb(18,"div",4),r.Lb(19,"h3"),r.lc(20),r.Kb(),r.Kb(),r.Jb(21,"br"),r.Lb(22,"div",4),r.Lb(23,"div",5),r.Lb(24,"div",4),r.Lb(25,"div",12),r.Vb(),r.Lb(26,"svg",13),r.Jb(27,"path",14),r.Kb(),r.Kb(),r.Ub(),r.Lb(28,"div",7),r.Lb(29,"p"),r.lc(30),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(31,"div",5),r.Lb(32,"div",4),r.Lb(33,"div",8),r.Vb(),r.Lb(34,"svg",15),r.Jb(35,"path",16),r.Jb(36,"path",17),r.Jb(37,"path",18),r.Kb(),r.Kb(),r.Ub(),r.Lb(38,"div",7),r.Lb(39,"p"),r.lc(40),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(41,"div",4),r.Lb(42,"div",5),r.Lb(43,"div",4),r.Lb(44,"div",8),r.Vb(),r.Lb(45,"svg",19),r.Jb(46,"path",20),r.Kb(),r.Kb(),r.Ub(),r.Lb(47,"div",7),r.Lb(48,"p"),r.lc(49),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(50,"div",5),r.Lb(51,"div",4),r.Lb(52,"div",8),r.Jb(53,"img",21),r.Kb(),r.Lb(54,"div",7),r.Jb(55,"div"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(56,"div",4),r.Lb(57,"div",22),r.lc(58,"Advert goes here"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(59,"br"),r.Lb(60,"div",23),r.Lb(61,"div",24),r.Lb(62,"h4",25),r.lc(63,"Description"),r.Kb(),r.Lb(64,"div",4),r.Lb(65,"div",26),r.Lb(66,"div",27),r.lc(67),r.Kb(),r.Lb(68,"div",27),r.lc(69),r.Kb(),r.Lb(70,"div",27),r.lc(71),r.Kb(),r.Lb(72,"div",27),r.lc(73,"Color: "),r.Jb(74,"small",28),r.Kb(),r.Kb(),r.Lb(75,"div",26),r.Lb(76,"div",27),r.lc(77),r.Kb(),r.Lb(78,"div",27),r.lc(79),r.Kb(),r.Lb(80,"div",27),r.lc(81),r.Kb(),r.Lb(82,"div",27),r.lc(83),r.Kb(),r.Kb(),r.Lb(84,"div",29),r.lc(85),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.ngIf;r.yb(4),r.oc("",t.make," ",t.model,""),r.yb(4),r.ac("src",t.picture,r.gc),r.yb(5),r.mc(t.description.price),r.yb(7),r.mc(t.model),r.yb(10),r.mc(t.phone),r.yb(10),r.mc(t.description.priceType),r.yb(9),r.mc(t.description.engine),r.yb(6),r.ic("width: 25%; height: 100%; background-color: ",t.description.color,";"),r.yb(12),r.nc("Price: ",t.description.price,""),r.yb(2),r.nc("Condition: ",t.description.condition,""),r.yb(2),r.nc("Body: ",t.description.body,""),r.yb(6),r.nc("Engine: ",t.description.engine,""),r.yb(2),r.nc("Type: ",t.description.priceType,""),r.yb(2),r.nc("Transmission: ",t.description.transsmission,""),r.yb(2),r.nc("Location: ",t.description.location,""),r.yb(2),r.nc("Year: ",t.year,"")}}let o_=(()=>{class t{constructor(t,e){this.route=t,this.carService=e}ngOnInit(){this.carId=this.route.snapshot.params.cid,this.route.params.subscribe(t=>{this.carId=t.cid}),this.carData=this.getCarInfo(),console.log(this.carData)}getCarInfo(){return this.carService.carCollection.doc(this.carId).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mn),r.Ib(r_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-cardetail"]],decls:3,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container-fluid"],[1,"row","rounded","text-secondary"],[1,"row"],[1,"col-md"],["id","pic","alt","",1,"img-fluid",3,"src"],[1,"col"],[1,"col-3"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-tags-fill"],["fill-rule","evenodd","d","M3 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 7.586 1H3zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"],[1,"col-3","mx-0"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone-outbound-fill"],["fill-rule","evenodd","d","M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-stack"],["d","M14 3H1a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1h-1z"],["fill-rule","evenodd","d","M15 5H1v8h14V5zM1 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H1z"],["d","M13 5a2 2 0 0 0 2 2V5h-2zM3 5a2 2 0 0 1-2 2V5h2zm10 8a2 2 0 0 1 2-2v2h-2zM3 13a2 2 0 0 0-2-2v2h2zm7-4a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-funnel-fill"],["fill-rule","evenodd","d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"],["src","./../../../../assets/color.png","width","30","height","30","alt",""],[1,"col-md","container"],[1,"row","card"],[1,"card-body"],[1,"card-title"],[1,"col-4"],[1,"card-text"],[2,"width","100%","height","100%","background-color","red"],[1,"col-4","card-text"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.jc(1,i_,86,19,"div",0),r.Xb(2,"async")),2&t&&(r.yb(1),r.Zb("ngIf",r.Yb(2,1,e.carData)))},directives:[M],pipes:[V],styles:["#pic[_ngcontent-%COMP%]{width:40rem;height:30rem}"]}),t})();function s_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"form",3),r.Lb(1,"input",4,5),r.Sb("keyup",function(){r.fc(t);const e=r.ec(2);return r.Wb().filter(e.value)}),r.Kb(),r.Kb()}}const a_=function(t){return["/car",t]};function u_(t,e){if(1&t&&(r.Lb(0,"div",6),r.Lb(1,"div",7),r.Lb(2,"div",8),r.lc(3),r.Kb(),r.Lb(4,"div",9),r.Lb(5,"a",10),r.Lb(6,"div",11),r.Jb(7,"img",12),r.Kb(),r.Kb(),r.Lb(8,"div",11),r.Lb(9,"div",13),r.lc(10),r.Kb(),r.Lb(11,"div",13),r.Lb(12,"i",14),r.lc(13),r.Vb(),r.Lb(14,"svg",15),r.Jb(15,"path",16),r.Jb(16,"path",17),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Ub(),r.Lb(17,"div",11),r.Lb(18,"div",18),r.Vb(),r.Lb(19,"svg",19),r.Jb(20,"path",20),r.Kb(),r.lc(21),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(3),r.nc(" ",t.model," "),r.yb(2),r.Zb("routerLink",r.cc(6,a_,t.cid)),r.yb(2),r.ac("src",t.picture,r.gc),r.yb(3),r.nc(" ",t.make," "),r.yb(3),r.nc(" ",t.description.price," "),r.yb(8),r.nc(" ",t.description.engine," ")}}let c_=(()=>{class t{constructor(t,e){this.carService=t,this.route=e}ngOnInit(){this.getCars(),this.check()}check(){let t;return this.route.events.subscribe(t=>{}),t=this.route.url,this.showSearch="/list"==t}filter(t){console.log(t),this.cars=t?this.cars.filter(e=>e.model.toLowerCase().includes(t.toLowerCase())):this.cars=this.filterdCars}getCars(){return this.carService.getAll().snapshotChanges().subscribe(t=>this.filterdCars=this.cars=t.map(t=>Object.assign({cid:t.payload.doc.id},t.payload.doc.data())))}carDetail(t,e){this.route.navigate([t,e])}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r_),r.Ib(Yr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-carlist"]],decls:6,vars:2,consts:[["class","form-group ",4,"ngIf"],[1,"row"],["class","card col-md-4 p-1",4,"ngFor","ngForOf"],[1,"form-group"],["type","text","placeholder","Search","aria-label","Search",1,"form-control",3,"keyup"],["query",""],[1,"card","col-md-4","p-1"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"routerLink"],[1,"form-group","row"],["alt","..",1,"card-img-top",3,"src"],[1,"col-6"],["aria-hidden","true",1,"fa","fa-align-left"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-tags-fill"],["fill-rule","evenodd","d","M3 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 7.586 1H3zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"],[1,"col-12"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-funnel-fill"],["fill-rule","evenodd","d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Lb(2,"div"),r.jc(3,s_,3,0,"form",0),r.Kb(),r.Lb(4,"div",1),r.jc(5,u_,22,8,"div",2),r.Kb()),2&t&&(r.yb(3),r.Zb("ngIf",e.check()),r.yb(2),r.Zb("ngForOf",e.cars))},directives:[M,A,Zr],styles:[""]}),t})();const l_=[{path:"list",component:c_},{path:"car/:cid",component:o_}];let h_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,hi.forChild(l_)],hi]}),t})(),f_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,h_]]}),t})();var d_=n("XoHu");function p_(t,e){return new Nt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(_t.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const g_=new r.q("NgValueAccessor"),b_={provide:g_,useExisting:Object(r.T)(()=>v_),multi:!0};let v_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([b_])]}),t})();const y_={provide:g_,useExisting:Object(r.T)(()=>w_),multi:!0},m_=new r.q("CompositionEventMode");let w_=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(m_,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([y_])]}),t})();function __(t){return null==t||0===t.length}function O_(t){return null!=t&&"number"==typeof t.length}const I_=new r.q("NgValidators"),E_=new r.q("NgAsyncValidators"),T_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class C_{static min(t){return e=>{if(__(e.value)||__(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(__(e.value)||__(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return __(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return __(t.value)||T_.test(t.value)?null:{email:!0}}static minLength(t){return e=>__(e.value)||!O_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>O_(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return C_.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(__(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(j_);return 0==e.length?null:function(t){return x_(A_(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(j_);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ct.a)(e))return p_(e,null);if(Object(d_.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return p_(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return p_(t=1===t.length&&Object(Ct.a)(t[0])?t[0]:t,null).pipe(Object(zt.a)(t=>e(...t)))}return p_(t,null)}(A_(t,e).map(S_)).pipe(Object(zt.a)(x_))}}}function j_(t){return null!=t}function S_(t){const e=Object(r.qb)(t)?Object(_t.a)(t):t;return Object(r.pb)(e),e}function x_(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function A_(t,e){return e.map(e=>e(t))}function N_(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function M_(t){return null!=t?C_.compose(N_(t)):null}function k_(t){return null!=t?C_.composeAsync(N_(t)):null}function D_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let L_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=k_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),P_=(()=>{class t extends L_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return R_(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const R_=r.Nb(P_);class U_ extends L_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V_{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let z_=(()=>{class t extends V_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(U_,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),F_=(()=>{class t extends V_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(P_,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const q_={provide:g_,useExisting:Object(r.T)(()=>K_),multi:!0};let K_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([q_])]}),t})();const B_={provide:g_,useExisting:Object(r.T)(()=>G_),multi:!0};let H_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),G_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(U_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(H_),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([B_])]}),t})();const W_={provide:g_,useExisting:Object(r.T)(()=>Q_),multi:!0};let Q_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([W_])]}),t})();const $_={provide:g_,useExisting:Object(r.T)(()=>J_),multi:!0};function Y_(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let J_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Y_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([$_])]}),t})(),Z_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Y_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(J_,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const X_={provide:g_,useExisting:Object(r.T)(()=>eO),multi:!0};function tO(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let eO=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([X_])]}),t})(),nO=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(tO(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.l),r.Ib(r.D),r.Ib(eO,9))},t.\u0275dir=r.Db({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function rO(t,e){oO(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&sO(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&sO(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function iO(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oO(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(D_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(D_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();iO(e._rawValidators,n),iO(e._rawAsyncValidators,n)}}function sO(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const aO=[v_,Q_,K_,J_,eO,G_];function uO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function cO(t){return(dO(t)?t.validators:t)||null}function lO(t){return Array.isArray(t)?M_(t):t||null}function hO(t,e){return(dO(e)?e.asyncValidators:t)||null}function fO(t){return Array.isArray(t)?k_(t):t||null}function dO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class pO{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=lO(this._rawValidators),this._composedAsyncValidatorFn=fO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=lO(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fO(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=S_(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof bO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof vO&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gO extends pO{constructor(t=null,e,n){super(cO(e),hO(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bO extends pO{constructor(t,e,n){super(cO(e),hO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof gO?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class vO extends pO{constructor(t,e,n){super(cO(e),hO(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof gO?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const yO={provide:P_,useExisting:Object(r.T)(()=>wO)},mO=(()=>Promise.resolve(null))();let wO=(()=>{class t extends P_{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new bO({},M_(t),k_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mO.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),rO(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),uO(this._directives,t)})}addFormGroup(t){mO.then(()=>{const e=this._findContainer(t.path),n=new bO({});(function(t,e){oO(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mO.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){mO.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(I_,10),r.Ib(E_,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([yO]),r.vb]}),t})();const _O={provide:U_,useExisting:Object(r.T)(()=>IO)},OO=(()=>Promise.resolve(null))();let IO=(()=>{class t extends U_{constructor(t,e,n,i){super(),this.control=new gO,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===w_?n=t:(e=t,aO.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rO(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){OO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;OO.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(P_,9),r.Ib(I_,10),r.Ib(E_,10),r.Ib(g_,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([_O]),r.vb,r.wb]}),t})(),EO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const TO={provide:I_,useExisting:Object(r.T)(()=>CO),multi:!0};let CO=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?C_.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([TO])]}),t})();const jO={provide:I_,useExisting:Object(r.T)(()=>SO),multi:!0};let SO=(()=>{class t{constructor(){this._validator=C_.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=C_.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.xb([jO]),r.wb]}),t})(),xO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),AO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[H_],imports:[xO]}),t})(),NO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,AO,hi,Ai.a.initializeApp(i)]]}),t})();const MO=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:37,vars:0,consts:[["id","carouselExampleCaptions","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleCaptions","data-slide-to","0",1,"active"],["data-target","#carouselExampleCaptions","data-slide-to","1"],["data-target","#carouselExampleCaptions","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://1.bp.blogspot.com/-5bRdQsAnDLA/VNom-qcXBZI/AAAAAAAAB_E/F7CnT93fWKk/s1600/200-Blue%2BClassic%2BCar%2BHD%2BWallpaperz.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://www.tutorialshubspot.com/wp-content/uploads/2017/05/CAR-6-1.jpg","alt","...",1,"d-block","w-100"],["type","button","routerLink","list",1,"btn","btn-primary"],["src","https://cdn.vox-cdn.com/thumbor/-EyfsFn0jwE5WpfPmymIuTdXkME=/1400x1050/filters:format(jpeg)/cdn.vox-cdn.com/uploads/chorus_asset/file/10228149/jbareham_180213_2301_0149.jpg","alt","...",1,"d-block","w-100"],["routerLink","signin","type","button","routerLink","login",1,"btn","btn-primary"],["href","#carouselExampleCaptions","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleCaptions","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"container"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"ol",1),r.Jb(2,"li",2),r.Jb(3,"li",3),r.Jb(4,"li",4),r.Kb(),r.Lb(5,"div",5),r.Lb(6,"div",6),r.Jb(7,"img",7),r.Lb(8,"div",8),r.Lb(9,"h5"),r.lc(10,"Ride Shop"),r.Kb(),r.Lb(11,"p"),r.lc(12," online cars classified portal in Ethiopia. Buy, sell or rent cars online in Ethiopia. Mekina.net does not buy or sell cars, we are only an advertising platform. "),r.Kb(),r.Kb(),r.Kb(),r.Lb(13,"div",9),r.Jb(14,"img",10),r.Lb(15,"div",8),r.Lb(16,"h5"),r.lc(17,"You want to Buy or Rent car???"),r.Kb(),r.Lb(18,"button",11),r.lc(19,"Browse"),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"div",9),r.Jb(21,"img",12),r.Lb(22,"div",8),r.Lb(23,"h5"),r.lc(24,"You want to sell your Car?"),r.Kb(),r.Lb(25,"button",13),r.lc(26,"Sign in"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(27,"a",14),r.Jb(28,"span",15),r.Lb(29,"span",16),r.lc(30,"Previous"),r.Kb(),r.Kb(),r.Lb(31,"a",17),r.Jb(32,"span",18),r.Lb(33,"span",16),r.lc(34,"Next"),r.Kb(),r.Kb(),r.Kb(),r.Lb(35,"div",19),r.Jb(36,"app-carlist"),r.Kb())},directives:[Jr,c_],styles:[".carousel-item[_ngcontent-%COMP%]{height:1400}"]}),t})()},{path:"**",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-page-notfound"]],decls:5,vars:0,template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.Jb(2,"br"),r.Lb(3,"h1"),r.lc(4,"page-notfound works!"),r.Kb())},styles:[""]}),t})()}];let kO=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[hi.forRoot(MO)],hi]}),t})(),DO=(()=>{class t{constructor(t){this.afAuth=t,this.signedIn$=new Nt.a(t=>{this.afAuth.onAuthStateChanged(t)})}createUser(t){return this.afAuth.createUserWithEmailAndPassword(t.value.email,t.value.password)}logViaGoogle(){return this.afAuth.signInWithPopup(new Xi.a.auth.GoogleAuthProvider)}logViaFb(){return this.afAuth.signInWithPopup(new Xi.a.auth.FacebookAuthProvider)}logInUser(t){return this.afAuth.signInWithEmailAndPassword(t.value.email,t.value.password)}logOut(){return this.afAuth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ri))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LO(t,e){1&t&&(r.Lb(0,"li",8),r.Lb(1,"a",14),r.lc(2,"Login"),r.Kb(),r.Kb())}const PO=function(t){return["/user",t]};function RO(t,e){if(1&t){const t=r.Mb();r.Lb(0,"li",15),r.Lb(1,"a",16),r.lc(2),r.Kb(),r.Lb(3,"div",17),r.Lb(4,"a",18),r.lc(5,"Dashbord"),r.Kb(),r.Jb(6,"div",19),r.Lb(7,"a",20),r.Sb("click",function(){return r.fc(t),r.Wb().logOut()}),r.lc(8,"Logout"),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.ngIf;r.yb(2),r.nc(" ",t.displayName||t.email," "),r.yb(2),r.Zb("routerLink",r.cc(2,PO,t.uid))}}let UO=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}ngOnInit(){}logOut(){this.authService.logOut(),this.router.navigateByUrl("/login")}search(){this.router.navigateByUrl("/list")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(DO),r.Ib(Yr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-header"]],decls:19,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","fixed-top"],["routerLink","",1,"navbar-brand"],["id","logo","src","./../../../assets/logo.webp",1,"desktop"],["id","logo","src","./../../../assets/logofooter.webp",1,"phone"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["routerLinkActive","nav-item active"],["routerLink","/",1,"nav-link"],[1,"sr-only"],["buyer",""],["class","nav-item dropdown",4,"ngIf","ngIfElse"],[1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"],["routerLink","login",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"]],template:function(t,e){if(1&t&&(r.Lb(0,"nav",0),r.Lb(1,"a",1),r.Jb(2,"img",2),r.Jb(3,"img",3),r.Kb(),r.Lb(4,"button",4),r.Jb(5,"span",5),r.Kb(),r.Lb(6,"div",6),r.Lb(7,"ul",7),r.Lb(8,"li",8),r.Lb(9,"a",9),r.lc(10,"Home "),r.Lb(11,"span",10),r.lc(12,"(current)"),r.Kb(),r.Kb(),r.Kb(),r.jc(13,LO,3,0,"ng-template",null,11,r.kc),r.jc(15,RO,9,4,"li",12),r.Xb(16,"async"),r.Kb(),r.Lb(17,"button",13),r.Sb("click",function(){return e.search()}),r.lc(18," Search "),r.Kb(),r.Kb(),r.Kb()),2&t){const t=r.ec(14);r.yb(15),r.Zb("ngIf",r.Yb(16,2,e.authService.signedIn$))("ngIfElse",t)}},directives:[Zr,ti,M],pipes:[V],styles:["@media (max-width:980px){.desktop[_ngcontent-%COMP%]{display:none}.phone[_ngcontent-%COMP%]{display:block}}@media (min-width:980px){.phone[_ngcontent-%COMP%]{display:none}.desktop[_ngcontent-%COMP%]{display:block}}"]}),t})(),VO=(()=>{class t{constructor(){this.title="RideShop"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:5,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-header"),r.Jb(1,"br"),r.Jb(2,"br"),r.Jb(3,"br"),r.Jb(4,"router-outlet"))},directives:[UO,ei],styles:[""]}),t})(),zO=(()=>{class t{constructor(t,e,n){this.db=t,this.afAuth=e,this.authService=n,this.userCollection=this.db.collection("users"),this.fb=Xi.a.auth().currentUser}save(t){this.db.doc("users/"+t.uid).set({name:t.displayName,email:t.email,isAdmin:!1,phone:t.phone||null}).catch(t=>console.log(t))}reAuthenticate(){return this.fb.reauthenticateWithCredential(this.user)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(jm),r.Pb(Ri),r.Pb(DO))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function FO(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Email is required!"),r.Kb())}function qO(t,e){if(1&t&&(r.Lb(0,"div",37),r.jc(1,FO,2,0,"div",38),r.Kb()),2&t){r.Wb();const t=r.ec(15);r.yb(1),r.Zb("ngIf",t.errors.required)}}function KO(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"password is required!"),r.Kb())}function BO(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"password is more than 6 characters!"),r.Kb())}function HO(t,e){if(1&t&&(r.Lb(0,"div",37),r.jc(1,KO,2,0,"div",38),r.jc(2,BO,2,0,"div",38),r.Kb()),2&t){r.Wb();const t=r.ec(19);r.yb(1),r.Zb("ngIf",t.errors.required),r.yb(1),r.Zb("ngIf",t.errors.minlength)}}function GO(t,e){if(1&t&&(r.Lb(0,"div",39),r.Lb(1,"strong"),r.lc(2),r.Kb(),r.lc(3),r.Kb()),2&t){const t=r.Wb();r.yb(2),r.nc("Error!: ",t.error.code,""),r.yb(1),r.nc(" ",t.error.message," ")}}function WO(t,e){1&t&&(r.Lb(0,"div",37),r.lc(1," Email is Required "),r.Kb())}function QO(t,e){1&t&&(r.Lb(0,"small",40),r.lc(1,"We'll never share your email with anyone else."),r.Kb())}function $O(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Password is Required!"),r.Kb())}function YO(t,e){1&t&&(r.Lb(0,"div"),r.lc(1," Password must be more than 6 characters "),r.Kb())}function JO(t,e){if(1&t&&(r.Lb(0,"div",37),r.jc(1,$O,2,0,"div",38),r.jc(2,YO,2,0,"div",38),r.Kb()),2&t){r.Wb();const t=r.ec(19);r.yb(1),r.Zb("ngIf",t.errors.required),r.yb(1),r.Zb("ngIf",t.errors.minlength)}}function ZO(t,e){if(1&t&&(r.Lb(0,"div",39),r.Lb(1,"strong"),r.lc(2),r.Kb(),r.lc(3),r.Kb()),2&t){const t=r.Wb();r.yb(2),r.nc("Error!: ",t.error2.code,""),r.yb(1),r.nc(" ",t.error2.message," ")}}const XO=function(){return["posts"]},tI=function(t){return{userTab:t}},eI=function(t){return{outlets:t}},nI=function(t){return[t]},rI=function(){return["profile"]},iI=function(){return["addCar"]};function oI(t,e){if(1&t&&(r.Lb(0,"div",1),r.Lb(1,"div",2),r.Jb(2,"br"),r.Lb(3,"div",3),r.Lb(4,"div",4),r.Jb(5,"img",5),r.Kb(),r.Lb(6,"div",4),r.Lb(7,"h4"),r.lc(8),r.Kb(),r.Kb(),r.Lb(9,"div",6),r.Lb(10,"ul",7),r.Lb(11,"li",8),r.Lb(12,"a",9),r.lc(13,"My Posts "),r.Kb(),r.Kb(),r.Lb(14,"li",8),r.Lb(15,"a",9),r.lc(16,"user profile"),r.Kb(),r.Kb(),r.Lb(17,"li",8),r.Lb(18,"a",9),r.lc(19,"Add Car"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Jb(20,"br"),r.Lb(21,"div",10),r.Jb(22,"router-outlet",11),r.Kb(),r.Kb()),2&t){const t=e.ngIf;r.yb(8),r.mc(t.displayName||t.email),r.yb(4),r.Zb("routerLink",r.cc(9,nI,r.cc(7,eI,r.cc(5,tI,r.bc(4,XO))))),r.yb(3),r.Zb("routerLink",r.cc(16,nI,r.cc(14,eI,r.cc(12,tI,r.bc(11,rI))))),r.yb(3),r.Zb("routerLink",r.cc(23,nI,r.cc(21,eI,r.cc(19,tI,r.bc(18,iI)))))}}function sI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Car Model is Required!"),r.Kb())}function aI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,sI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(12);r.yb(1),r.Zb("ngIf",t.errors.required)}}function uI(t,e){if(1&t&&(r.Lb(0,"option",65),r.lc(1),r.Kb()),2&t){const t=e.$implicit;r.ac("value",t),r.yb(1),r.nc(" ",t," ")}}function cI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"car make is require"),r.Kb())}function lI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,cI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(19);r.yb(1),r.Zb("ngIf",t.errors.required)}}function hI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Price is Required"),r.Kb())}function fI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,hI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(28);r.yb(1),r.Zb("ngIf",t.errors.required)}}function dI(t,e){1&t&&(r.Lb(0,"div",63),r.lc(1," Price can't be zero! "),r.Kb())}function pI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1," price type is required "),r.Kb())}function gI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,pI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(36);r.yb(1),r.Zb("ngIf",t.errors.required)}}function bI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Year is required"),r.Kb())}function vI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,bI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(49);r.yb(1),r.Zb("ngIf",t.errors.required)}}function yI(t,e){1&t&&(r.Lb(0,"div",63),r.lc(1," You can sell cars year after 1900 "),r.Kb())}function mI(t,e){if(1&t&&(r.Lb(0,"div",63),r.lc(1),r.Kb()),2&t){const t=r.Wb();r.yb(1),r.nc(" you are not able to sell cars year after ",t.date+1," ")}}function wI(t,e){1&t&&(r.Lb(0,"div",63),r.lc(1," Write correct form of year! "),r.Kb())}function _I(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"engine type is required"),r.Kb())}function OI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,_I,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(60);r.yb(1),r.Zb("ngIf",t.errors.required)}}function II(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Car Type is required"),r.Kb())}function EI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,II,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(73);r.yb(1),r.Zb("ngIf",t.errors.required)}}function TI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1," Condition is required! "),r.Kb())}function CI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,TI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(95);r.yb(1),r.Zb("ngIf",t.errors.required)}}function jI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1," Choose Color please"),r.Kb())}function SI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,jI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(118);r.yb(1),r.Zb("ngIf",t.errors.required)}}function xI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"Pitcure of your car is required"),r.Kb())}function AI(t,e){if(1&t&&(r.Lb(0,"div",63),r.jc(1,xI,2,0,"div",64),r.Kb()),2&t){r.Wb();const t=r.ec(130);r.yb(1),r.Zb("ngIf",t.errors.required)}}function NI(t,e){1&t&&(r.Lb(0,"div",66),r.Jb(1,"div",67),r.Kb())}function MI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"user name is required"),r.Kb())}function kI(t,e){if(1&t&&(r.Lb(0,"div",25),r.jc(1,MI,2,0,"div",26),r.Kb()),2&t){r.Wb();const t=r.ec(38);r.yb(1),r.Zb("ngIf",t.errors.required)}}function DI(t,e){1&t&&(r.Lb(0,"div"),r.lc(1,"phone number is required"),r.Kb())}function LI(t,e){if(1&t&&(r.Lb(0,"div",25),r.jc(1,DI,2,0,"div",26),r.Kb()),2&t){r.Wb();const t=r.ec(47);r.yb(1),r.Zb("ngIf",t.errors.required)}}function PI(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",1),r.Lb(1,"div",2),r.Lb(2,"div",3),r.Lb(3,"h3",4),r.lc(4,"Manage Your profile"),r.Kb(),r.Lb(5,"div",5),r.Lb(6,"button",6),r.lc(7," Edit Profile "),r.Kb(),r.Kb(),r.Kb(),r.Lb(8,"div",7),r.Lb(9,"div",3),r.Lb(10,"div",8),r.Lb(11,"b"),r.lc(12,"Your UserName"),r.Kb(),r.Kb(),r.Lb(13,"div",8),r.Lb(14,"h6"),r.lc(15),r.Kb(),r.Kb(),r.Kb(),r.Lb(16,"div",3),r.Lb(17,"div",8),r.Lb(18,"b"),r.lc(19,"Your E-mail"),r.Kb(),r.Kb(),r.Lb(20,"div",8),r.Lb(21,"h6"),r.lc(22),r.Kb(),r.Kb(),r.Kb(),r.Lb(23,"div",3),r.Lb(24,"div",8),r.Lb(25,"b"),r.lc(26,"Phone Number"),r.Kb(),r.Kb(),r.Lb(27,"div",8),r.Lb(28,"h6"),r.lc(29),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(30,"div",8),r.Lb(31,"div",9),r.Jb(32,"br"),r.Lb(33,"div",10),r.Lb(34,"form",11,12),r.Sb("ngSubmit",function(){r.fc(t);const e=r.ec(35);return r.Wb().updateUsername(e.value)}),r.Lb(36,"div",13),r.Jb(37,"input",14,15),r.jc(39,kI,2,1,"div",16),r.Kb(),r.Lb(40,"div",17),r.Lb(41,"button",18),r.lc(42," Update "),r.Kb(),r.Kb(),r.Kb(),r.Lb(43,"form",11,19),r.Sb("ngSubmit",function(){r.fc(t);const e=r.ec(44);return r.Wb().updatephone(e.value)}),r.Lb(45,"div",13),r.Jb(46,"input",20,21),r.Lb(48,"small"),r.lc(49,"This number will be used to contact you"),r.Kb(),r.jc(50,LI,2,1,"div",16),r.Kb(),r.Lb(51,"div",22),r.Lb(52,"button",18),r.lc(53," Update "),r.Kb(),r.Kb(),r.Kb(),r.Lb(54,"div",23),r.Jb(55,"hr"),r.Lb(56,"button",24),r.Sb("click",function(){return r.fc(t),r.Wb().deleteUser()}),r.lc(57," Delete "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.ngIf,n=r.ec(35),i=r.ec(38),o=r.ec(44),s=r.ec(47);r.yb(15),r.mc(t.name||"n/a"),r.yb(7),r.mc(t.email||"n/a"),r.yb(7),r.mc(t.phone||"n/a"),r.yb(10),r.Zb("ngIf",i.touched&&!i.valid),r.yb(2),r.Zb("disabled",!n.valid),r.yb(9),r.Zb("ngIf",s.touched&&!s.valid),r.yb(2),r.Zb("disabled",!o.valid)}}function RI(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",4),r.Lb(1,"div",5),r.Lb(2,"div",6),r.Lb(3,"div",7),r.Lb(4,"div",8),r.Lb(5,"h5",9),r.lc(6,"Delete Add"),r.Kb(),r.Lb(7,"button",10),r.Lb(8,"span",11),r.lc(9,"\xd7"),r.Kb(),r.Kb(),r.Kb(),r.Lb(10,"div",12),r.lc(11,"Are you sure you want to Delete"),r.Kb(),r.Lb(12,"div",13),r.Lb(13,"button",14),r.lc(14," Close "),r.Kb(),r.Lb(15,"button",15),r.Sb("click",function(){r.fc(t);const n=e.$implicit;return r.Wb(2).deletePost(n.cid)}),r.lc(16," Confirm "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(17,"div",16),r.Lb(18,"div",17),r.lc(19),r.Kb(),r.Lb(20,"div",18),r.Lb(21,"div",1),r.Lb(22,"div",19),r.Jb(23,"img",20),r.Kb(),r.Lb(24,"div",21),r.Lb(25,"p"),r.lc(26),r.Kb(),r.Lb(27,"p"),r.lc(28),r.Kb(),r.Lb(29,"p"),r.lc(30),r.Kb(),r.Kb(),r.Kb(),r.Lb(31,"div",22),r.Lb(32,"button",23),r.Sb("click",function(){r.fc(t);const n=e.$implicit;return r.Wb(2).carid=n.cid}),r.lc(33," Delete"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=e.$implicit;r.yb(19),r.oc("",t.make," ",t.model,""),r.yb(4),r.ac("src",t.picture,r.gc),r.yb(3),r.mc(t.year),r.yb(2),r.mc(t.description.price),r.yb(2),r.mc(t.description.transsmission)}}function UI(t,e){if(1&t&&(r.Lb(0,"div",1,2),r.jc(2,RI,34,6,"div",3),r.Kb()),2&t){const t=r.Wb();r.yb(2),r.Zb("ngForOf",t.posts)}}const VI=[{path:"login",component:(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.userService=n}ngOnInit(){}createUser(t){this.authService.createUser(t).catch(t=>{this.error2=t}).then(t=>{this.userService.save(t.user),this.router.navigate(["user",t.user.uid])})}loginUser(t){this.authService.logInUser(t).catch(t=>{this.error=t,console.log(this.error)}).then(t=>{this.router.navigate(["user",t.user.uid])})}loginGoogle(){this.authService.logViaGoogle().catch(t=>{this.error=t,console.log(this.error)}).then(t=>{this.userService.save(t.user),this.router.navigate(["user",t.user.uid])})}loginFacebook(){this.authService.logViaFb().catch(t=>{this.error=t,console.log(this.error)}).then(t=>{this.userService.save(t.user),this.router.navigate(["user",t.user])})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yr),r.Ib(DO),r.Ib(zO))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-log-in"]],decls:57,vars:9,consts:[[1,"container","mt-5","border","border-info"],[1,"container","mt-5","p-3"],[1,"card"],["id","accordianId","role","tablist","aria-multiselectable","true"],["data-toggle","collapse","data-parent","#accordianId","href","#section1ContentId","aria-expanded","true","aria-controls","section1ContentId"],[1,"text-primary","text-center"],["id","section1ContentId","role","tabpanel","aria-labelledby","section1HeaderId",1,"accordion-collapse","collapse","show"],[1,"mt-3",3,"ngSubmit"],["login","ngForm"],[1,"form-row"],[1,"col"],["type","text","placeholder","Email","ngModel","","required","","name","email",1,"form-control"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Password","ngModel","","required","","minlength","6","name","password",1,"form-control"],["password","ngModel"],[1,"form-row","my-3","px-5"],["type","submit",1,"col","btn","btn-primary",3,"disabled"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"separator","text-secondary"],[1,"card-deck"],[1,"btn","btn-transparent",3,"click"],["src","./../../../assets/google.png","alt","",1,"card-img-top"],[1,"btn","btn-trasparent",3,"click"],["src","./../../../assets/fb.png","alt","",1,"card-img-top"],["data-toggle","collapse","data-parent","#accordianId","href","#section2ContentId","aria-expanded","true","aria-controls","section2ContentId"],[1,"separator","text-info"],["id","section2ContentId","role","tabpanel","aria-labelledby","section2HeaderId",1,"accordion-collapse","collapse"],[3,"ngSubmit"],["signIn","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","ngModel","","name","email","id","exampleInputEmail1","aria-describedby","emailHelp","required","",1,"form-control"],["id","emailHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputPassword1"],["type","password","ngModel","","name","password","id","exampleInputPassword1","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["id","emailHelp",1,"form-text","text-muted"]],template:function(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h3"),r.lc(4,"Welcome to Ride Shop"),r.Kb(),r.Kb(),r.Lb(5,"div",3),r.Lb(6,"a",4),r.Lb(7,"p",5),r.lc(8,"Ready to Comeback"),r.Kb(),r.Kb(),r.Lb(9,"div",6),r.Lb(10,"form",7,8),r.Sb("ngSubmit",function(){r.fc(t);const n=r.ec(11);return e.loginUser(n)}),r.Lb(12,"div",9),r.Lb(13,"div",10),r.Jb(14,"input",11,12),r.jc(16,qO,2,1,"div",13),r.Kb(),r.Lb(17,"div",10),r.Jb(18,"input",14,15),r.jc(20,HO,3,2,"div",13),r.Kb(),r.Kb(),r.Lb(21,"div",16),r.Lb(22,"button",17),r.Lb(23,"div"),r.lc(24,"login"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.jc(25,GO,4,2,"div",18),r.Kb(),r.Lb(26,"div",19),r.lc(27,"You can Join by single Click"),r.Kb(),r.Lb(28,"div",20),r.Lb(29,"div",2),r.Lb(30,"button",21),r.Sb("click",function(){return e.loginGoogle()}),r.Jb(31,"img",22),r.Kb(),r.Kb(),r.Lb(32,"div",2),r.Lb(33,"a",23),r.Sb("click",function(){return e.loginFacebook()}),r.Jb(34,"img",24),r.Kb(),r.Kb(),r.Kb(),r.Lb(35,"a",25),r.Lb(36,"div",26),r.lc(37,"Don't have account click me!"),r.Kb(),r.Kb(),r.Lb(38,"div",27),r.Lb(39,"form",28,29),r.Sb("ngSubmit",function(){r.fc(t);const n=r.ec(40);return e.createUser(n)}),r.Lb(41,"div",30),r.Lb(42,"label",31),r.lc(43,"Email address"),r.Kb(),r.Jb(44,"input",32,12),r.jc(46,WO,2,0,"div",13),r.jc(47,QO,2,0,"small",33),r.Kb(),r.Lb(48,"div",30),r.Lb(49,"label",34),r.lc(50,"Password"),r.Kb(),r.Jb(51,"input",35,15),r.jc(53,JO,3,2,"div",13),r.Kb(),r.jc(54,ZO,4,2,"div",18),r.Lb(55,"button",36),r.lc(56,"Submit"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.ec(11),n=r.ec(15),i=r.ec(19),o=r.ec(40);r.yb(16),r.Zb("ngIf",n.touched&&!n.valid),r.yb(4),r.Zb("ngIf",i.touched&&!i.valid),r.yb(2),r.Zb("disabled",!t.valid),r.yb(3),r.Zb("ngIf",e.error),r.yb(21),r.Zb("ngIf",!n.valid&&n.touched),r.yb(1),r.Zb("ngIf",n.touched),r.yb(6),r.Zb("ngIf",!i.valid&&i.touched),r.yb(1),r.Zb("ngIf",e.error2),r.yb(1),r.Zb("disabled",!o.valid)}},directives:[EO,F_,wO,w_,z_,IO,CO,M,SO],styles:['.card-img-top[_ngcontent-%COMP%]{max-width:5em;max-height:5em}.border[_ngcontent-%COMP%]{border-radius:5px}.card[_ngcontent-%COMP%]{align-items:center;border:#87ceeb}@media (max-width:980px){.card-img-overlay[_ngcontent-%COMP%]{display:block}}@media (min-width:980px){.card-img-overlay[_ngcontent-%COMP%]{display:none}}.col-bt-btn-primary[_ngcontent-%COMP%]{max-width:50em}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center}.separator[_ngcontent-%COMP%]:after, .separator[_ngcontent-%COMP%]:before{content:"";flex:1;border-bottom:1px solid #87ceeb}.separator[_ngcontent-%COMP%]:before{margin-right:.25em}.separator[_ngcontent-%COMP%]:after{margin-left:.25em}']}),t})()},{path:"user/:uid",component:(()=>{class t{constructor(t,e){this.authService=t,this.router=e}ngOnInit(){this.authService.signedIn$.subscribe(t=>{this.userData=t,console.log(t)})}logOut(){this.authService.logOut(),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(DO),r.Ib(Yr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-user-dashbord"]],decls:3,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container-fluid","border","border-dark","rounded"],[1,"row","align-items-start"],[1,"col-md-2"],["src","./../../../assets/car-1.jpg","alt","","srcset","",1,"img-thumbnail"],[1,"col-md-8","align-self-end"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","link-dark",3,"routerLink"],[1,"container","border","border-danger"],["name","userTab"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.Jb(1,"br"),r.jc(2,oI,23,25,"div",0)),2&t&&(r.yb(2),r.Zb("ngIf",e.userData))},directives:[M,Zr,ti,ei],styles:[""]}),t})(),canActivate:[Vi],data:{authGuardPipe:()=>qi(["login"])},children:[{path:"addCar",component:(()=>{class t{constructor(t,e,n,r,i){this.carService=t,this.as=e,this.router=n,this.route=r,this.userService=i,this.show=!1,this.date=(new Date).getFullYear(),this.p=0,this.ymin=1900,this.ymax=this.date+1,this.imgUrl="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjUxMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii01MyAxIDUxMSA1MTEuOTk5MDYiIHdpZHRoPSI1MTJweCI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIGQ9Ik0gMjc2LjQxMDE1NiAzLjk1NzAzMSBDIDI3NC4wNjI1IDEuNDg0Mzc1IDI3MC44NDM3NSAwIDI2Ny41MDc4MTIgMCBMIDY3Ljc3NzM0NCAwIEMgMzAuOTIxODc1IDAgMC41IDMwLjMwMDc4MSAwLjUgNjcuMTUyMzQ0IEwgMC41IDQ0NC44NDM3NSBDIDAuNSA0ODEuNjk5MjE5IDMwLjkyMTg3NSA1MTIgNjcuNzc3MzQ0IDUxMiBMIDMzOC44NjMyODEgNTEyIEMgMzc1LjcxODc1IDUxMiA0MDYuMTQwNjI1IDQ4MS42OTkyMTkgNDA2LjE0MDYyNSA0NDQuODQzNzUgTCA0MDYuMTQwNjI1IDE0NC45NDE0MDYgQyA0MDYuMTQwNjI1IDE0MS43MjY1NjIgNDA0LjY1NjI1IDEzOC42MzY3MTkgNDAyLjU1NDY4OCAxMzYuMjg1MTU2IFogTSAyNzkuOTk2MDk0IDQzLjY1NjI1IEwgMzY0LjQ2NDg0NCAxMzIuMzI4MTI1IEwgMzA5LjU1NDY4OCAxMzIuMzI4MTI1IEMgMjkzLjIzMDQ2OSAxMzIuMzI4MTI1IDI3OS45OTYwOTQgMTE5LjIxODc1IDI3OS45OTYwOTQgMTAyLjg5NDUzMSBaIE0gMzM4Ljg2MzI4MSA0ODcuMjY1NjI1IEwgNjcuNzc3MzQ0IDQ4Ny4yNjU2MjUgQyA0NC42NTIzNDQgNDg3LjI2NTYyNSAyNS4yMzQzNzUgNDY4LjA5NzY1NiAyNS4yMzQzNzUgNDQ0Ljg0Mzc1IEwgMjUuMjM0Mzc1IDY3LjE1MjM0NCBDIDI1LjIzNDM3NSA0NC4wMjczNDQgNDQuNTI3MzQ0IDI0LjczNDM3NSA2Ny43NzczNDQgMjQuNzM0Mzc1IEwgMjU1LjI2MTcxOSAyNC43MzQzNzUgTCAyNTUuMjYxNzE5IDEwMi44OTQ1MzEgQyAyNTUuMjYxNzE5IDEzMi45NDUzMTIgMjc5LjUwMzkwNiAxNTcuMDYyNSAzMDkuNTU0Njg4IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDQ0NC44NDM3NSBDIDM4MS40MDYyNSA0NjguMDk3NjU2IDM2Mi4xMTMyODEgNDg3LjI2NTYyNSAzMzguODYzMjgxIDQ4Ny4yNjU2MjUgWiBNIDMzOC44NjMyODEgNDg3LjI2NTYyNSAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAzMDUuMTAxNTYyIDQwMS45MzM1OTQgTCAxMDEuNTM5MDYyIDQwMS45MzM1OTQgQyA5NC43MzgyODEgNDAxLjkzMzU5NCA4OS4xNzE4NzUgNDA3LjQ5NjA5NCA4OS4xNzE4NzUgNDE0LjMwMDc4MSBDIDg5LjE3MTg3NSA0MjEuMTAxNTYyIDk0LjczODI4MSA0MjYuNjY3OTY5IDEwMS41MzkwNjIgNDI2LjY2Nzk2OSBMIDMwNS4yMjY1NjIgNDI2LjY2Nzk2OSBDIDMxMi4wMjczNDQgNDI2LjY2Nzk2OSAzMTcuNTkzNzUgNDIxLjEwMTU2MiAzMTcuNTkzNzUgNDE0LjMwMDc4MSBDIDMxNy41OTM3NSA0MDcuNDk2MDk0IDMxMi4wMjczNDQgNDAxLjkzMzU5NCAzMDUuMTAxNTYyIDQwMS45MzM1OTQgWiBNIDMwNS4xMDE1NjIgNDAxLjkzMzU5NCAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAxNDAgMjY4Ljg2MzI4MSBMIDE5MC45NTMxMjUgMjE0LjA3NDIxOSBMIDE5MC45NTMxMjUgMzQ5LjEyNSBDIDE5MC45NTMxMjUgMzU1LjkyNTc4MSAxOTYuNTE5NTMxIDM2MS40OTIxODggMjAzLjMyMDMxMiAzNjEuNDkyMTg4IEMgMjEwLjEyNSAzNjEuNDkyMTg4IDIxNS42ODc1IDM1NS45MjU3ODEgMjE1LjY4NzUgMzQ5LjEyNSBMIDIxNS42ODc1IDIxNC4wNzQyMTkgTCAyNjYuNjQwNjI1IDI2OC44NjMyODEgQyAyNjkuMTEzMjgxIDI3MS40NTcwMzEgMjcyLjMzMjAzMSAyNzIuODIwMzEyIDI3NS42Njc5NjkgMjcyLjgyMDMxMiBDIDI3OC42MzY3MTkgMjcyLjgyMDMxMiAyODEuNzMwNDY5IDI3MS43MDcwMzEgMjg0LjA3ODEyNSAyNjkuNDgwNDY5IEMgMjg5LjAyNzM0NCAyNjQuNzgxMjUgMjg5LjM5ODQzOCAyNTYuOTg4MjgxIDI4NC42OTkyMTkgMjUyLjA0Mjk2OSBMIDIxMi4yMjY1NjIgMTc0LjI1MzkwNiBDIDIwOS44NzUgMTcxLjc4MTI1IDIwNi42NjAxNTYgMTcwLjI5Njg3NSAyMDMuMTk5MjE5IDE3MC4yOTY4NzUgQyAxOTkuNzM0Mzc1IDE3MC4yOTY4NzUgMTk2LjUxOTUzMSAxNzEuNzgxMjUgMTk0LjE3MTg3NSAxNzQuMjUzOTA2IEwgMTIxLjY5OTIxOSAyNTIuMDQyOTY5IEMgMTE3IDI1Ni45ODgyODEgMTE3LjM3MTA5NCAyNjQuOTAyMzQ0IDEyMi4zMTY0MDYgMjY5LjQ4MDQ2OSBDIDEyNy41MTE3MTkgMjc0LjE3OTY4OCAxMzUuMzAwNzgxIDI3My44MDg1OTQgMTQwIDI2OC44NjMyODEgWiBNIDE0MCAyNjguODYzMjgxICIgc3R5bGU9IiBmaWxsLXJ1bGU6bm9uemVybztmaWxsLW9wYWNpdHk6MTsiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+Cjwvc3ZnPgo="}ngOnInit(){console.log(this.date),this.as.signedIn$.subscribe(t=>{console.log(t.uid),this.userData=t.uid,this.getPhone()})}selectedImg(t){this.images=t.target.files}getPhone(){this.userService.userCollection.doc(this.userData).valueChanges().subscribe(t=>{this.phone=t.phone})}addCar(t){this.getPhone(),t.value.color=t.value.color.toString(),this.carService.carCollection.add({id:this.userData,model:t.value.carModel,make:t.value.carMake,year:t.value.year,picture:t.value.photo,description:{price:t.value.carPrice,priceType:t.value.priceType,location:t.value.city,condition:t.value.condition,engine:t.value.engine,color:t.value.color,body:t.value.bodyType,transsmission:t.value.transsmission},phone:this.phone}).then(t=>Gi(this,void 0,void 0,function*(){const e=yield this.carService.upLoadImg(t.id,this.images);this.carService.carCollection.doc(t.id).update({picture:e||null}),this.imgUrl=e,this.router.navigate(["posts"],{relativeTo:this.route})})).catch(t=>console.log(t))}getCarMake(){return["audi","Chevrolet","Cadillac","Acura","BMW"]}nLength(t){if(this.y=1+(.43429448190325176*Math.log(Math.abs(t)+1)|0),4==this.y)return!0}lessthanval(t){return t>=this.date+1}greaterthan(t){return t<1900}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r_),r.Ib(DO),r.Ib(Yr),r.Ib(Mn),r.Ib(zO))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-addcar"]],decls:137,vars:20,consts:[[1,"container","border","rounded"],[1,"alert","alert-info"],[1,"container"],[3,"ngSubmit"],["addCarForm","ngForm"],[1,"mb-3"],["for","formGroupExampleInput",1,"form-label"],["type","text","id","formGroupExampleInput","placeholder"," eg. Toyota corola ","name","carModel","ngModel","","minlength","3","required","",1,"form-control"],["carModel","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","carMake"],["name","carMake","ngModel","","required","","id","carMake",1,"form-control"],["carMake","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],["for","carPrice"],["type","number","name","carPrice","id","carPrice","placeholder","Eth","ngModel","","required","",1,"form-control"],["carPrice","ngModel"],["name","priceType","id","priceType","ngModel","","required","",1,"form-control"],["priceType","ngModel"],["value","negotiable"],["value","fixed"],["value","price on call"],["for","year"],["type","number","name","year","ngModel","","required","","id","year","placeholder","YYYY",1,"form-control"],["year","ngModel"],[1,"col-md-6"],["name","engine","id","engine","ngModel","","required","",1,"form-control"],["engine","ngModel"],["value","Diesel"],["value","Benzine"],["value","Hybrid"],["for","type"],["name","bodyType","id","type","ngModel","","required","",1,"form-control"],["bodyType","ngModel"],["value","car"],["value","van"],["value","truck"],["value","motorcycle"],["for","location"],["type","text","name","city","id","location","ngModel","","placeholder","Where you reside",1,"form-control"],["city","ngModel"],["name","condition","id","condition","ngModel","","required","",1,"form-control"],["condition","ngModel"],["name","transsmission","id","transsmission","ngModel","",1,"form-control"],["transsmission","ngModel"],["value","automatic","default",""],["value","manual"],["for","exampleColorInput",1,"form-label"],["type","color","id","exampleColorInput","value","#ff0000","title","Choose your color","name","color","ngModel","","required","",1,"form-control","form-control-color"],["color","ngModel"],[1,"col-md-12","col-lg-12","col-xs-12","col-sm-12"],[1,"control-label"],["id","dropzone",1,"dropzone","dz-clickable"],[1,"dz-default","dz-message"],[1,"hiddenFileInput"],["type","file","name","photo","ngModel","","accept",".jpg, .png, .jpeg","required","",3,"change"],["photo","ngModel"],[1,"row","justify-content-end"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled","click"],[3,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","75%"]],template:function(t,e){if(1&t){const t=r.Mb();r.Jb(0,"br"),r.Lb(1,"div",0),r.Lb(2,"div",1),r.lc(3," Make sure u registerd Phone number to get contacted on your ads"),r.Kb(),r.Jb(4,"br"),r.Lb(5,"div",2),r.Lb(6,"form",3,4),r.Sb("ngSubmit",function(){r.fc(t);const n=r.ec(7);return e.addCar(n)}),r.Lb(8,"div",5),r.Lb(9,"label",6),r.lc(10,"Car Model"),r.Kb(),r.Jb(11,"input",7,8),r.jc(13,aI,2,1,"div",9),r.Kb(),r.Lb(14,"div",5),r.Lb(15,"div",10),r.Lb(16,"label",11),r.lc(17,"Select Car Make"),r.Kb(),r.Lb(18,"select",12,13),r.jc(20,uI,2,2,"option",14),r.Kb(),r.jc(21,lI,2,1,"div",9),r.Kb(),r.Kb(),r.Lb(22,"div",15),r.Lb(23,"div",16),r.Lb(24,"div",10),r.Lb(25,"label",17),r.lc(26,"Price"),r.Kb(),r.Jb(27,"input",18,19),r.jc(29,fI,2,1,"div",9),r.jc(30,dI,2,0,"div",9),r.Kb(),r.Kb(),r.Lb(31,"div",16),r.Lb(32,"div",10),r.Lb(33,"label",11),r.lc(34,"Price Type"),r.Kb(),r.Lb(35,"select",20,21),r.Lb(37,"option",22),r.lc(38,"Negotiable"),r.Kb(),r.Lb(39,"option",23),r.lc(40,"Fixed"),r.Kb(),r.Lb(41,"option",24),r.lc(42,"Price on Call"),r.Kb(),r.Kb(),r.jc(43,gI,2,1,"div",9),r.Kb(),r.Kb(),r.Lb(44,"div",16),r.Lb(45,"div",10),r.Lb(46,"label",25),r.lc(47,"Year"),r.Kb(),r.Jb(48,"input",26,27),r.Kb(),r.jc(50,vI,2,1,"div",9),r.jc(51,yI,2,0,"div",9),r.jc(52,mI,2,1,"div",9),r.jc(53,wI,2,0,"div",9),r.Kb(),r.Kb(),r.Lb(54,"div",15),r.Lb(55,"div",28),r.Lb(56,"div",10),r.Lb(57,"label",11),r.lc(58,"Engine"),r.Kb(),r.Lb(59,"select",29,30),r.Lb(61,"option",31),r.lc(62,"Diesel"),r.Kb(),r.Lb(63,"option",32),r.lc(64,"Benzine"),r.Kb(),r.Lb(65,"option",33),r.lc(66,"Hybrid"),r.Kb(),r.Kb(),r.jc(67,OI,2,1,"div",9),r.Kb(),r.Kb(),r.Lb(68,"div",28),r.Lb(69,"div",10),r.Lb(70,"label",34),r.lc(71,"Body Type"),r.Kb(),r.Lb(72,"select",35,36),r.Lb(74,"option",37),r.lc(75,"Car"),r.Kb(),r.Lb(76,"option",38),r.lc(77,"Van"),r.Kb(),r.Lb(78,"option",39),r.lc(79,"Truck"),r.Kb(),r.Lb(80,"option",40),r.lc(81,"Motorcycle"),r.Kb(),r.Kb(),r.jc(82,EI,2,1,"div",9),r.Kb(),r.Kb(),r.Kb(),r.Lb(83,"div",15),r.Lb(84,"div",28),r.Lb(85,"div",10),r.Lb(86,"label",41),r.lc(87,"City"),r.Kb(),r.Jb(88,"input",42,43),r.Kb(),r.Kb(),r.Lb(90,"div",28),r.Lb(91,"div",10),r.Lb(92,"label",34),r.lc(93,"Condition"),r.Kb(),r.Lb(94,"select",44,45),r.Lb(96,"option"),r.lc(97,"New"),r.Kb(),r.Lb(98,"option"),r.lc(99,"Used"),r.Kb(),r.Lb(100,"option"),r.lc(101,"slightly Used"),r.Kb(),r.Kb(),r.jc(102,CI,2,1,"div",9),r.Kb(),r.Kb(),r.Kb(),r.Lb(103,"div",15),r.Lb(104,"div",28),r.Lb(105,"div",10),r.Lb(106,"label",34),r.lc(107,"Transsmission"),r.Kb(),r.Lb(108,"select",46,47),r.Lb(110,"option",48),r.lc(111,"Automatic"),r.Kb(),r.Lb(112,"option",49),r.lc(113,"Manual"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(114,"div",28),r.Lb(115,"label",50),r.lc(116,"Color picker"),r.Kb(),r.Jb(117,"input",51,52),r.jc(119,SI,2,1,"div",9),r.Kb(),r.Kb(),r.Lb(120,"div",15),r.Lb(121,"div",53),r.Lb(122,"label",54),r.lc(123,"Photos for your ad "),r.Lb(124,"small"),r.lc(125,"Only allowed jpg, png and jpeg and max file will not more than 1MB"),r.Kb(),r.Kb(),r.Lb(126,"div",55),r.Lb(127,"div",56),r.Lb(128,"span",57),r.Lb(129,"input",58,59),r.Sb("change",function(t){return e.selectedImg(t)}),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.jc(131,AI,2,1,"div",9),r.Kb(),r.Kb(),r.Jb(132,"br"),r.Lb(133,"div",60),r.Lb(134,"button",61),r.Sb("click",function(){return e.show=!e.show}),r.lc(135," Submit your car "),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.jc(136,NI,2,0,"ng-template",62)}if(2&t){const t=r.ec(7),n=r.ec(12),i=r.ec(19),o=r.ec(28),s=r.ec(36),a=r.ec(49),u=r.ec(60),c=r.ec(73),l=r.ec(95),h=r.ec(118),f=r.ec(130);r.yb(13),r.Zb("ngIf",!n.valid&&n.touched),r.yb(7),r.Zb("ngForOf",e.getCarMake()),r.yb(1),r.Zb("ngIf",!i.valid&&i.touched),r.yb(8),r.Zb("ngIf",o.touched&&!o.valid),r.yb(1),r.Zb("ngIf",o.touched&&!o.value),r.yb(13),r.Zb("ngIf",s.touched&&!s.valid),r.yb(7),r.Zb("ngIf",a.touched&&!a.valid),r.yb(1),r.Zb("ngIf",a.touched&&e.greaterthan(a.value)),r.yb(1),r.Zb("ngIf",a.touched&&e.lessthanval(a.value)),r.yb(1),r.Zb("ngIf",a.touched&&!e.nLength(a.value)),r.yb(14),r.Zb("ngIf",u.touched&&!u.valid),r.yb(15),r.Zb("ngIf",c.touched&&!c.valid),r.yb(20),r.Zb("ngIf",l.touched&&!l.valid),r.yb(17),r.Zb("ngIf",h.touched&&!h.valid),r.yb(9),r.ic(" background-image: url(",e.imgUrl,");"),r.yb(3),r.Zb("ngIf",f.touched&&!f.valid),r.yb(3),r.Zb("disabled",!t.valid),r.yb(2),r.Zb("ngIf",e.show)}},directives:[EO,F_,wO,w_,z_,IO,SO,CO,M,J_,A,K_,Z_,nO],styles:[".dropzone[_ngcontent-%COMP%]   .dz-default.dz-message[_ngcontent-%COMP%]{margin:2em 0;color:#232323;font-size:30px;font-weight:600;text-align:center}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:1;-ms-filter:none;filter:none}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default;background-repeat:no-repeat;background-size:contain}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .dropzone-previews[_ngcontent-%COMP%], .dropzone-previews[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]{border:2px dotted #ccc;border-radius:3px;background:rgba(0,0,0,.03);padding:23px;letter-spacing:1px}.hiddenFileInput[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:100%;width:100;opacity:0;cursor:pointer}.hiddenFileInput[_ngcontent-%COMP%]{border:1px solid #ccc;width:100px;height:100px;display:inline-block;overflow:hidden;cursor:pointer;background:50% no-repeat;background-size:75% 75%;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjUxMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii01MyAxIDUxMSA1MTEuOTk5MDYiIHdpZHRoPSI1MTJweCI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIGQ9Ik0gMjc2LjQxMDE1NiAzLjk1NzAzMSBDIDI3NC4wNjI1IDEuNDg0Mzc1IDI3MC44NDM3NSAwIDI2Ny41MDc4MTIgMCBMIDY3Ljc3NzM0NCAwIEMgMzAuOTIxODc1IDAgMC41IDMwLjMwMDc4MSAwLjUgNjcuMTUyMzQ0IEwgMC41IDQ0NC44NDM3NSBDIDAuNSA0ODEuNjk5MjE5IDMwLjkyMTg3NSA1MTIgNjcuNzc3MzQ0IDUxMiBMIDMzOC44NjMyODEgNTEyIEMgMzc1LjcxODc1IDUxMiA0MDYuMTQwNjI1IDQ4MS42OTkyMTkgNDA2LjE0MDYyNSA0NDQuODQzNzUgTCA0MDYuMTQwNjI1IDE0NC45NDE0MDYgQyA0MDYuMTQwNjI1IDE0MS43MjY1NjIgNDA0LjY1NjI1IDEzOC42MzY3MTkgNDAyLjU1NDY4OCAxMzYuMjg1MTU2IFogTSAyNzkuOTk2MDk0IDQzLjY1NjI1IEwgMzY0LjQ2NDg0NCAxMzIuMzI4MTI1IEwgMzA5LjU1NDY4OCAxMzIuMzI4MTI1IEMgMjkzLjIzMDQ2OSAxMzIuMzI4MTI1IDI3OS45OTYwOTQgMTE5LjIxODc1IDI3OS45OTYwOTQgMTAyLjg5NDUzMSBaIE0gMzM4Ljg2MzI4MSA0ODcuMjY1NjI1IEwgNjcuNzc3MzQ0IDQ4Ny4yNjU2MjUgQyA0NC42NTIzNDQgNDg3LjI2NTYyNSAyNS4yMzQzNzUgNDY4LjA5NzY1NiAyNS4yMzQzNzUgNDQ0Ljg0Mzc1IEwgMjUuMjM0Mzc1IDY3LjE1MjM0NCBDIDI1LjIzNDM3NSA0NC4wMjczNDQgNDQuNTI3MzQ0IDI0LjczNDM3NSA2Ny43NzczNDQgMjQuNzM0Mzc1IEwgMjU1LjI2MTcxOSAyNC43MzQzNzUgTCAyNTUuMjYxNzE5IDEwMi44OTQ1MzEgQyAyNTUuMjYxNzE5IDEzMi45NDUzMTIgMjc5LjUwMzkwNiAxNTcuMDYyNSAzMDkuNTU0Njg4IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDQ0NC44NDM3NSBDIDM4MS40MDYyNSA0NjguMDk3NjU2IDM2Mi4xMTMyODEgNDg3LjI2NTYyNSAzMzguODYzMjgxIDQ4Ny4yNjU2MjUgWiBNIDMzOC44NjMyODEgNDg3LjI2NTYyNSAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAzMDUuMTAxNTYyIDQwMS45MzM1OTQgTCAxMDEuNTM5MDYyIDQwMS45MzM1OTQgQyA5NC43MzgyODEgNDAxLjkzMzU5NCA4OS4xNzE4NzUgNDA3LjQ5NjA5NCA4OS4xNzE4NzUgNDE0LjMwMDc4MSBDIDg5LjE3MTg3NSA0MjEuMTAxNTYyIDk0LjczODI4MSA0MjYuNjY3OTY5IDEwMS41MzkwNjIgNDI2LjY2Nzk2OSBMIDMwNS4yMjY1NjIgNDI2LjY2Nzk2OSBDIDMxMi4wMjczNDQgNDI2LjY2Nzk2OSAzMTcuNTkzNzUgNDIxLjEwMTU2MiAzMTcuNTkzNzUgNDE0LjMwMDc4MSBDIDMxNy41OTM3NSA0MDcuNDk2MDk0IDMxMi4wMjczNDQgNDAxLjkzMzU5NCAzMDUuMTAxNTYyIDQwMS45MzM1OTQgWiBNIDMwNS4xMDE1NjIgNDAxLjkzMzU5NCAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAxNDAgMjY4Ljg2MzI4MSBMIDE5MC45NTMxMjUgMjE0LjA3NDIxOSBMIDE5MC45NTMxMjUgMzQ5LjEyNSBDIDE5MC45NTMxMjUgMzU1LjkyNTc4MSAxOTYuNTE5NTMxIDM2MS40OTIxODggMjAzLjMyMDMxMiAzNjEuNDkyMTg4IEMgMjEwLjEyNSAzNjEuNDkyMTg4IDIxNS42ODc1IDM1NS45MjU3ODEgMjE1LjY4NzUgMzQ5LjEyNSBMIDIxNS42ODc1IDIxNC4wNzQyMTkgTCAyNjYuNjQwNjI1IDI2OC44NjMyODEgQyAyNjkuMTEzMjgxIDI3MS40NTcwMzEgMjcyLjMzMjAzMSAyNzIuODIwMzEyIDI3NS42Njc5NjkgMjcyLjgyMDMxMiBDIDI3OC42MzY3MTkgMjcyLjgyMDMxMiAyODEuNzMwNDY5IDI3MS43MDcwMzEgMjg0LjA3ODEyNSAyNjkuNDgwNDY5IEMgMjg5LjAyNzM0NCAyNjQuNzgxMjUgMjg5LjM5ODQzOCAyNTYuOTg4MjgxIDI4NC42OTkyMTkgMjUyLjA0Mjk2OSBMIDIxMi4yMjY1NjIgMTc0LjI1MzkwNiBDIDIwOS44NzUgMTcxLjc4MTI1IDIwNi42NjAxNTYgMTcwLjI5Njg3NSAyMDMuMTk5MjE5IDE3MC4yOTY4NzUgQyAxOTkuNzM0Mzc1IDE3MC4yOTY4NzUgMTk2LjUxOTUzMSAxNzEuNzgxMjUgMTk0LjE3MTg3NSAxNzQuMjUzOTA2IEwgMTIxLjY5OTIxOSAyNTIuMDQyOTY5IEMgMTE3IDI1Ni45ODgyODEgMTE3LjM3MTA5NCAyNjQuOTAyMzQ0IDEyMi4zMTY0MDYgMjY5LjQ4MDQ2OSBDIDEyNy41MTE3MTkgMjc0LjE3OTY4OCAxMzUuMzAwNzgxIDI3My44MDg1OTQgMTQwIDI2OC44NjMyODEgWiBNIDE0MCAyNjguODYzMjgxICIgc3R5bGU9IiBmaWxsLXJ1bGU6bm9uemVybztmaWxsLW9wYWNpdHk6MTsiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+Cjwvc3ZnPgo=)}"]}),t})(),outlet:"userTab"},{path:"profile",component:(()=>{class t{constructor(t,e,n,r,i){this.route=t,this.authService=e,this.userService=n,this.router=r,this.carService=i}ngOnInit(){this.authService.signedIn$.subscribe(t=>{this.userId=t.uid,console.log(this.userId),this.userData=this.getUser(),console.log(this.userData)})}getUser(){return this.userService.userCollection.doc(this.userId).valueChanges()}updatephone(t){console.log(t),this.userService.userCollection.doc(this.userId).update({phone:t.number}).catch(t=>{console.log(t)})}updateUsername(t){console.log(t),this.userService.userCollection.doc(this.userId).update({name:t.name||this.userData.displayName}).catch(t=>{console.log(t)})}deleteUser(){this.carService.getPosts(this.userId).doc().delete(),this.userService.reAuthenticate().then(()=>{this.userService.fb.delete().then(()=>this.router.navigate(["home"])).catch(t=>console.log(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mn),r.Ib(DO),r.Ib(zO),r.Ib(Yr),r.Ib(r_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-user-profile"]],decls:2,vars:3,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"col-md"],[1,"row"],[1,"text-alaign-left"],[1,"justify-content-end"],["type","button","data-toggle","collapse","data-parent","#accordianId","href","#section2ContentId","aria-expanded","true","aria-controls","section2ContentId",1,"btn","btn-outline-light","text-dark","btn-sm"],["id","accordianId","role","tablist","aria-multiselectable","true"],[1,"col"],["id","section2ContentId","role","tabpanel","aria-labelledby","section2HeaderId",1,"accordion-collapse","collapse"],[1,"container","justify-content-end"],[1,"row",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-md-8"],["ngModel","","type","text","name","name","id","name","placeholder","Your username","required","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"col","col-md-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formphone","ngForm"],["ngModel","","type","number","name","number","id","number","placeholder","Your Phone Number","required","",1,"form-control"],["number","ngModel"],[1,"col-md-4"],[1,"d-grid","gap-2","d-md-flex","justify-content-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,e){1&t&&(r.jc(0,PI,58,7,"div",0),r.Xb(1,"async")),2&t&&r.Zb("ngIf",r.Yb(1,1,e.userData))},directives:[M,EO,F_,wO,w_,z_,IO,CO,K_],pipes:[V],styles:[""]}),t})(),outlet:"userTab"},{path:"posts",component:(()=>{class t{constructor(t,e,n){this.route=t,this.authService=e,this.carService=n}ngOnInit(){this.authService.signedIn$.subscribe(t=>{this.userId=t.uid,console.log(this.userId),this.carService.getPosts(this.userId).snapshotChanges().subscribe(t=>this.posts=t.map(t=>Object.assign({cid:t.payload.doc.id},t.payload.doc.data())))})}showtotal(t){this.totalPosts=t}deletePost(){console.log(this.carid),this.carService.carCollection.doc(this.carid).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mn),r.Ib(DO),r.Ib(r_))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-user-posts"]],decls:2,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],["show",""],["class","card col-md-4 p-1",4,"ngFor","ngForOf"],[1,"card","col-md-4","p-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-6"],["alt","","srcset","",1,"img-thumbnail",3,"src"],[1,"col"],[1,"d-flex","justify-content-end"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-outline-danger","float-end",3,"click"]],template:function(t,e){1&t&&(r.Jb(0,"br"),r.jc(1,UI,3,1,"div",0)),2&t&&(r.yb(1),r.Zb("ngIf",e.posts))},directives:[M,A],styles:[""]}),t})(),outlet:"userTab"}]}];let zI=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[z,hi.forChild(VI)],hi]}),t})(),FI=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[VO]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[mt,Hi,f_,NO,h_,zI,kO,Ai.a.initializeApp(i),Sm,n_]]}),t})();Object(r.S)(),vt().bootstrapModule(FI).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);