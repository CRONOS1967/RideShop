!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||a(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return s(t)}(t)||o(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){throw t}),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){s=!0,o=t}),f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,_(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,t)})(t)}function l(t,e,n){return(l=w()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=w();return function(){var n,r=_(t);if(e){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],s=this.normalizeInstanceIdentifier(u[0]);try{var c=this.getOrInitializeService(s);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return s}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}s((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return u}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=g(n);function n(t,r){return f(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(o){return o.pipe(u(function(n,o){return Object(i.a)(t(n,o)).pipe(Object(r.a)(function(t,r){return e(n,t,o,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new a(t,n))})}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.project,this.concurrent))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new o.a(this),n=this.destination;n.add(e);var r=Object(o.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(o.b)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),u=n("2QA8"),a=n("2fFW"),s=n("NJ4a"),c=function(t){v(n,t);var e=g(n);function n(t,r,o){var u;switch(f(this,n),(u=e.call(this)).syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=i.a;break;case 1:if(!t){u.destination=i.a;break}if("object"==typeof t){t instanceof n?(u.syncErrorThrowable=t.syncErrorThrowable,u.destination=t,t.add(m(u))):(u.syncErrorThrowable=!0,u.destination=new l(m(u),t));break}default:u.syncErrorThrowable=!0,u.destination=new l(m(u),t,r,o)}return u}return p(n,[{key:u.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,h(_(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=g(n);function n(t,o,u,a){var s,c;f(this,n),(s=e.call(this))._parentSubscriber=t;var l=m(s);return Object(r.a)(o)?c=o:o&&(c=o.next,u=o.error,a=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&s.add(l.unsubscribe.bind(l)),l.unsubscribe=s.unsubscribe.bind(m(s)))),s._context=l,s._next=c,s._error=u,s._complete=a,s}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=a.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),u=n("kJWO"),a=n("jZKg"),s=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[u.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[u.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),u=n("gRHU"),a=n("kJWO"),s=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(u.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:a.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(s.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=g(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==m(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):h(_(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var u=e[e.length-1];return Object(r.a)(u)?(e.pop(),Object(o.a)(e,u)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),u=n("kJWO"),a=n("I55L"),s=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[u.a])return l=t,function(t){var e=l[u.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(s.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),u=n("yCtX");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=Number.POSITIVE_INFINITY,s=null,c=e[e.length-1];return Object(i.a)(c)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(a=e.pop())):"number"==typeof c&&(a=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(a)(Object(u.a)(e,s))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),u=n("9ppp"),a=n("Ylt2"),s=n("2QA8"),c=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:s.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new u.a;return h(_(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return wn}),r.d(n,"b",function(){return Ns}),r.d(n,"c",function(){return Cs}),r.d(n,"d",function(){return Es}),r.d(n,"e",function(){return Ts}),r.d(n,"f",function(){return _c}),r.d(n,"g",function(){return hc}),r.d(n,"h",function(){return Aa}),r.d(n,"i",function(){return Ks}),r.d(n,"j",function(){return ra}),r.d(n,"k",function(){return Ls}),r.d(n,"l",function(){return aa}),r.d(n,"m",function(){return Lr}),r.d(n,"n",function(){return as}),r.d(n,"o",function(){return vo}),r.d(n,"p",function(){return An}),r.d(n,"q",function(){return mn}),r.d(n,"r",function(){return xo}),r.d(n,"s",function(){return Ia}),r.d(n,"t",function(){return Ea}),r.d(n,"u",function(){return Ds}),r.d(n,"v",function(){return za}),r.d(n,"w",function(){return dc}),r.d(n,"x",function(){return Va}),r.d(n,"y",function(){return oc}),r.d(n,"z",function(){return Gs}),r.d(n,"A",function(){return xn}),r.d(n,"B",function(){return xs}),r.d(n,"C",function(){return As}),r.d(n,"D",function(){return ca}),r.d(n,"E",function(){return sa}),r.d(n,"F",function(){return Vr}),r.d(n,"G",function(){return ha}),r.d(n,"H",function(){return Ar}),r.d(n,"I",function(){return Mn}),r.d(n,"J",function(){return yc}),r.d(n,"K",function(){return Pa}),r.d(n,"L",function(){return $s}),r.d(n,"M",function(){return _n}),r.d(n,"N",function(){return da}),r.d(n,"O",function(){return fa}),r.d(n,"P",function(){return qa}),r.d(n,"Q",function(){return Z}),r.d(n,"R",function(){return uc}),r.d(n,"S",function(){return ur}),r.d(n,"T",function(){return M}),r.d(n,"U",function(){return or}),r.d(n,"V",function(){return mc}),r.d(n,"W",function(){return ec}),r.d(n,"X",function(){return Ms}),r.d(n,"Y",function(){return go}),r.d(n,"Z",function(){return Hu}),r.d(n,"ab",function(){return jr}),r.d(n,"bb",function(){return hr}),r.d(n,"cb",function(){return Jn}),r.d(n,"db",function(){return Xn}),r.d(n,"eb",function(){return nr}),r.d(n,"fb",function(){return tr}),r.d(n,"gb",function(){return $n}),r.d(n,"hb",function(){return er}),r.d(n,"ib",function(){return Fu}),r.d(n,"jb",function(){return bc}),r.d(n,"kb",function(){return qu}),r.d(n,"lb",function(){return Ku}),r.d(n,"mb",function(){return Zn}),r.d(n,"nb",function(){return nt}),r.d(n,"ob",function(){return Fo}),r.d(n,"pb",function(){return ru}),r.d(n,"qb",function(){return nu}),r.d(n,"rb",function(){return zu}),r.d(n,"sb",function(){return qt}),r.d(n,"tb",function(){return A}),r.d(n,"ub",function(){return Yn}),r.d(n,"vb",function(){return Mo}),r.d(n,"wb",function(){return Pt}),r.d(n,"xb",function(){return ta}),r.d(n,"yb",function(){return wi}),r.d(n,"zb",function(){return Ho}),r.d(n,"Ab",function(){return wu}),r.d(n,"Bb",function(){return ws}),r.d(n,"Cb",function(){return dt}),r.d(n,"Db",function(){return wt}),r.d(n,"Eb",function(){return P}),r.d(n,"Fb",function(){return R}),r.d(n,"Gb",function(){return gt}),r.d(n,"Hb",function(){return _t}),r.d(n,"Ib",function(){return Yo}),r.d(n,"Jb",function(){return tu}),r.d(n,"Kb",function(){return $o}),r.d(n,"Lb",function(){return Xo}),r.d(n,"Mb",function(){return eu}),r.d(n,"Nb",function(){return yn}),r.d(n,"Ob",function(){return Pu}),r.d(n,"Pb",function(){return zn}),r.d(n,"Qb",function(){return gn}),r.d(n,"Rb",function(){return Is}),r.d(n,"Sb",function(){return iu}),r.d(n,"Tb",function(){return _s}),r.d(n,"Ub",function(){return Me}),r.d(n,"Vb",function(){return Ne}),r.d(n,"Wb",function(){return au}),r.d(n,"Xb",function(){return os}),r.d(n,"Yb",function(){return us}),r.d(n,"Zb",function(){return Jo}),r.d(n,"ac",function(){return su}),r.d(n,"bc",function(){return ns}),r.d(n,"cc",function(){return rs}),r.d(n,"dc",function(){return ms}),r.d(n,"ec",function(){return Qo}),r.d(n,"fc",function(){return ae}),r.d(n,"gc",function(){return xr}),r.d(n,"hc",function(){return bt}),r.d(n,"ic",function(){return Lu}),r.d(n,"jc",function(){return Wo}),r.d(n,"kc",function(){return Os}),r.d(n,"lc",function(){return xu}),r.d(n,"mc",function(){return Nu}),r.d(n,"nc",function(){return Mu}),r.d(n,"oc",function(){return Du});var o=r("XNiG"),a=r("quSY"),s=r("HDdC"),d=r("VRyK"),y=r("7o/Q");function b(){return function(t){return t.lift(new k(t))}}var w,k=function(){function t(e){f(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new O(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),O=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(y.a),I=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new T(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return b()(this)}}]),n}(s.a),E={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(w=I.prototype)._subscribe},_isComplete:{value:w._isComplete,writable:!0},getSubject:{value:w.getSubject},connect:{value:w.connect},refCount:{value:w.refCount}},T=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),h(_(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),h(_(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(o.b);function C(){return new o.a}function j(t){for(var e in t)if(t[e]===j)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function A(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(A).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function x(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var N=j({__forward_ref__:j});function M(t){return t.__forward_ref__=M,t.toString=function(){return A(this())},t}function D(t){return L(t)?t():t}function L(t){return"function"==typeof t&&t.hasOwnProperty(N)&&t.__forward_ref__===M}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function R(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function U(t){return V(t,q)||V(t,B)}function V(t,e){return t.hasOwnProperty(e)?t[e]:null}function z(t){return t&&(t.hasOwnProperty(K)||t.hasOwnProperty(H))?t[K]:null}var F,q=j({"\u0275prov":j}),K=j({"\u0275inj":j}),B=j({ngInjectableDef:j}),H=j({ngInjectorDef:j}),G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function W(t){var e=F;return F=t,e}function Q(t,e,n){var r=U(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&G.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(A(t),"]"))}function Y(t){return{toString:t}.toString()}var J=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Z=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),X="undefined"!=typeof globalThis&&globalThis,$="undefined"!=typeof window&&window,tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,et="undefined"!=typeof global&&global,nt=X||et||$||tt,rt={},it=[],ot=j({"\u0275cmp":j}),ut=j({"\u0275dir":j}),at=j({"\u0275pipe":j}),st=j({"\u0275mod":j}),ct=j({"\u0275loc":j}),lt=j({"\u0275fac":j}),ht=j({__NG_ELEMENT_ID__:j}),ft=0;function dt(t){return Y(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===J.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Z.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ft++,n.inputs=mt(t.inputs,e),n.outputs=mt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(pt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(vt)}:null,n})}function pt(t){return kt(t)||function(t){return t[ut]||null}(t)}function vt(t){return function(t){return t[at]||null}(t)}var yt={};function gt(t){var e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Y(function(){yt[t.id]=t.type}),e}function bt(t,e){return Y(function(){var n=Ot(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function mt(t,e){if(null==t)return rt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var wt=dt;function _t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function kt(t){return t[ot]||null}function Ot(t,e){var n=t[st]||null;if(!n&&!0===e)throw new Error("Type ".concat(A(t)," does not have '\u0275mod' property."));return n}function It(t){return Array.isArray(t)&&"object"==typeof t[1]}function Et(t){return Array.isArray(t)&&!0===t[1]}function Tt(t){return 0!=(8&t.flags)}function Ct(t){return 2==(2&t.flags)}function jt(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function At(t,e){return t.hasOwnProperty(lt)?t[lt]:null}var xt=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function Nt(t){return"string"==typeof t?t:null==t?"":String(t)}function Mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Nt(t)}function Dt(t,e){var n=e?" in "+e:"";throw new xt("201","No provider for ".concat(Mt(t)," found").concat(n))}var Lt=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Pt(){return Rt}function Rt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vt),Ut}function Ut(){var t=zt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===rt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Vt(t,e,n,r){var i=zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:rt,current:null}),o=i.current||(i.current={}),u=i.previous,a=this.declaredInputs[n],s=u[a];o[a]=new Lt(s&&s.currentValue,e,u===rt),t[r]=e}function zt(t){return t.__ngSimpleChanges__||null}Pt.ngInherit=!0;var Ft=void 0;function qt(t){Ft=t}function Kt(t){return!!t.listen}var Bt={createRenderer:function(t,e){return void 0!==Ft?Ft:"undefined"!=typeof document?document:void 0}};function Ht(t){for(;Array.isArray(t);)t=t[0];return t}function Gt(t,e){return Ht(e[t])}function Wt(t,e){return Ht(e[t.index])}function Qt(t,e){return t.data[e]}function Yt(t,e){return t[e]}function Jt(t,e){var n=e[t];return It(n)?n:n[0]}function Zt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xt(t){return 4==(4&t[2])}function $t(t){return 128==(128&t[2])}function te(t,e){return null==e?null:t[e]}function ee(t){t[18]=0}function ne(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var re={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ie(){return re.bindingsEnabled}function oe(){return re.lFrame.lView}function ue(){return re.lFrame.tView}function ae(t){re.lFrame.contextLView=t}function se(){for(var t=ce();null!==t&&64===t.type;)t=t.parent;return t}function ce(){return re.lFrame.currentTNode}function le(t,e){var n=re.lFrame;n.currentTNode=t,n.isParent=e}function he(){return re.lFrame.isParent}function fe(){return re.isInCheckNoChangesMode}function de(t){re.isInCheckNoChangesMode=t}function pe(){var t=re.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ve(){return re.lFrame.bindingIndex}function ye(){return re.lFrame.bindingIndex++}function ge(t){var e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function be(t){re.lFrame.currentDirectiveIndex=t}function me(){return re.lFrame.currentQueryIndex}function we(t){re.lFrame.currentQueryIndex=t}function _e(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ke(t,e,n){if(n&G.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&G.Host||(r=_e(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=re.lFrame=Ie();return o.currentTNode=e,o.lView=t,!0}function Oe(t){var e=Ie(),n=t[1];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ie(){var t=re.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Te(){var t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ce=Te;function je(){var t=Te();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Se(){return re.lFrame.selectedIndex}function Ae(t){re.lFrame.selectedIndex=t}function xe(){var t=re.lFrame;return Qt(t.tView,t.selectedIndex)}function Ne(){re.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Me(){re.lFrame.currentNamespace=null}function De(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,u=i.ngAfterContentChecked,a=i.ngAfterViewInit,s=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),u&&((t.contentHooks||(t.contentHooks=[])).push(n,u),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,u)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Le(t,e,n){Ue(t,e,3,n)}function Pe(t,e,n,r){(3&t[2])===n&&Ue(t,e,n,r)}function Re(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,r){for(var i=null!=r?r:-1,o=0,u=void 0!==r?65535&t[18]:0;u<e.length;u++)if("number"==typeof e[u+1]){if(o=e[u],null!=r&&o>=r)break}else e[u]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ve(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Ve(t,e,n,r){var i=n[r]<0,o=n[r+1],u=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(u)):o.call(u)}var ze=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Fe(t,e,n){for(var r=Kt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var u=n[i++],a=n[i++],s=n[i++];r?t.setAttribute(e,a,s,u):e.setAttributeNS(u,a,s)}else{var c=o,l=n[++i];Ke(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function qe(t){return 3===t||4===t||6===t}function Ke(t){return 64===t.charCodeAt(0)}function Be(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||He(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function He(t,e,n,r,i){var o=0,u=t.length;if(-1===e)u=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){u=-1;break}if(a>e){u=o-1;break}}}for(;o<t.length;){var s=t[o];if("number"==typeof s)break;if(s===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==u&&(t.splice(u,0,e),o=u+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ge(t){return-1!==t}function We(t){return 32767&t}function Qe(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var Ye=!0;function Je(t){var e=Ye;return Ye=t,e}var Ze=0;function Xe(t,e){var n=tn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,$e(r.data,t),$e(e,null),$e(r.blueprint,null));var i=en(t,e),o=t.injectorIndex;if(Ge(i))for(var u=We(i),a=Qe(i,e),s=a[1].data,c=0;c<8;c++)e[o+c]=a[u+c]|s[u+c];return e[o+8]=i,o}function $e(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function en(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],u=o.type;if(null===(r=2===u?o.declTNode:1===u?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function nn(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(r=n[ht]),null==r&&(r=n[ht]=Ze++);var i=255&r,o=1<<i,u=64&i,a=32&i,s=e.data;128&i?u?a?s[t+7]|=o:s[t+6]|=o:a?s[t+5]|=o:s[t+4]|=o:u?a?s[t+3]|=o:s[t+2]|=o:a?s[t+1]|=o:s[t]|=o}(t,e,n)}function rn(t,e,n){if(n&G.Optional)return t;Dt(e,"NodeInjector")}function on(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),0==(n&(G.Self|G.Host))){var i=t[9],o=W(void 0);try{return i?i.get(e,r,n&G.Optional):Q(e,r,n&G.Optional)}finally{W(o)}}return rn(r,e,n)}function un(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:G.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof e?e>=0?255&e:sn:e}(n);if("function"==typeof o){if(!ke(e,t,r))return r&G.Host?rn(i,n,r):on(e,n,r,i);try{var u=o();if(null!=u||r&G.Optional)return u;Dt(n)}finally{Ce()}}else if("number"==typeof o){var a=null,s=tn(t,e),c=-1,l=r&G.Host?e[16][6]:null;for((-1===s||r&G.SkipSelf)&&(-1!==(c=-1===s?en(t,e):e[s+8])&&dn(r,!1)?(a=e[1],s=We(c),e=Qe(c,e)):s=-1);-1!==s;){var h=e[1];if(fn(o,s,h.data)){var f=cn(s,e,n,a,r,l);if(f!==an)return f}-1!==(c=e[s+8])&&dn(r,e[1].data[s+8]===l)&&fn(o,s,e)?(a=h,s=We(c),e=Qe(c,e)):s=-1}}}return on(e,n,r,i)}var an={};function sn(){return new pn(se(),oe())}function cn(t,e,n,r,i,o){var u=e[1],a=u.data[t+8],s=ln(a,u,n,null==r?Ct(a)&&Ye:r!=u&&0!=(3&a.type),i&G.Host&&o===a);return null!==s?hn(e,u,s,a):an}function ln(t,e,n,r,i){for(var o=t.providerIndexes,u=e.data,a=1048575&o,s=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=u[h];if(h<s&&n===f||h>=s&&f.type===n)return h}if(i){var d=u[s];if(d&&St(d)&&d.type===n)return s}return null}function hn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof ze){var u=i;u.resolving&&function(t,e){throw new xt("200","Circular dependency in DI detected for "+t)}(Mt(o[n]));var a=Je(u.canSeeViewProviders);u.resolving=!0;var s=u.injectImpl?W(u.injectImpl):null;ke(t,r,G.Default);try{i=t[n]=u.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,u=r.ngDoCheck;if(i){var a=Rt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),u&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,u))}(n,o[n],e)}finally{null!==s&&W(s),Je(a),u.resolving=!1,Ce()}}return i}function fn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function dn(t,e){return!(t&G.Self||t&G.Host&&e)}var pn=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return un(this._tNode,this._lView,t,void 0,e)}}]),t}();function vn(t){var e=t;if(L(t))return function(){var t=vn(D(e));return t?t():null};var n=At(e);if(null===n){var r=z(e);n=r&&r.factory}return n||null}function yn(t){return Y(function(){for(var e=t.prototype.constructor,n=e[lt]||vn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[lt]||vn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function gn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(qe(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(se(),t)}function bn(t,e,n){return Y(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return u.annotation=o,u;function u(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mn=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),wn=new mn("AnalyzeForEntryComponents"),_n=Function;function kn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),kn(r,e)):e!==t&&e.push(r)}return e}function On(t,e){t.forEach(function(t){return Array.isArray(t)?On(t,e):e(t)})}function In(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function En(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Tn(t,e,n){var r=jn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Cn(t,e){var n=jn(t,e);if(n>=0)return t[1|n]}function jn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),u=t[o<<1];if(e===u)return o<<1;u>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Sn,An=bn("Inject",function(t){return{token:t}}),xn=bn("Optional"),Nn=bn("Self"),Mn=bn("SkipSelf"),Dn={},Ln=/\n/gm,Pn=j({provide:String,useValue:j}),Rn=void 0;function Un(t){var e=Rn;return Rn=t,e}function Vn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;if(void 0===Rn)throw new Error("inject() must be called from an injection context");return null===Rn?Q(t,void 0,e):Rn.get(t,e&G.Optional?null:void 0,e)}function zn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default;return(F||Vn)(D(t),e)}function Fn(t){for(var e=[],n=0;n<t.length;n++){var r=D(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=G.Default,u=0;u<r.length;u++){var a=r[u];a instanceof xn||"Optional"===a.ngMetadataName||a===xn?o|=G.Optional:a instanceof Mn||"SkipSelf"===a.ngMetadataName||a===Mn?o|=G.SkipSelf:a instanceof Nn||"Self"===a.ngMetadataName||a===Nn?o|=G.Self:i=a instanceof An||a===An?a.token:a}e.push(zn(i,o))}else e.push(zn(r))}return e}function qn(t){var e;return(null===(e=function(){if(void 0===Sn&&(Sn=null,nt.trustedTypes))try{Sn=nt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Sn}())||void 0===e?void 0:e.createHTML(t))||t}var Kn=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}]),t}(),Bn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Kn),Hn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Kn),Gn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Kn),Wn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Kn),Qn=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Kn);function Yn(t){return t instanceof Kn?t.changingThisBreaksApplicationSecurity:t}function Jn(t,e){var n=Zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Zn(t){return t instanceof Kn&&t.getTypeName()||null}function Xn(t){return new Bn(t)}function $n(t){return new Hn(t)}function tr(t){return new Gn(t)}function er(t){return new Wn(t)}function nr(t){return new Qn(t)}var rr=!0,ir=!1;function or(){return ir=!0,rr}function ur(){if(ir)throw new Error("Cannot enable prod mode after platform setup.");rr=!1}var ar=function(){function t(){f(this,t)}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}}]),t}(),sr=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),cr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hr(t){return(t=String(t)).match(cr)||t.match(lr)?t:(or()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see https://g.co/ng/security#xss)")),"unsafe:"+t)}function fr(t){var e,n={},r=u(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function dr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var u=o[i];for(var a in u)u.hasOwnProperty(a)&&(t[a]=!0)}return t}var pr,vr=fr("area,br,col,hr,img,wbr"),yr=fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gr=fr("rp,rt"),br=dr(gr,yr),mr=dr(vr,dr(yr,fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dr(gr,fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),br),wr=fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_r=fr("srcset"),kr=dr(wr,_r,fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Or=fr("script,style,template"),Ir=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!mr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Or.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),u=o.name,a=u.toLowerCase();if(kr.hasOwnProperty(a)){var s=o.value;wr[a]&&(s=hr(s)),_r[a]&&(n=s,s=(n=String(n)).split(",").map(function(t){return hr(t.trim())}).join(", ")),this.buf.push(" ",u,'="',Cr(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();mr.hasOwnProperty(e)&&!vr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Cr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),Er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tr=/([^\#-~ |!])/g;function Cr(t){return t.replace(/&/g,"&amp;").replace(Er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Tr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jr(t,e){var n=null;try{pr=pr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new ar:new sr(t)}(t);var r=e?String(e):"";n=pr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==o);var u=new Ir,a=u.sanitizeChildren(Sr(n)||n);return or()&&u.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see https://g.co/ng/security#xss"),a}finally{if(n)for(var s=Sr(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function Sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function xr(t){var e,n=(e=oe())&&e[12];return n?n.sanitize(Ar.URL,t)||"":Jn(t,"URL")?Yn(t):hr(Nt(t))}function Nr(t){return t.ngDebugContext}function Mr(t){return t.ngOriginalError}function Dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Lr=function(){function t(){f(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Dr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Nr(t)?Nr(t):this._findContext(Mr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Mr(t);e&&Mr(e);)e=Mr(e);return e}}]),t}();function Pr(t,e){t.__ngContext__=e}var Rr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(nt);function Ur(t){return t instanceof Function?t():t}var Vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function zr(t,e){return(void 0)(t,e)}function Fr(t){var e=t[3];return Et(e)?e[3]:e}function qr(t){return Br(t[13])}function Kr(t){return Br(t[4])}function Br(t){for(;null!==t&&!Et(t);)t=t[4];return t}function Hr(t,e,n,r,i){if(null!=r){var o,u=!1;Et(r)?o=r:It(r)&&(u=!0,r=r[0]);var a=Ht(r);0===t&&null!==n?null==i?Xr(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?function(t,e,n){var r=ti(t,e);r&&function(t,e,n,r){Kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,u):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ht(n)&&Hr(e,t,r,o,i);for(var u=10;u<n.length;u++){var a=n[u];oi(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function Gr(t,e,n){return Kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Wr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ne(i,-1)),n.splice(r,1)}function Qr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Wr(o,i),e>0&&(t[r-1][4]=i[4]);var u=En(t,10+e);oi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=u[19];null!==a&&a.detachView(u[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Yr(t,e){if(!(256&e[2])){var n=e[11];Kt(n)&&n.destroyNode&&oi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Jr(t[1],t);for(;e;){var n=null;if(It(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)It(e)&&Jr(e[1],e),e=e[3];null===e&&(e=t),It(e)&&Jr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Jr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof ze)){var o=n[r+1];if(Array.isArray(o))for(var u=0;u<o.length;u+=2)o[u+1].call(i[o[u]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],u="function"==typeof o?o(e):Ht(e[o]),a=r[n[i+2]],s=n[i+3];"boolean"==typeof s?u.removeEventListener(n[i],a,s):s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Kt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Et(e[3])){n!==e[3]&&Wr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Zr(t,e,n,r,i){Kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){Kt(t)?t.appendChild(e,n):e.appendChild(n)}function $r(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):Xr(t,e,n)}function ti(t,e){return Kt(t)?t.parentNode(e):e.parentNode}function ei(t,e,n,r){var i=function(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===Z.None||i===Z.Emulated)return null}return Wt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],u=function(t,e,n){return function(t,e,n){return 40&t.type?Wt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(var a=0;a<n.length;a++)$r(o,i,n[a],u,!1);else $r(o,i,n,u,!1)}function ni(t,e){if(null!==e){var n=e.type;if(3&n)return Wt(e,t);if(4&n)return ri(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return ni(t,r);var i=t[e.index];return Et(i)?ri(-1,i):Ht(i)}if(32&n)return zr(e,t)()||Ht(t[e.index]);var o=t[16],u=o[6],a=Fr(o),s=u.projection[e.projection];return null!=s?ni(a,s):ni(t,e.next)}return null}function ri(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return ni(r,i)}return e[7]}function ii(t,e,n,r,i,o,u){for(;null!=n;){var a=r[n.index],s=n.type;if(u&&0===e&&(a&&Pr(Ht(a),r),n.flags|=4),64!=(64&n.flags))if(8&s)ii(t,e,n.child,r,i,o,!1),Hr(e,t,i,a,o);else if(32&s){for(var c=zr(n,r),l=void 0;l=c();)Hr(e,t,i,l,o);Hr(e,t,i,a,o)}else 16&s?ui(t,e,r,n,i,o):Hr(e,t,i,a,o);n=u?n.projectionNext:n.next}}function oi(t,e,n,r,i,o){ii(n,r,t.firstChild,e,i,o,!1)}function ui(t,e,n,r,i,o){var u=n[16],a=u[6].projection[r.projection];if(Array.isArray(a))for(var s=0;s<a.length;s++)Hr(e,t,i,a[s],o);else ii(t,e,a,u[3],i,o,!0)}function ai(t,e,n){Kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function si(t,e,n){Kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ci(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function li(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==ci((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function hi(t){return 4===t.type&&"ng-template"!==t.value}function fi(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function di(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(qe(t[e]))return e;return t.length}(i),u=!1,a=0;a<e.length;a++){var s=e[a];if("number"!=typeof s){if(!u)if(4&r){if(r=2|1&r,""!==s&&!fi(t,s,n)||""===s&&1===e.length){if(pi(r))return!1;u=!0}}else{var c=8&r?s:e[++a];if(8&r&&null!==t.attrs){if(!li(t.attrs,c,n)){if(pi(r))return!1;u=!0}continue}var l=vi(8&r?"class":s,i,hi(t),n);if(-1===l){if(pi(r))return!1;u=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ci(f,c,0)||2&r&&c!==h){if(pi(r))return!1;u=!0}}}}else{if(!u&&!pi(r)&&!pi(s))return!1;if(u&&pi(s))continue;u=!1,r=s|1&r}}return pi(r)||u}function pi(t){return 0==(1&t)}function vi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var u=e[i];if(u===t)return i;if(3===u||6===u)o=!0;else{if(1===u||2===u){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(di(t,e[r],n))return!0;return!1}function gi(t,e){return t?":not("+e.trim()+")":e}function bi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var u=t[n];if("string"==typeof u)if(2&r){var a=t[++n];i+="["+u+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""===i||pi(u)||(e+=gi(o,i),i=""),r=u,o=o||!pi(r);n++}return""!==i&&(e+=gi(o,i)),e}var mi={};function wi(t){_i(ue(),oe(),Se()+t,fe())}function _i(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Le(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Pe(e,o,0,n)}Ae(n)}function ki(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function Ii(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ti(t,e){return-131069&t|e<<2}function Ci(t){return 1|t}function ji(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var u=t.data[o];we(i),u.contentQueries(2,e[o],o)}}}function Si(t,e,n,r,i,o,u,a,s,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ee(l),l[3]=l[15]=t,l[8]=n,l[10]=u||t&&t[10],l[11]=a||t&&t[11],l[12]=s||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ai(t,e,n,r,i){var o,u,a=t.data[e];if(null===a)a=function(t,e,n,r,i){var o=ce(),u=he(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(u?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),re.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var s=(o=re.lFrame,u=o.currentTNode,o.isParent?u:u.parent);a.injectorIndex=null===s?-1:s.injectorIndex}return le(a,!0),a}function xi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ni(t,e,n){Oe(e);try{var r=t.viewQuery;null!==r&&ao(1,r,n);var i=t.template;null!==i&&Li(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ji(t,e),t.staticViewQueries&&ao(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)no(t,e[n])}(e,o)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),u}finally{e[2]&=-5,je()}}function Mi(t,e,n,r){var i=e[2];if(256!=(256&i)){Oe(e);var o=fe();try{ee(e),re.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Li(t,e,n,2,r);var u=3==(3&i);if(!o)if(u){var a=t.preOrderCheckHooks;null!==a&&Le(e,a,null)}else{var s=t.preOrderHooks;null!==s&&Pe(e,s,0,null),Re(e,0)}if(function(t){for(var e=qr(t);null!==e;e=Kr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&ne(o,1),i[2]|=1024}}(e),function(t){for(var e=qr(t);null!==e;e=Kr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];$t(r)&&Mi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&ji(t,e),!o)if(u){var c=t.contentCheckHooks;null!==c&&Le(e,c)}else{var l=t.contentHooks;null!==l&&Pe(e,l,1),Re(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var u=0;u<o.length;u++){var a=o[u];if(a<0)Ae(~a);else{var s=a,c=o[++u],l=o[++u];n=c,r=s,i=void 0,(i=re.lFrame).bindingIndex=i.bindingRootIndex=n,be(r),l(2,e[s])}}}finally{Ae(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)to(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ao(2,f,r),!o)if(u){var d=t.viewCheckHooks;null!==d&&Le(e,d)}else{var p=t.viewHooks;null!==p&&Pe(e,p,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ne(e[3],-1))}finally{je()}}}function Di(t,e,n,r){var i=e[10],o=!fe(),u=Xt(e);try{o&&!u&&i.begin&&i.begin(),u&&Ni(t,e,r),Mi(t,e,n,r)}finally{o&&!u&&i.end&&i.end()}}function Li(t,e,n,r,i){var o=Se();try{Ae(-1),2&r&&e.length>20&&_i(t,e,20,fe()),n(r,i)}finally{Ae(o)}}function Pi(t,e,n){ie()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Xe(n,e),Pr(r,e);for(var u=n.initialInputs,a=i;a<o;a++){var s=t.data[a],c=St(s);c&&Ji(e,n,s);var l=hn(e,t,a,n);Pr(l,e),null!==u&&Zi(0,a-i,l,s,0,u),c&&(Jt(n.index,e)[8]=l)}}(t,e,n,Wt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,u=re.lFrame.currentDirectiveIndex;try{Ae(o);for(var a=r;a<i;a++){var s=t.data[a],c=e[a];be(a),null===s.hostBindings&&0===s.hostVars&&null===s.hostAttrs||Hi(s,c)}}finally{Ae(-1),be(u)}}(t,e,n))}function Ri(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var u=r[o+1],a=-1===u?n(e,t):t[u];t[i++]=a}}function Ui(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Vi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Vi(t,e,n,r,i,o,u,a,s,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:mi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:s,consts:d,incompleteFirstPass:!1}}function zi(t,e,n,r){var i=co(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Fi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function qi(t,e,n,r,i,o,u,a){var s,c=Wt(e,n),l=e.inputs;!a&&null!=l&&(s=l[r])?(ho(t,n,s,r,i),Ct(e)&&function(t,e){var n=Jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=u?u(i,e.value||"",r):i,Kt(o)?o.setProperty(c,r,i):Ke(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ki(t,e,n,r){var i=!1;if(ie()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var u=r[o];yi(n,u.selectors,!1)&&(i||(i=[]),nn(Xe(n,e),t,u.type),St(u)?(Gi(t,n),i.unshift(u)):i.push(u))}return i}(t,e,n),u=null===r?null:{"":-1};if(null!==o){i=!0,Qi(n,t.data.length,o.length);for(var a=0;a<o.length;a++){var s=o[a];s.providersResolver&&s.providersResolver(s)}for(var c=!1,l=!1,h=xi(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Be(n.mergedAttrs,d.hostAttrs),Yi(t,n,e,h,d),Wi(h,d,u),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],u=null,a=null,s=e.directiveStart;s<n;s++){var c=r[s],l=c.inputs,h=null===i||hi(e)?null:Xi(l,i);o.push(h),u=Fi(l,s,u),a=Fi(c.outputs,s,a)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=16),u.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=u,e.outputs=a}(t,n)}u&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new xt("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,u)}return n.mergedAttrs=Be(n.mergedAttrs,n.attrs),i}function Bi(t,e,n,r,i,o){var u=o.hostBindings;if(u){var a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);var s=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=s&&a.push(s),a.push(r,i,u)}}function Hi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Wi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;St(e)&&(n[""]=t)}}function Qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Yi(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=At(i.type)),u=new ze(o,St(i),null);t.blueprint[r]=u,n[r]=u,Bi(t,e,0,r,xi(t,n,i.hostVars,mi),i)}function Ji(t,e,n){var r=Wt(e,t),i=Ui(n),o=t[10],u=ro(t,Si(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=u}function Zi(t,e,n,r,i,o){var u=o[e];if(null!==u)for(var a=r.setInput,s=0;s<u.length;){var c=u[s++],l=u[s++],h=u[s++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function Xi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function to(t,e){var n=Jt(e,t);if($t(n)){var r=n[1];80&n[2]?Mi(r,n,r.template,n[8]):n[5]>0&&eo(n)}}function eo(t){for(var e=qr(t);null!==e;e=Kr(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Mi(i,r,i.template,r[8])}else r[5]>0&&eo(r)}var o=t[1].components;if(null!==o)for(var u=0;u<o.length;u++){var a=Jt(o[u],t);$t(a)&&a[5]>0&&eo(a)}}function no(t,e){var n=Jt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ni(r,n,n[8])}function ro(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function io(t){for(;t;){t[2]|=64;var e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function oo(t,e,n){var r=e[10];r.begin&&r.begin();try{Mi(t,e,t.template,n)}catch(i){throw lo(e,i),i}finally{r.end&&r.end()}}function uo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Zt(n),i=r[1];Di(i,r,i.template,n)}}(t[8])}function ao(t,e,n){we(0),e(t,n)}var so=Promise.resolve(null);function co(t){return t[7]||(t[7]=[])}function lo(t,e){var n=t[9],r=n?n.get(Lr,null):null;r&&r.handleError(e)}function ho(t,e,n,r,i){for(var o=0;o<n.length;){var u=n[o++],a=n[o++],s=e[u],c=t.data[u];null!==c.setInput?c.setInput(s,i,r,a):s[a]=i}}function fo(t,e,n){var r=Gt(e,t);!function(t,e,n){Kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function po(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var u=0;u<e.length;u++){var a=e[u];"number"==typeof a?o=a:1==o?i=x(i,a):2==o&&(r=x(r,a+": "+e[++u]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var vo=new mn("INJECTOR",-1),yo=function(){function t(){f(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn;if(e===Dn){var n=new Error("NullInjectorError: No provider for ".concat(A(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),go=new mn("Set Injector scope."),bo={},mo={},wo=[],_o=void 0;function ko(){return void 0===_o&&(_o=new yo),_o}function Oo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Io(t,n,e||ko(),r)}var Io=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var u=[];n&&On(n,function(t){return i.processProvider(t,e,n)}),On([e],function(t){return i.processInjectorType(t,[],u)}),this.records.set(vo,Co(void 0,this));var a=this.records.get(go);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:A(e))}return p(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;this.assertNotDestroyed();var r,i=Un(this);try{if(!(n&G.SkipSelf)){var o=this.records.get(t);if(void 0===o){var u=("function"==typeof(r=t)||"object"==typeof r&&r instanceof mn)&&U(t);o=u&&this.injectableDefInScope(u)?Co(Eo(t),bo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&G.Self?ko():this.parent).get(t,e=n&G.Optional&&e===Dn?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(A(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=A(e);if(Array.isArray(e))i=e.map(A).join(" -> ");else if("object"==typeof e){var o=[];for(var u in e)if(e.hasOwnProperty(u)){var a=e[u];o.push(u+":"+("string"==typeof a?JSON.stringify(a):A(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Ln,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{Un(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(A(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=D(t)))return!1;var i=z(t),o=null==i&&t.ngModule||void 0,u=void 0===o?t:o,a=-1!==n.indexOf(u);if(void 0!==o&&(i=z(o)),null==i)return!1;if(null!=i.imports&&!a){var s;n.push(u);try{On(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===s&&(s=[]),s.push(t))})}finally{}if(void 0!==s)for(var c=function(t){var e=s[t],n=e.ngModule,i=e.providers;On(i,function(t){return r.processProvider(t,n,i||wo)})},l=0;l<s.length;l++)c(l)}this.injectorDefTypes.add(u),this.records.set(u,Co(i.factory,bo));var h=i.providers;if(null!=h&&!a){var f=t;On(h,function(t){return r.processProvider(t,f,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=So(t=D(t))?t:D(t&&t.provide),i=function(t,e,n){return jo(t)?Co(void 0,t.useValue):Co(To(t),bo)}(t);if(So(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Co(void 0,bo,!0)).factory=function(){return Fn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===bo&&(e.value=mo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Eo(t){var e=U(t),n=null!==e?e.factory:At(t);if(null!==n)return n;var r=z(t);if(null!==r)return r.factory;if(t instanceof mn)throw new Error("Token ".concat(A(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(A(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[q]||t[B]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function To(t,e,n){var r,o=void 0;if(So(t)){var u=D(t);return At(u)||Eo(u)}if(jo(t))o=function(){return D(t.useValue)};else if((r=t)&&r.useFactory)o=function(){return t.useFactory.apply(t,i(Fn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))o=function(){return zn(D(t.useExisting))};else{var a=D(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return At(a)||Eo(a);o=function(){return l(a,i(Fn(t.deps)))}}return o}function Co(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function jo(t){return null!==t&&"object"==typeof t&&Pn in t}function So(t){return"function"==typeof t}var Ao=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=Oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},xo=function(){var t=function(){function t(){f(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ao(t,e,""):Ao(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Dn,t.NULL=new yo,t.\u0275prov=P({token:t,providedIn:"any",factory:function(){return zn(vo)}}),t.__NG_ELEMENT_ID__=-1,t}();function No(t,e){De(Zt(t)[1],se())}function Mo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(St(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Do(t.inputs),o.declaredInputs=Do(t.declaredInputs),o.outputs=Do(t.outputs);var u=i.hostBindings;u&&Ro(t,u);var a=i.viewQuery,s=i.contentQueries;if(a&&Lo(t,a),s&&Po(t,s),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),St(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Be(i.hostAttrs,n=Be(n,i.hostAttrs))}}(r)}function Do(t){return t===rt?{}:t===it?[]:t}function Lo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Po(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Ro(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Uo=null;function Vo(){if(!Uo){var t=nt.Symbol;if(t&&t.iterator)Uo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Uo=r)}}return Uo}var zo=function(){function t(e){f(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Fo(t){return!!qo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Vo()in t)}function qo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ko(t,e,n){return t[e]=n}function Bo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ho(t,e,n,r){var i=oe();return Bo(i,ye(),e)&&(ue(),function(t,e,n,r,i,o){var u=Wt(t,e);!function(t,e,n,r,i,o,u){if(null==o)Kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var a=null==u?Nt(o):u(o,r||"",i);Kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],u,o,t.value,n,r,i)}(xe(),i,t,e,n,r)),Ho}function Go(t,e,n,r){return Bo(t,ye(),n)?e+Nt(n)+r:mi}function Wo(t,e,n,r,i,o,u,a){var s=oe(),c=ue(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,u,a,s){var c=e.consts,l=Ai(e,t,4,u||null,te(c,a));Ki(e,n,l,te(c,s)),De(e,l);var h=l.tViews=Vi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,s,e,n,r,i,o,u):c.data[l];le(h,!1);var f=s[11].createComment("");ei(c,s,f,h),Pr(f,s),ro(s,s[l]=$i(f,s,f,h)),jt(h)&&Pi(c,s,h),null!=u&&Ri(s,h,a)}function Qo(t){return Yt(re.lFrame.contextLView,20+t)}function Yo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.Default,n=oe();return null===n?zn(t,e):un(se(),n,D(t),e)}function Jo(t,e,n){var r=oe();return Bo(r,ye(),e)&&qi(ue(),xe(),r,t,e,r[11],n,!1),Jo}function Zo(t,e,n,r,i){var o=i?"class":"style";ho(t,n,e.inputs[o],o,r)}function Xo(t,e,n,r){var i=oe(),o=ue(),u=20+t,a=i[11],s=i[u]=Gr(a,e,re.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,u){var a=e.consts,s=Ai(e,t,2,i,te(a,o));return Ki(e,n,s,te(a,u)),null!==s.attrs&&po(s,s.attrs,!1),null!==s.mergedAttrs&&po(s,s.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,s),s}(u,o,i,0,e,n,r):o.data[u];le(c,!0);var l=c.mergedAttrs;null!==l&&Fe(a,s,l);var h=c.classes;null!==h&&si(a,s,h);var f=c.styles;null!==f&&ai(a,s,f),64!=(64&c.flags)&&ei(o,i,s,c),0===re.lFrame.elementDepthCount&&Pr(s,i),re.lFrame.elementDepthCount++,jt(c)&&(Pi(o,i,c),function(t,e,n){if(Tt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Ri(i,c)}function $o(){var t=se();he()?re.lFrame.isParent=!1:le(t=t.parent,!1);var e=t;re.lFrame.elementDepthCount--;var n=ue();n.firstCreatePass&&(De(n,t),Tt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zo(n,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zo(n,e,oe(),e.stylesWithoutHost,!1)}function tu(t,e,n,r){Xo(t,e,n,r),$o()}function eu(){return oe()}function nu(t){return!!t&&"function"==typeof t.then}function ru(t){return!!t&&"function"==typeof t.subscribe}function iu(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=oe(),o=ue(),u=se();return function(t,e,n,r,i,o){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,s=jt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=co(e),h=!0;if(3&r.type){var f=Wt(r,e),d=a?a(f):rt,p=d.target||f,v=l.length,y=a?function(t){return a(Ht(t[r.index])).target}:r.index;if(Kt(n)){var g=null;if(!a&&s&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var u=i[o];if(u===n&&i[o+1]===r){var a=e[7],s=i[o+2];return a.length>s?a[s]:null}"string"==typeof u&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=uu(r,e,o,!1);var b=n.listen(d.name||p,i,o);l.push(o,b),c&&c.push(i,y,v,v+1)}}else o=uu(r,e,o,!0),p.addEventListener(i,o,u),l.push(o),c&&c.push(i,y,v,u)}else o=uu(r,e,o,!1);var m,w=r.outputs;if(h&&null!==w&&(m=w[i])){var _=m.length;if(_)for(var k=0;k<_;k+=2){var O=e[m[k]][m[k+1]].subscribe(o),I=l.length;l.push(o,O),c&&c.push(i,r.index,I,-(I+1))}}}(o,i,i[11],u,t,e,n,r),iu}function ou(t,e,n){try{return!1!==e(n)}catch(r){return lo(t,r),!1}}function uu(t,e,n,r){return function i(o){if(o===Function)return n;var u=2&t.flags?Jt(t.index,e):e;0==(32&e[2])&&io(u);for(var a=ou(e,n,o),s=i.__ngNextListenerFn__;s;)a=ou(e,s,o)&&a,s=s.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function au(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(re.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function su(t,e,n){return cu(t,"",e,"",n),su}function cu(t,e,n,r,i){var o=oe(),u=Go(o,e,n,r);return u!==mi&&qi(ue(),xe(),o,t,u,o[11],i,!1),cu}var lu=[];function hu(t,e,n,r,i){for(var o=t[n+1],u=null===e,a=r?Oi(o):Ei(o),s=!1;0!==a&&(!1===s||u);){var c=t[a+1];fu(t[a],e)&&(s=!0,t[a+1]=r?Ci(c):Ii(c)),a=r?Oi(c):Ei(c)}s&&(t[n+1]=r?Ii(o):Ci(o))}function fu(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&jn(t,e)>=0}var du={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pu(t){return t.substring(du.key,du.keyEnd)}function vu(t){return t.substring(du.value,du.valueEnd)}function yu(t,e){var n=du.textEnd,r=du.key=gu(t,e,n);return n===r?-1:(r=du.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=bu(t,r,n),r=du.value=gu(t,r,n),r=du.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,u=e,a=u;u<n;){var s=t.charCodeAt(u++);if(59===s)return a;34===s||39===s?a=u=mu(t,s,u,n):e===u-4&&85===o&&82===i&&76===r&&40===s?a=u=mu(t,41,u,n):s>32&&(a=u),o=i,i=r,r=-33&s}return a}(t,r,n),bu(t,r,n))}function gu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bu(t,e,n,r){return(e=gu(t,e,n))<n&&e++,e}function mu(t,e,n,r){for(var i=-1,o=n;o<r;){var u=t.charCodeAt(o++);if(u==e&&92!==i)return o;i=92==u&&92===i?0:u}throw new Error}function wu(t,e){return function(t,e,n,r){var i=oe(),o=ue(),u=ge(2);o.firstUpdatePass&&Ou(o,t,u,!0),e!==mi&&Bo(i,u,e)&&Cu(o,o.data[Se()],i,i[11],t,i[u+1]=function(t,e){return null==t||"object"==typeof t&&(t=A(Yn(t))),t}(e),!0,u)}(t,e),wu}function _u(t,e){for(var n=function(t){return function(t){du.key=0,du.keyEnd=0,du.value=0,du.valueEnd=0,du.textEnd=t.length}(t),yu(t,gu(t,0,du.textEnd))}(e);n>=0;n=yu(e,n))Tu(t,pu(e),vu(e))}function ku(t,e){return e>=t.expandoStartIndex}function Ou(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Se()],u=ku(t,n);Au(o,r)&&null===e&&!u&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Eu(n=Iu(null,t,e,n,r),e.attrs,r),o=null);else{var u=e.directiveStylingLast;if(-1===u||t[u]!==i)if(n=Iu(i,t,e,n,r),null===o){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[Oi(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[Oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=Eu(a=Iu(null,t,e,a[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Eu(r,t[o].hostAttrs,n);return Eu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var u=o?e.classBindings:e.styleBindings,a=Oi(u),s=Ei(u);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||jn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==s){var f=Oi(t[a+1]);t[r+1]=ki(f,a),0!==f&&(t[f+1]=Ti(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ki(a,0),0!==a&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=ki(s,0),0===a?a=r:t[s+1]=Ti(t[s+1],r),s=r;l&&(t[r+1]=Ii(t[r+1])),hu(t,c,r,!0),hu(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&jn(o,e)>=0&&(n[r+1]=Ci(n[r+1]))}(e,c,t,r,o),u=ki(a,s),o?e.classBindings=u:e.styleBindings=u}(i,o,e,n,u,r)}}function Iu(t,e,n,r,i){var o=null,u=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<u&&(r=Eu(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Eu(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var u=e[o];"number"==typeof u?i=u:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Tn(t,u,!!n||e[++o]))}return void 0===t?null:t}function Tu(t,e,n){Tn(t,e,Yn(n))}function Cu(t,e,n,r,i,o,u,a){if(3&e.type){var s=t.data,c=s[a+1];Su(1==(1&c)?ju(s,e,n,i,Ei(c),u):void 0)||(Su(o)||2==(2&c)&&(o=ju(s,null,n,i,a,u)),function(t,e,n,r,i){var o=Kt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var u=-1===r.indexOf("-")?void 0:Vr.DashCase;if(null==i)o?t.removeStyle(n,r,u):n.style.removeProperty(r);else{var a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),u|=Vr.Important),o?t.setStyle(n,r,i,u):n.style.setProperty(r,i,a?"important":"")}}}(r,u,Gt(Se(),n),i,o))}}function ju(t,e,n,r,i,o){for(var u=null===e,a=void 0;i>0;){var s=t[i],c=Array.isArray(s),l=c?s[1]:s,h=null===l,f=n[i+1];f===mi&&(f=h?lu:void 0);var d=h?Cn(f,r):l===r?f:void 0;if(c&&!Su(d)&&(d=Cn(s,r)),Su(d)&&(a=d,u))return a;var p=t[i+1];i=u?Oi(p):Ei(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=Cn(v,r))}return a}function Su(t){return void 0!==t}function Au(t,e){return 0!=(t.flags&(e?16:32))}function xu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=oe(),r=ue(),i=t+20,o=r.firstCreatePass?Ai(r,i,1,e,null):r.data[i],u=n[i]=function(t,e){return Kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ei(r,n,u,o),le(o,!1)}function Nu(t){return Mu("",t,""),Nu}function Mu(t,e,n){var r=oe(),i=Go(r,t,e,n);return i!==mi&&fo(r,Se(),i),Mu}function Du(t,e,n,r,i){var o=oe(),u=function(t,e,n,r,i,o){var u=function(t,e,n,r){var i=Bo(t,e,n);return Bo(t,e+1,r)||i}(t,ve(),n,i);return ge(2),u?e+Nt(n)+r+Nt(i)+o:mi}(o,t,e,n,r,i);return u!==mi&&fo(o,Se(),u),Du}function Lu(t,e,n){!function(t,e,n,r){var i=ue(),o=ge(2);i.firstUpdatePass&&Ou(i,null,o,!1);var u=oe();if(n!==mi&&Bo(u,o,n)){var a=i.data[Se()];if(Au(a,!1)&&!ku(i,o)){var s=a.stylesWithoutHost;null!==s&&(n=x(s,n||"")),Zo(i,a,u,n,!1)}else!function(t,e,n,r,i,o,u,a){i===mi&&(i=lu);for(var s=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=s<i.length?i[s+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(s+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(s+=2,p=l):(c+=2,p=h,v=d),null!==p&&Cu(t,e,n,r,p,v,!1,a),l=s<i.length?i[s]:null,h=c<o.length?o[c]:null}}(i,a,u,u[11],u[o+1],u[o+1]=function(t,e,n){if(null==n||""===n)return lu;var r=[],i=Yn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var u in i)i.hasOwnProperty(u)&&t(r,u,i[u]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(Tu,_u,Go(oe(),t,e,n))}function Pu(t,e,n){var r=oe();return Bo(r,ye(),e)&&qi(ue(),xe(),r,t,e,r[11],n,!0),Pu}var Ru=void 0,Uu=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Vu={};function zu(t,e,n){"string"!=typeof e&&(n=e,e=t[Hu.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Vu[e]=t,n&&(Vu[e][Hu.ExtraData]=n)}function Fu(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Bu(e);if(n)return n;var r=e.split("-")[0];if(n=Bu(r))return n;if("en"===r)return Uu;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function qu(t){return Fu(t)[Hu.CurrencyCode]||null}function Ku(t){return Fu(t)[Hu.PluralCase]}function Bu(t){return t in Vu||(Vu[t]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[t]),Vu[t]}var Hu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Gu(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Wu(t,e,n,r,i){if(t=D(t),Array.isArray(t))for(var o=0;o<t.length;o++)Wu(t[o],e,n,r,i);else{var u=ue(),a=oe(),s=So(t)?t:D(t.provide),c=To(t),l=se(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(So(t)||!t.multi){var p=new ze(c,i,Yo),v=Ju(s,e,i?h:h+d,f);-1===v?(nn(Xe(l,a),u,s),Qu(u,t,e.length),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Ju(s,e,h+d,f),g=Ju(s,e,h,h+d),b=y>=0&&n[y],m=g>=0&&n[g];if(i&&!m||!i&&!b){nn(Xe(l,a),u,s);var w=function(t,e,n,r,i){var o=new ze(t,n,Yo);return o.multi=[],o.index=e,o.componentProviders=0,Yu(o,i,r&&!n),o}(i?Xu:Zu,n.length,i,r,c);!i&&m&&(n[g].providerFactory=w),Qu(u,t,e.length,0),e.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),a.push(w)}else Qu(u,t,y>-1?y:g,Yu(n[i?g:y],c,!i&&r));!i&&r&&m&&n[g].componentProviders++}}}function Qu(t,e,n,r){var i=So(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=u.indexOf(n);-1===a?u.push(n,[r,o]):u[a+1].push(r,o)}else u.push(n,o)}}}function Yu(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ju(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Zu(t,e,n,r){return $u(this.multi,[])}function Xu(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var u=this.providerFactory.componentProviders,a=hn(n,n[1],this.providerFactory.index,r);$u(o,i=a.slice(0,u));for(var s=u;s<a.length;s++)i.push(a[s])}else $u(o,i=[]);return i}function $u(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ta(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=ue();if(r.firstCreatePass){var i=St(t);Wu(n,r.data,r.blueprint,i,!0),Wu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var ea=function t(){f(this,t)},na=function(){function t(){f(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(A(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),ra=function(){var t=function t(){f(this,t)};return t.NULL=new na,t}();function ia(){}function oa(t,e){return new aa(Wt(t,e))}var ua=function(){return oa(se(),oe())},aa=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=ua,t}(),sa=function t(){f(this,t)},ca=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return la()},t}(),la=function(){var t=oe(),e=Jt(se().index,t);return function(t){return t[11]}(It(e)?e:t)},ha=function(){var t=function t(){f(this,t)};return t.\u0275prov=P({token:t,providedIn:"root",factory:function(){return null}}),t}(),fa=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},da=new fa("11.0.3"),pa=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return Fo(t)}},{key:"create",value:function(t){return new ya(t)}}]),t}(),va=function(t,e){return e},ya=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||va}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<wa(n,r,i)?e:n,u=wa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var s=u-r,c=a-r;if(s!=c){for(var l=0;l<s;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<s&&(i[l]=h+1)}i[o.previousIndex]=c-s}}u!==a&&t(o,u,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Fo(t))throw new Error("Error trying to diff '".concat(A(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(u&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),u=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Vo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(u&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),u=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ga(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ma),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ma),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),ga=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ba=function(){function t(){f(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ma=function(){function t(){f(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new ba,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function wa(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var _a=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||qo(t)}},{key:"create",value:function(){return new ka}}]),t}(),ka=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||qo(t)))throw new Error("Error trying to diff '".concat(A(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Oa(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Oa=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Ia=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Mn,new xn]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:function(){return new t([new pa])}}),t}(),Ea=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Mn,new xn]]}}}]),t}();return t.\u0275prov=P({token:t,providedIn:"root",factory:function(){return new t([new _a])}}),t}();function Ta(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var u=e[n.index];if(null!==u&&r.push(Ht(u)),Et(u))for(var a=10;a<u.length;a++){var s=u[a],c=s[1].firstChild;null!==c&&Ta(s[1],s,c,r)}var l=n.type;if(8&l)Ta(t,e,n.child,r);else if(32&l)for(var h=zr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=e[16],p=d[6].projection[n.projection];if(Array.isArray(p))r.push.apply(r,i(p));else{var v=Fr(d);Ta(v[1],v,p,r,!0)}}n=o?n.projectionNext:n.next}return r}var Ca=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return p(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Yr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){zi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){io(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){oo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){de(!0);try{oo(t,e,n)}finally{de(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,oi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Ta(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),ja=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){uo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){de(!0);try{uo(t)}finally{de(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ca),Sa=xa,Aa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Sa,t.__ChangeDetectorRef__=!0,t}();function xa(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ct(t)){var r=Jt(t.index,e);return new Ca(r,r)}return 47&t.type?new Ca(e[16],e):null}(se(),oe(),t)}var Na=[new _a],Ma=new Ia([new pa]),Da=new Ea(Na),La=function(){return Ua(se(),oe())},Pa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=La,t}(),Ra=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ni(e,n,t),new Ca(n)}}]),n}(Pa);function Ua(t,e){return 4&t.type?new Ra(e,t,oa(t,e)):null}var Va=function t(){f(this,t)},za=function t(){f(this,t)},Fa=function(){return Ga(se(),oe())},qa=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Fa,t}(),Ka=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Ba(this._lContainer);return null!==e&&e[t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var u=o.get(Va,null);u&&(i=u)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(Et(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var u=r[3],a=new n(u,u[6],u[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],In(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var u=e[17];null!==u&&n!==u&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(u,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,c,s);var l=ri(s,c),h=r[11],f=ti(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,oi(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(this),In(Ha(c),s,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Ba(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);n&&(En(Ha(this._lContainer),e),Yr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Qr(this._lContainer,e);return n&&null!=En(Ha(this._lContainer),e)?new Ca(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"element",get:function(){return oa(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new pn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=en(this._hostTNode,this._hostLView);if(Ge(t)){var e=Qe(t,this._hostLView),n=We(t);return new pn(e[1].data[n+8],e)}return new pn(null,this._hostLView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),n}(qa);function Ba(t){return t[8]}function Ha(t){return t[8]||(t[8]=[])}function Ga(t,e){var n,r=e[t.index];if(Et(r))n=r;else{var i;if(8&t.type)i=Ht(r);else{var o=e[11];i=o.createComment("");var u=Wt(t,e);Zr(o,ti(o,u),i,function(t,e){return Kt(t)?t.nextSibling(e):e.nextSibling}(o,u),!1)}e[t.index]=n=$i(r,e,i,t),ro(e,n)}return new Ka(n,t,e)}var Wa={},Qa=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=kt(t);return new Za(e,this.ngModule)}}]),n}(ra);function Ya(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Ja=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Rr}}),Za=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(bi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"create",value:function(t,e,n,r){var i,o,u=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,Wa,i);return o!==Wa||r===Wa?o:e.get(n,r,i)}}}(t,r.injector):t,a=u.get(sa,Bt),s=u.get(ha,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Kt(t))return t.selectRootElement(e,n===Z.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Gr(a.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Rr,clean:so,playerHandler:null,flags:0},p=Vi(0,null,null,1,0,null,null,null,null,null),v=Si(null,p,d,f,null,null,a,c,s,u);Oe(v);try{var y=function(t,e,n,r,i,o){var u=n[1];n[20]=t;var a=Ai(u,20,2,"#host",null),s=a.mergedAttrs=e.hostAttrs;null!==s&&(po(a,s,!0),null!==t&&(Fe(i,t,s),null!==a.classes&&si(i,t,a.classes),null!==a.styles&&ai(i,t,a.styles)));var c=r.createRenderer(t,e),l=Si(n,Ui(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return u.firstCreatePass&&(nn(Xe(a,n),u,e.type),Gi(u,a),Qi(a,n.length,1)),ro(n,l),n[20]=l}(h,this.componentDef,v,a,c);if(h)if(n)Fe(c,h,["ng-version",da.full]);else{var g=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=g.attrs,m=g.classes;b&&Fe(c,h,b),m&&m.length>0&&si(c,h,m.join(" "))}if(o=Qt(p,20),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],u=function(t,e,n){var r=se();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yi(t,r,e,xi(t,e,1,null),n));var i=hn(e,t,r.directiveStart,r);Pr(i,e);var o=Wt(r,e);return o&&Pr(o,e),i}(o,n,e);if(r.components.push(u),t[8]=u,i&&i.forEach(function(t){return t(u,e)}),e.contentQueries){var a=se();e.contentQueries(1,u,a.directiveStart)}var s=se();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ae(s.index),Bi(n[1],s,0,s.directiveStart,s.directiveEnd,e),Hi(e,u)),u}(y,this.componentDef,v,d,[No]),Ni(p,v,null)}finally{je()}return new Xa(this.componentType,i,oa(o,v),v,o)}},{key:"inputs",get:function(){return Ya(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ya(this.componentDef.outputs)}}]),n}(ea),Xa=function(t){v(n,t);var e=g(n);function n(t,r,i,o,u){var a;return f(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=u,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new ja(o),a.componentType=t,a}return p(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new pn(this._tNode,this._rootLView)}}]),n}(function(){return function t(){f(this,t)}}()),$a=new Map,ts=function(t){v(n,t);var e=g(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=m(i),i.destroyCbs=[],i.componentFactoryResolver=new Qa(m(i));var o=Ot(t),u=t[ct]||null;return u&&Gu(u),i._bootstrapComponents=Ur(o.bootstrap),i._r3Injector=Oo(t,r,[{provide:Va,useValue:m(i)},{provide:ra,useValue:i.componentFactoryResolver}],A(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Default;return t===xo||t===Va||t===vo?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Va),es=function(t){v(n,t);var e=g(n);function n(t){var r,i,o;return f(this,n),(r=e.call(this)).moduleType=t,null!==Ot(t)&&(i=t,o=new Set,function t(e){var n=Ot(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(A(e)," vs ").concat(A(e.name)))}(r,$a.get(r),e),$a.set(r,e));var i,a=u(Ur(n.imports));try{for(a.s();!(i=a.n()).done;){var s=i.value;o.has(s)||(o.add(s),t(s))}}catch(c){a.e(c)}finally{a.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new ts(this.moduleType,t)}}]),n}(za);function ns(t,e,n){var r=pe()+t,i=oe();return i[r]===mi?Ko(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function rs(t,e,n,r){return is(oe(),pe(),t,e,n,r)}function is(t,e,n,r,i,o){var u=e+n;return Bo(t,u,i)?Ko(t,u+1,o?r.call(o,i):r(i)):function(t,e){var n=t[e];return n===mi?void 0:n}(t,u+1)}function os(t,e){var n,r=ue(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new xt("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=At(n.type)),u=W(Yo);try{var a=Je(!1),s=o();return Je(a),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,oe(),i,s),s}finally{W(u)}}function us(t,e,n){var r=t+20,i=oe(),o=Yt(i,r);return function(t,e){return zo.isWrapped(e)&&(e=zo.unwrap(e),t[ve()]=mi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?is(i,pe(),e,o.transform,n,o):o.transform(n))}var as=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){h(_(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},u=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(u=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(u=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=h(_(n.prototype),"subscribe",this).call(this,i,o,u);return t instanceof a.a&&t.add(s),s}}]),n}(o.a);function ss(){return this._results[Vo()]()}var cs=function(){function t(){f(this,t),this.dirty=!0,this._results=[],this.changes=new as,this.length=0;var e=Vo(),n=t.prototype;n[e]||(n[e]=ss)}return p(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=kn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),ls=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),hs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var u=n.getByIndex(o);i.push(this.queries[u.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==ks(t,e).matches&&this.queries[e].setDirty()}}]),t}(),fs=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},ds=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),ps=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,vs(e,i)),this.matchTNodeWithReadOption(t,e,ln(e,t,i,!1,!1))}else n===Pa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ln(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===aa||r===qa||r===Pa&&4&e.type)this.addMatch(e.index,-2);else{var i=ln(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function vs(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ys(t,e,n,r){return-1===n?function(t,e){return 11&t.type?oa(t,e):4&t.type?Ua(t,e):null}(e,t):-2===n?function(t,e,n){return n===aa?oa(e,t):n===Pa?Ua(e,t):n===qa?Ga(e,t):void 0}(t,e,r):hn(t,t[1],n,e)}function gs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,u=n.matches,a=[],s=0;s<u.length;s+=2){var c=u[s];a.push(c<0?null:ys(e,o[c],u[s+1],n.metadata.read))}i.matches=a}return i.matches}function bs(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var u=gs(t,e,i,n),a=0;a<o.length;a+=2){var s=o[a];if(s>0)r.push(u[a/2]);else{for(var c=o[a+1],l=e[-s],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&bs(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];bs(v[1],v,c,r)}}}return r}function ms(t){var e=oe(),n=ue(),r=me();we(r+1);var i=ks(n,r);if(t.dirty&&Xt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?bs(n,e,r,[]):gs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function ws(t,e,n,r){!function(t,e,n,r,i,o,u,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new ds),t.queries.track(new ps(e,n))}(t,new fs(n,r,!1,i),u.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){var n=new cs;zi(t,e,n,n.destroy),null===e[19]&&(e[19]=new hs),e[19].queries.push(new ls(n))}(t,e)}(ue(),oe(),e,n,r,0,se(),t)}function _s(){return t=oe(),e=me(),t[19].queries[e].queryList;var t,e}function ks(t,e){return t.queries.getByIndex(e)}function Os(t,e){return Ua(t,e)}function Is(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G.Default,e=xa(!0);if(null!=e||t&G.Optional)return e;Dt("ChangeDetectorRef")}var Es=new mn("Application Initializer"),Ts=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=ia,this.reject=ia,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();nu(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(zn(Es,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Cs=new mn("AppId"),js={provide:Cs,useFactory:function(){return"".concat(Ss()).concat(Ss()).concat(Ss())},deps:[]};function Ss(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var As=new mn("Platform Initializer"),xs=new mn("Platform ID"),Ns=new mn("appBootstrapListener"),Ms=function(){var t=function(){function t(){f(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Ds=new mn("LocaleId"),Ls=new mn("DefaultCurrencyCode"),Ps=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},Rs=function(t){return new es(t)},Us=Rs,Vs=function(t){return Promise.resolve(Rs(t))},zs=function(t){var e=Rs(t),n=Ur(Ot(t).declarations).reduce(function(t,e){var n=kt(e);return n&&t.push(new Za(n)),t},[]);return new Ps(e,n)},Fs=zs,qs=function(t){return Promise.resolve(zs(t))},Ks=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=Us,this.compileModuleAsync=Vs,this.compileModuleAndAllComponentsSync=Fs,this.compileModuleAndAllComponentsAsync=qs}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),Bs=Promise.resolve(0);function Hs(t){"undefined"==typeof Zone?Bs.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Gs=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,u=e.shouldCoalesceEventChangeDetection,a=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new as(!1),this.onMicrotaskEmpty=new as(!1),this.onStable=new as(!1),this.onError=new as(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=nt.requestAnimationFrame,e=nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Ys(t),Qs(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Ys(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,u,a){try{return Js(n),t.invokeTask(i,o,u,a)}finally{r&&"eventTask"===o.type&&r(),Zs(n)}},onInvoke:function(t,e,r,i,o,u,a){try{return Js(n),t.invoke(r,i,o,u,a)}finally{Zs(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Ys(n),Qs(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ws,ia,ia);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Ws={};function Qs(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Ys(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Js(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zs(t){t._nesting--,Qs(t)}var Xs=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new as,this.onMicrotaskEmpty=new as,this.onStable=new as,this.onError=new as}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),$s=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Gs.assertNotInAngularZone(),Hs(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Hs(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(zn(Gs))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}(),tc=function(){var t=function(){function t(){f(this,t),this._applications=new Map,rc.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return rc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function ec(t){rc=t}var nc,rc=new(function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),ic=new mn("AllowMultipleToken"),oc=function t(e,n){f(this,t),this.name=e,this.token=n};function uc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new mn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ac();if(!o||o.injector.get(ic,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var u=n.concat(e).concat({provide:i,useValue:!0},{provide:go,useValue:"platform"});!function(t){if(nc&&!nc.destroyed&&!nc.injector.get(ic,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nc=t.get(sc);var e=t.get(As,null);e&&e.forEach(function(t){return t()})}(xo.create({providers:u,name:r}))}return function(t){var e=ac();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ac(){return nc&&!nc.destroyed?nc:null}var sc=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Xs:("zone.js"===n?void 0:n)||new Gs({enableLongStackTrace:or(),shouldCoalesceEventChangeDetection:r})),u=[{provide:Gs,useValue:o}];return o.run(function(){var e=xo.create({providers:u,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Lr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return fc(i._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})}),function(t,e,r){try{var o=((u=n.injector.get(Ts)).runInitializers(),u.donePromise.then(function(){return Gu(n.injector.get(Ds,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return nu(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var u}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=cc({},n);return function(t,e,n){var r=new es(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(hc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(A(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(zn(xo))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function cc(t,e){return Array.isArray(e)?e.reduce(cc,t):Object.assign(Object.assign({},t),e)}var lc,hc=((lc=function(){function t(e,n,r,i,o,u){var a=this;f(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=or(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var c=new s.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),l=new s.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Gs.assertNotInAngularZone(),Hs(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Gs.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(c,l.pipe(function(t){return b()((e=C,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,E);return r.source=t,r.subjectFactory=n,r})(t));var e}))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ea?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Va),o=n.create(xo.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var u=o.injector.get($s,null);return u&&o.injector.get(tc).registerApplication(o.location.nativeElement,u),this._loadComponent(o),or()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=u(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=u(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(a)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;fc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ns,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),fc(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()})}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||lc)(zn(Gs),zn(Ms),zn(xo),zn(Lr),zn(ra),zn(Ts))},lc.\u0275prov=P({token:lc,factory:lc.\u0275fac}),lc);function fc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var dc=function t(){f(this,t)},pc=function t(){f(this,t)},vc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},yc=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||vc}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],u=i[1];return void 0===u&&(u="default"),r("zn8P")(o).then(function(t){return t[u]}).then(function(t){return gc(t,o,u)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],u="NgFactory";return void 0===o&&(o="default",u=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+u]}).then(function(t){return gc(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(zn(Ks),zn(pc,8))},t.\u0275prov=P({token:t,factory:t.\u0275fac}),t}();function gc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var bc=function(t){return null},mc=uc(null,"core",[{provide:xs,useValue:"unknown"},{provide:sc,deps:[xo]},{provide:tc,deps:[]},{provide:Ms,deps:[]}]),wc=[{provide:hc,useClass:hc,deps:[Gs,Ms,xo,Lr,ra,Ts]},{provide:Ja,deps:[Gs],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ts,useClass:Ts,deps:[[new xn,Es]]},{provide:Ks,useClass:Ks,deps:[]},js,{provide:Ia,useFactory:function(){return Ma},deps:[]},{provide:Ea,useFactory:function(){return Da},deps:[]},{provide:Ds,useFactory:function(t){return Gu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new An(Ds),new xn,new Mn]]},{provide:Ls,useValue:"USD"}],_c=function(){var t=function t(e){f(this,t)};return t.\u0275mod=gt({type:t}),t.\u0275inj=R({factory:function(e){return new(e||t)(zn(hc))},providers:wc}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))}}]),t}(),u=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||m(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r,i=n("7o/Q"),o=n("EY2u"),u=n("LRne"),a=n("HDdC"),s=((r=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return t=this.error,new a.a(function(e){return e.error(t)});case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new d(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(s.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(s.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(s.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),d=function t(e,n){f(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}var i;n.d(e,"a",function(){return u}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],u=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},s=u.INFO,c=((i={})[u.DEBUG]="log",i[u.VERBOSE]="log",i[u.INFO]="info",i[u.WARN]="warn",i[u.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),u=c[e];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[u].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in u))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.DEBUG],t)),this._logHandler.apply(this,r([this,u.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.VERBOSE],t)),this._logHandler.apply(this,r([this,u.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.INFO],t)),this._logHandler.apply(this,r([this,u.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.WARN],t)),this._logHandler.apply(this,r([this,u.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,u.ERROR],t)),this._logHandler.apply(this,r([this,u.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:u[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return s}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return v});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function s(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,g.prototype.create),o}return Object(r.c)(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],u=o?b(o,r):"Error",a=this.serviceName+": "+u+" ("+i+").",s=new y(i,a,r);return s},t}();function b(t,e){return t.replace(m,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var m=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?h(_(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?h(_(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?h(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r),o=i},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),u=n("XoHu"),a=n("n6bG"),s=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(a.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(v){e=v instanceof s?l(v.errors):[v]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(u.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof s?e=e.concat(l(v.errors)):e.push(v)}}if(e)throw new s(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof s?e.errors:e)},[])}},spgP:function(t,e,u){"use strict";(function(t){u.d(e,"a",function(){return M}),u.d(e,"b",function(){return T}),u.d(e,"c",function(){return E}),u.d(e,"d",function(){return w}),u.d(e,"e",function(){return I}),u.d(e,"f",function(){return x}),u.d(e,"g",function(){return j}),u.d(e,"h",function(){return _}),u.d(e,"i",function(){return O}),u.d(e,"j",function(){return S});var s=u("qgXg"),c=u("D0XW"),l=u("vkgz"),h=u("tf+s"),d=u("pxpQ"),v=u("fXoL"),y=u("Jgta");function g(){}var b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.b;f(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),m=function(){function t(e){f(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",g,{},g,g)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),w=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new b(Zone.current)}),this.insideAngular=e.run(function(){return new b(Zone.current,c.b)})};function _(t){return function(e){return(e=e.lift(new m(t.ngZone))).pipe(Object(h.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,u){return n.runOutsideAngular(function(){var o;if(t[u])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(u,t[u]),t[u];if(k.indexOf(u)>-1)return function(){};var a=e.toPromise().then(function(t){var e=t&&t[u];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(u,n,o),o})}})})}})},I=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},E=new v.q("angularfire2.app.options"),T=new v.q("angularfire2.app.nameOrConfig"),C=new v.O("6.1.4");function j(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=y.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return y.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&A("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(u){}return o}var S=function(){A("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},A=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.U)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function x(e,u,s,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||o(h)||a(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&A("error","".concat(u," was already initialized on the ").concat(s.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(g){}return p}var y=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[y].concat(i(l))),y}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var N={provide:function t(){f(this,t)},useFactory:j,deps:[E,v.z,[new v.A,T]]},M=function(){var t=function(){function t(e){f(this,t),y.a.registerVersion("angularfire",C.full,e.toString()),y.a.registerVersion("angular",v.N.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:E,useValue:e},{provide:T,useValue:n}]}}}]),t}();return t.\u0275mod=v.Gb({type:t}),t.\u0275inj=v.Fb({factory:function(e){return new(e||t)(v.Pb(v.B))},providers:[N]}),t}()}).call(this,u("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC"),i=1,o=Promise.resolve(),u={};function a(t){return t in u&&(delete u[t],!0)}var s=function(t){var e=i++;return u[e]=!0,o.then(function(){return a(e)&&t()}),e},c=function(t){a(t)},l=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?h(_(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return h(_(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(c(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),d=new(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(l),y=n("DH7j"),b=function(t){v(n,t);var e=g(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return f(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=u,i=o,(Object(y.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),u&&"function"==typeof u.schedule||(r.scheduler=d),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new w(t,e))}}var w=function(){function t(e,n){f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new b(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q");function i(){}var o=n("n6bG");function u(t,e,n){return function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),s=function(t){v(n,t);var e=g(n);function n(t,r,u,a){var s;return f(this,n),(s=e.call(this,t))._tapNext=i,s._tapError=i,s._tapComplete=i,s._tapError=u||i,s._tapComplete=a||i,Object(o.a)(r)?(s._context=m(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||i,s._tapError=r.error||i,s._tapComplete=r.complete||i),s}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function u(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),u=n("qOnz"),a=n("/6Yf"),s=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new u.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new s.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,s=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(u.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return s},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(u.d)(e,a))throw l.create("duplicate-app",{appName:a});var s=new t(n,o,r);return e[a]=s,s},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var s=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&s.push("and"),u&&s.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(s.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:s.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(s.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(u.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var s,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(u.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){s={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(u.g)(e,t)},createSubscribe:u.e,ErrorFactory:u.b,deepExtend:u.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(u.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(u.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var a=o("fXoL"),s={apiKey:"AIzaSyAw4DDKQtP4e8cR0yGgjBaJgf7J69KbmEA",authDomain:"rideshop-d4463.firebaseapp.com",databaseURL:"https://rideshop-d4463-default-rtdb.firebaseio.com",projectId:"rideshop-d4463",storageBucket:"rideshop-d4463.appspot.com",messagingSenderId:"319290134734",appId:"1:319290134734:web:41aab0e91cd616579bc09f",measurementId:"G-R1VHRBE6QZ"},c=null;function l(){return c}var d,y=new a.q("DocumentToken"),w=((d=function t(){f(this,t)}).\u0275fac=function(t){return new(t||d)},d.\u0275prov=Object(a.Eb)({factory:k,token:d,providedIn:"platform"}),d);function k(){return Object(a.Pb)(E)}var O,I=new a.q("Location Initialized"),E=((O=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=l().getLocation(),this._history=l().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return l().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){l().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){T()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){T()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(w)).\u0275fac=function(t){return new(t||O)(a.Pb(y))},O.\u0275prov=Object(a.Eb)({factory:C,token:O,providedIn:"platform"}),O);function T(){return!!window.history.pushState}function C(){return new E(Object(a.Pb)(y))}function j(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function S(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function A(t){return t&&"?"!==t[0]?"?"+t:t}var x,N=((x=function t(){f(this,t)}).\u0275fac=function(t){return new(t||x)},x.\u0275prov=Object(a.Eb)({factory:M,token:x,providedIn:"root"}),x);function M(t){var e=Object(a.Pb)(y).location;return new U(Object(a.Pb)(w),e&&e.origin||"")}var D,L,P,R=new a.q("appBaseHref"),U=((P=function(t){v(n,t);var e=g(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,b(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return j(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+A(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(N)).\u0275fac=function(t){return new(t||P)(a.Pb(w),a.Pb(R,8))},P.\u0275prov=a.Eb({token:P,factory:P.\u0275fac}),P),V=((L=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=j(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+A(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(N)).\u0275fac=function(t){return new(t||L)(a.Pb(w),a.Pb(R,8))},L.\u0275prov=a.Eb({token:L,factory:L.\u0275fac}),L),z=((D=function(){function t(e,n){var r=this;f(this,t),this._subject=new a.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=S(q(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+A(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,q(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+A(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+A(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||D)(a.Pb(N),a.Pb(w))},D.normalizeQueryParams=A,D.joinWithSlash=j,D.stripTrailingSlash=S,D.\u0275prov=Object(a.Eb)({factory:F,token:D,providedIn:"root"}),D);function F(){return new z(Object(a.Pb)(N),Object(a.Pb)(w))}function q(t){return t.replace(/\/index.html$/,"")}var K,B,H,G=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),W=a.lb,Q=function t(){f(this,t)},Y=((K=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(W(e||this.locale)(t)){case G.Zero:return"zero";case G.One:return"one";case G.Two:return"two";case G.Few:return"few";case G.Many:return"many";default:return"other"}}}]),n}(Q)).\u0275fac=function(t){return new(t||K)(a.Pb(a.u))},K.\u0275prov=a.Eb({token:K,factory:K.\u0275fac}),K),J=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Z=((B=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new J(null,e._ngForOf,-1,-1),null===i?void 0:i),u=new X(t,o);n.push(u)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var s=new X(t,a);n.push(s)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var u=this._viewContainer.get(i);u.context.index=i,u.context.count=o,u.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Object(a.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||B)(a.Ib(a.P),a.Ib(a.K),a.Ib(a.s))},B.\u0275dir=a.Db({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),B),X=function t(e,n){f(this,t),this.record=e,this.view=n},$=((H=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new tt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){et("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){et("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||H)(a.Ib(a.P),a.Ib(a.K))},H.\u0275dir=a.Db({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),H),tt=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function et(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(a.tb)(e),"'."))}var nt,rt,it=function(){function t(){f(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),ot=new(function(){function t(){f(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),ut=new it,at=((rt=function(){function t(e){f(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return p(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Object(a.qb)(e))return ot;if(Object(a.pb)(e))return ut;throw n=t,Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(a.tb)(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||rt)(a.Rb())},rt.\u0275pipe=a.Hb({name:"async",type:rt,pure:!1}),rt),st=((nt=function t(){f(this,t)}).\u0275mod=a.Gb({type:nt}),nt.\u0275inj=a.Fb({factory:function(t){return new(t||nt)},providers:[{provide:Q,useClass:Y}]}),nt);function ct(t){return"server"===t}var lt,ht=((lt=function t(){f(this,t)}).\u0275prov=Object(a.Eb)({token:lt,providedIn:"root",factory:function(){return new ft(Object(a.Pb)(y),window,Object(a.Pb)(a.m))}}),lt),ft=function(){function t(e,n,r){f(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=dt(this.window.history)||dt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function dt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var pt,vt,yt,gt,bt=function(t){v(r,t);var n=g(r);function r(){return f(this,r),n.apply(this,arguments)}return p(r,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=mt||(mt=document.querySelector("base"))?mt.getAttribute("href"):null;return null==n?null:(e=n,pt||(pt=document.createElement("a")),pt.setAttribute("href",e),"/"===pt.pathname.charAt(0)?pt.pathname:"/"+pt.pathname)}},{key:"resetBaseElement",value:function(){mt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,n){n=encodeURIComponent(n);var r,i=u(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.indexOf("="),s=e(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),c=s[0],l=s[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new r,c||(c=t)}}]),r}(function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){f(this,t)}}())),mt=null,wt=new a.q("TRANSITION_ID"),_t=[{provide:a.d,useFactory:function(t,e,n){return function(){n.get(a.e).donePromise.then(function(){var n=l();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[wt,y,a.r],multi:!0}],kt=function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){a.nb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},a.nb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},a.nb.getAllAngularRootElements=function(){return t.getAllRootElements()},a.nb.frameworkStabilizers||(a.nb.frameworkStabilizers=[]),a.nb.frameworkStabilizers.push(function(t){var e=a.nb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?l().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(a.W)(new t)}}]),t}(),Ot=new a.q("EventManagerPlugins"),It=((vt=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||vt)(a.Pb(Ot),a.Pb(a.z))},vt.\u0275prov=a.Eb({token:vt,factory:vt.\u0275fac}),vt),Et=function(){function t(e){f(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=l().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),Tt=((gt=function(){function t(){f(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||gt)},gt.\u0275prov=a.Eb({token:gt,factory:gt.\u0275fac}),gt),Ct=((yt=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return l().remove(t)})}}]),n}(Tt)).\u0275fac=function(t){return new(t||yt)(a.Pb(y))},yt.\u0275prov=a.Eb({token:yt,factory:yt.\u0275fac}),yt),jt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},St=/%COMP%/g;function At(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?At(t,i,n):(i=i.replace(St,t),n.push(i))}return n}function xt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Nt,Mt,Dt,Lt,Pt=((Nt=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Rt(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case a.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case a.Q.ShadowDom:return new Vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=At(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Nt)(a.Pb(It),a.Pb(Ct),a.Pb(a.c))},Nt.\u0275prov=a.Eb({token:Nt,factory:Nt.\u0275fac}),Nt),Rt=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(jt[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=jt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=jt[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(a.F.DashCase|a.F.Important)?t.style.setProperty(e,n,r&a.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&a.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xt(n)):this.eventManager.addEventListener(t,e,xt(n))}}]),t}(),Ut=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;f(this,n),(u=e.call(this,t)).component=i;var a=At(o+"-"+i.id,i.styles,[]);return r.addStyles(a),u.contentAttr="_ngcontent-%COMP%".replace(St,o+"-"+i.id),u.hostAttr="_nghost-%COMP%".replace(St,o+"-"+i.id),u}return p(n,[{key:"applyToHost",value:function(t){h(_(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=h(_(n.prototype),"createElement",this).call(this,t,e);return h(_(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Rt),Vt=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;f(this,n),(u=e.call(this,t)).sharedStylesHost=r,u.hostEl=i,u.shadowRoot=i.attachShadow({mode:"open"}),u.sharedStylesHost.addHost(u.shadowRoot);for(var a=At(o.id,o.styles,[]),s=0;s<a.length;s++){var c=document.createElement("style");c.textContent=a[s],u.shadowRoot.appendChild(c)}return u}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return h(_(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return h(_(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return h(_(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(h(_(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Rt),zt=((Mt=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(Et)).\u0275fac=function(t){return new(t||Mt)(a.Pb(y))},Mt.\u0275prov=a.Eb({token:Mt,factory:Mt.\u0275fac}),Mt),Ft=["alt","control","meta","shift"],qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ht=((Dt=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return l().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Ft.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var u={};return u.domEventName=r,u.fullKey=o,u}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Kt.hasOwnProperty(e)&&(e=Kt[e]))}return qt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ft.forEach(function(r){r!=n&&(0,Bt[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(Et)).\u0275fac=function(t){return new(t||Dt)(a.Pb(y))},Dt.\u0275prov=a.Eb({token:Dt,factory:Dt.\u0275fac}),Dt),Gt=[{provide:a.B,useValue:"browser"},{provide:a.C,useValue:function(){bt.makeCurrent(),kt.init()},multi:!0},{provide:y,useFactory:function(){return Object(a.sb)(document),document},deps:[]}],Wt=Object(a.R)(a.V,"browser",Gt),Qt=[[],{provide:a.Y,useValue:"root"},{provide:a.m,useFactory:function(){return new a.m},deps:[]},{provide:Ot,useClass:zt,multi:!0,deps:[y,a.z,a.B]},{provide:Ot,useClass:Ht,multi:!0,deps:[y]},[],{provide:Pt,useClass:Pt,deps:[It,Ct,a.c]},{provide:a.E,useExisting:Pt},{provide:Tt,useExisting:Ct},{provide:Ct,useClass:Ct,deps:[y]},{provide:a.L,useClass:a.L,deps:[a.z]},{provide:It,useClass:It,deps:[Ot,a.z]},[]],Yt=((Lt=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:a.c,useValue:e.appId},{provide:wt,useExisting:a.c},_t]}}}]),t}()).\u0275mod=a.Gb({type:Lt}),Lt.\u0275inj=a.Fb({factory:function(t){return new(t||Lt)(a.Pb(Lt,12))},providers:Qt,imports:[st,a.f]}),Lt);"undefined"!=typeof window&&window;var Jt=o("LRne"),Zt=o("Cfvw"),Xt=o("XNiG"),$t=o("9ppp"),te=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"_subscribe",value:function(t){var e=h(_(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $t.a;return this._value}},{key:"next",value:function(t){h(_(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(Xt.a),ee=o("z+Ro"),ne=o("DH7j"),re=o("7o/Q"),ie=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(re.a),oe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(re.a),ue=o("SeVD"),ae=o("HDdC");function se(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new oe(t,n,r);if(!i.closed)return e instanceof ae.a?e.subscribe(i):Object(ue.a)(e)(i)}var ce=o("yCtX"),le={},he=function(){function t(e){f(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new fe(t,this.resultSelector))}}]),t}(),fe=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(le),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(se(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===le?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ie),de=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),pe=o("EY2u");function ve(t){return new ae.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Zt.a)(n):Object(pe.b)()).subscribe(e)})}var ye=o("lJxs"),ge=o("bHdf");function be(){return Object(ge.a)(1)}function me(t,e){return function(n){return n.lift(new we(t,e))}}var we=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new _e(t,this.predicate,this.thisArg))}}]),t}(),_e=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(re.a),ke=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Oe(t){return function(e){return 0===t?Object(pe.b)():e.lift(new Ie(t))}}var Ie=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new ke}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ee(t,this.total))}}]),t}(),Ee=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(re.a);function Te(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return function(e){return e.lift(new Ce(t))}}var Ce=function(){function t(e){f(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new je(t,this.errorFactory))}}]),t}(),je=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(re.a);function Se(){return new de}function Ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new xe(t))}}var xe=function(){function t(e){f(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ne(t,this.defaultValue))}}]),t}(),Ne=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(re.a),Me=o("SpAZ"),De=o("zx2A");function Le(t,e){return"function"==typeof e?function(n){return n.pipe(Le(function(n,r){return Object(Zt.a)(t(n,r)).pipe(Object(ye.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Pe(t))}}var Pe=function(){function t(e){f(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Re(t,this.project))}}]),t}(),Re=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new De.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(De.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||h(_(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&h(_(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(De.b);function Ue(t){return function(e){return 0===t?Object(pe.b)():e.lift(new Ve(t))}}var Ve=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new ke}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new ze(t,this.total))}}]),t}(),ze=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(re.a);function Fe(){return be()(Object(Jt.a).apply(void 0,arguments))}function qe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(ee.a)(r)?(e.pop(),function(t){return Fe(e,t,r)}):function(t){return Fe(e,t)}}function Ke(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Be(t,e,n))}}var Be=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new He(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),He=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this,t)).accumulator=r,u._seed=i,u.hasSeed=o,u.index=0,u}return p(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(re.a);function Ge(t){return function(e){var n=new We(t),r=e.lift(n);return n.caught=r}}var We=function(){function t(e){f(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Qe(t,this.selector,this.caught))}}]),t}(),Qe=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void h(_(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new De.a(this);this.add(r);var i=Object(De.c)(e,r);i!==r&&this.add(i)}}}]),n}(De.b),Ye=o("5+tZ");function Je(t,e){return Object(Ye.a)(t,e,1)}function Ze(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?me(function(e,n){return t(e,n,r)}):Me.a,Ue(1),n?Ae(e):Te(function(){return new de}))}}var Xe=o("vkgz"),$e=o("quSY"),tn=function(){function t(e){f(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new en(t,this.callback))}}]),t}(),en=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new $e.a(r)),i}return n}(re.a),nn=function t(e,n){f(this,t),this.id=e,this.url=n},rn=function(t){v(n,t);var e=g(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=u,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(nn),on=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(nn),un=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(nn),an=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(nn),sn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nn),cn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nn),ln=function(t){v(n,t);var e=g(n);function n(t,r,i,o,u){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=u,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(nn),hn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nn),fn=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(nn),dn=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),pn=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),vn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),yn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),gn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),bn=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),mn=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),wn=function(){function t(e){f(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function _n(t){return new wn(t)}function kn(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function On(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var u=r[o],a=t[o];if(u.startsWith(":"))i[u.substring(1)]=a;else if(u!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function In(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!En(t[n=r[o]],e[n]))return!1;return!0}function En(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function Tn(t){return Array.prototype.concat.apply([],t)}function Cn(t){return t.length>0?t[t.length-1]:null}function jn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sn(t){return Object(a.pb)(t)?t:Object(a.qb)(t)?Object(Zt.a)(Promise.resolve(t)):Object(Jt.a)(t)}function An(t,e,n){return n?function(t,e){return In(t,e)}(t.queryParams,e.queryParams)&&xn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return En(t[n],e[n])})}(t.queryParams,e.queryParams)&&Nn(t.root,e.root)}function xn(t,e){if(!Rn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!xn(t.children[n],e.children[n]))return!1}return!0}function Nn(t,e){return Mn(t,e,e.segments)}function Mn(t,e,n){if(t.segments.length>n.length)return!!Rn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Rn(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Nn(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Rn(t.segments,i)&&!!t.children.primary&&Mn(t.children.primary,e,o)}var Dn=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"toString",value:function(){return Fn.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}}]),t}(),Ln=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,jn(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return qn(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Pn=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return p(t,[{key:"toString",value:function(){return Yn(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}}]),t}();function Rn(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Un(t,e){var n=[];return jn(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),jn(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}var Vn=function t(){f(this,t)},zn=function(){function t(){f(this,t)}return p(t,[{key:"parse",value:function(t){var e=new tr(t);return new Dn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+Kn(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Hn(t),"=").concat(Hn(e))}).join("&"):"".concat(Hn(t),"=").concat(Hn(n))}),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Fn=new zn;function qn(t){return t.segments.map(function(t){return Yn(t)}).join("/")}function Kn(t,e){if(!t.hasChildren())return qn(t);if(e){var n=t.children.primary?Kn(t.children.primary,!1):"",r=[];return jn(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Kn(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=Un(t,function(e,n){return"primary"===n?[Kn(t.children.primary,!1)]:["".concat(n,":").concat(Kn(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(qn(t),"/").concat(i[0]):"".concat(qn(t),"/(").concat(i.join("//"),")")}function Bn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hn(t){return Bn(t).replace(/%3B/gi,";")}function Gn(t){return Bn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wn(t){return decodeURIComponent(t)}function Qn(t){return Wn(t.replace(/\+/g,"%20"))}function Yn(t){return"".concat(Gn(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(Gn(t),"=").concat(Gn(e[t]))}).join("")));var e}var Jn=/^[^\/()?;=#]+/;function Zn(t){var e=t.match(Jn);return e?e[0]:""}var Xn=/^[^=?&#]+/,$n=/^[^?&#]+/,tr=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ln([],{}):new Ln([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ln(t,e)),n}},{key:"parseSegment",value:function(){var t=Zn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Pn(Wn(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Zn(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Zn(this.remaining);r&&(n=r,this.capture(n))}t[Wn(e)]=Wn(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Xn);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match($n);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Qn(e),o=Qn(n);if(t.hasOwnProperty(i)){var u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Zn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ln([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),er=function(){function t(e){f(this,t),this._root=e}return p(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=nr(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=nr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=rr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return rr(t,this._root).map(function(t){return t.value})}},{key:"root",get:function(){return this._root.value}}]),t}();function nr(t,e){if(t===e.value)return e;var n,r=u(e.children);try{for(r.s();!(n=r.n()).done;){var i=nr(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function rr(t,e){if(t===e.value)return[e];var n,r=u(e.children);try{for(r.s();!(n=r.n()).done;){var i=rr(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ir=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function or(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ur=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).snapshot=r,fr(m(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(er);function ar(t,e){var n=function(t,e){var n=new lr([],{},{},"",{},"primary",e,null,t.root,-1,{});return new hr("",new ir(n,[]))}(t,e),r=new te([new Pn("",{})]),i=new te({}),o=new te({}),u=new te({}),a=new te(""),s=new sr(r,i,u,a,o,"primary",e,n.root);return s.snapshot=n.root,new ur(new ir(s,[]),n)}var sr=function(){function t(e,n,r,i,o,u,a,s){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=a,this._futureSnapshot=s}return p(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ye.a)(function(t){return _n(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ye.a)(function(t){return _n(t)}))),this._queryParamMap}}]),t}();function cr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var lr=function(){function t(e,n,r,i,o,u,a,s,c,l,h){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=a,this.routeConfig=s,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return p(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}}]),t}(),hr=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this,r)).url=t,fr(m(i),r),i}return p(n,[{key:"toString",value:function(){return dr(this._root)}}]),n}(er);function fr(t,e){e.value._routerState=t,e.children.forEach(function(e){return fr(t,e)})}function dr(t){var e=t.children.length>0?" { ".concat(t.children.map(dr).join(", ")," } "):"";return"".concat(t.value).concat(e)}function pr(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),In(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),In(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function vr(t,e){return In(t.params,e.params)&&function(t,e){return Rn(t,e)&&t.every(function(t,n){return In(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||vr(t.parent,e.parent))}function yr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=u(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return yr(t,e,o)}}catch(a){i.e(a)}finally{i.f()}return yr(t,e)})}(t,e,n);return new ir(r,i)}var o=t.retrieve(e.value);if(o){var a=o.route;return gr(e,a),a}var s,c=new sr(new te((s=e.value).url),new te(s.params),new te(s.queryParams),new te(s.fragment),new te(s.data),s.outlet,s.component,s),l=e.children.map(function(e){return yr(t,e)});return new ir(c,l)}function gr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)gr(t.children[n],e.children[n])}function br(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mr(t){return"object"==typeof t&&null!=t&&t.outlets}function wr(t,e,n,r,i){var o={};return r&&jn(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Dn(n.root===t?e:_r(n.root,t,e),o,i)}function _r(t,e,n){var r={};return jn(t.children,function(t,i){r[i]=t===e?n:_r(t,e,n)}),new Ln(t.segments,r)}var kr=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&br(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(mr);if(i&&i!==Cn(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Or=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Ir(t,e,n){if(t||(t=new Ln([],{})),0===t.segments.length&&t.hasChildren())return Er(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var u=t.segments[i],a=n[r];if(mr(a))break;var s=""+a,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&c&&"object"==typeof c&&void 0===c.outlets){if(!Sr(s,c,u))return o;r+=2}else{if(!Sr(s,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ln(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Ln(t.segments.slice(r.pathIndex),t.children),Er(o,0,i)}return r.match&&0===i.length?new Ln(t.segments,{}):r.match&&!t.hasChildren()?Tr(t,e,n):r.match?Er(t,0,i):Tr(t,e,n)}function Er(t,e,n){if(0===n.length)return new Ln(t.segments,{});var r=function(t){return mr(t[0])?t[0].outlets:{primary:t}}(n),i={};return jn(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Ir(t.children[r],e,n))}),jn(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Ln(t.segments,i)}function Tr(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(mr(o)){var u=Cr(o.outlets);return new Ln(r,u)}if(0===i&&br(n[0]))r.push(new Pn(t.segments[e].path,n[0])),i++;else{var a=mr(o)?o.outlets.primary:""+o,s=i<n.length-1?n[i+1]:null;a&&s&&br(s)?(r.push(new Pn(a,jr(s))),i+=2):(r.push(new Pn(a,{})),i++)}}return new Ln(r,{})}function Cr(t){var e={};return jn(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Tr(new Ln([],{}),0,t))}),e}function jr(t){var e={};return jn(t,function(t,n){return e[n]=""+t}),e}function Sr(t,e,n){return t==n.path&&In(e,n.parameters)}var Ar=function(){function t(e,n,r,i){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),pr(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=or(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),jn(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=or(t),o=t.value.component?r.children:e;jn(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=or(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new bn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new yn(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(pr(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var u=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(a.contexts),u.attachRef=a.componentRef,u.route=a.route.value,u.outlet&&u.outlet.attach(a.componentRef,a.route.value),xr(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=s?s.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=c,u.outlet&&u.outlet.activateWith(r,c),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function xr(t){pr(t.value),t.children.forEach(xr)}var Nr=function t(e,n){f(this,t),this.routes=e,this.module=n};function Mr(t){return"function"==typeof t}function Dr(t){return t instanceof Dn}var Lr=Symbol("INITIAL_VALUE");function Pr(){return Le(function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return Object(ee.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(ne.a)(e[0])&&(e=e[0]),Object(ce.a)(e,i).lift(new he(r))}).apply(void 0,i(t.map(function(t){return t.pipe(Ue(1),qe(Lr))}))).pipe(Ke(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Lr)return t;if(r===Lr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Dr(r))return r}return t},t)},Lr),me(function(t){return t!==Lr}),Object(ye.a)(function(t){return Dr(t)?t:!0===t}),Ue(1))})}var Rr,Ur=((Rr=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Rr)},Rr.\u0275cmp=a.Cb({type:Rr,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&a.Jb(0,"router-outlet")},directives:function(){return[Vi]},encapsulation:2}),Rr);function Vr(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];zr(r,Fr(e,r))}}function zr(t,e){t.children&&Vr(t.children,e)}function Fr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function qr(t){var e=t.children&&t.children.map(qr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ur),n}function Kr(t){return t.outlet||"primary"}var Br=function t(e){f(this,t),this.segmentGroup=e||null},Hr=function t(e){f(this,t),this.urlTree=e};function Gr(t){return new ae.a(function(e){return e.error(new Br(t))})}function Wr(t){return new ae.a(function(e){return e.error(new Hr(t))})}function Qr(t){return new ae.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Yr=function(){function t(e,n,r,i,o){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(a.x)}return p(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ye.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Ge(function(e){if(e instanceof Hr)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Br)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ye.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(Ge(function(t){if(t instanceof Br)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Ln([],{primary:t}):t;return new Dn(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ye.a)(function(t){return new Ln([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Jt.a)({});var o=[],u=[],a={};return jn(n,function(n,i){var s,c,l=(s=i,c=n,r.expandSegmentGroup(t,e,c,s)).pipe(Object(ye.a)(function(t){return a[i]=t}));"primary"===i?o.push(l):u.push(l)}),Jt.a.apply(null,o.concat(u)).pipe(be(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?me(function(e,n){return t(e,n,r)}):Me.a,Oe(1),n?Ae(e):Te(function(){return new de}))}}(),Object(ye.a)(function(){return a}))}(n.children)}},{key:"expandSegment",value:function(t,n,r,i,o,u){var a=this,s=function(t){return t.reduce(function(t,e){var n=Kr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(r);s.has(o)||s.set(o,[]);var c=Array.from(s.entries()).map(function(r){var s=e(r,2),c=s[0],l=function(e){return Object(Zt.a)(e).pipe(Je(function(r){return a.expandSegmentAgainstRoute(t,n,e,r,i,o,u).pipe(Ge(function(t){if(t instanceof Br)return Object(Jt.a)(null);throw t}))}),Ze(function(t){return null!==t}),Ge(function(t){if(t instanceof de||"EmptyError"===t.name){if(a.noLeftoversInUrl(n,i,o))return Object(Jt.a)(new Ln([],{}));throw new Br(n)}throw t}))}(s[1]);return c===o?l:l.pipe(Object(ye.a)(function(){return null}),Ge(function(){return Object(Jt.a)(null)}))});return Object(Zt.a)(c).pipe(function(t){return t.lift(new he(void 0))},Ze(),Object(ye.a)(function(t){return t.find(function(t){return null!==t})}))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,u){return Kr(r)!==o&&""!==r.path?Gr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Gr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wr(o):this.lineralizeSegments(n,o).pipe(Object(Ye.a)(function(n){var o=new Ln(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var u=this,a=Jr(e,r,i),s=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!s)return Gr(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Wr(f):this.lineralizeSegments(r,f).pipe(Object(Ye.a)(function(r){return u.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ye.a)(function(t){return n._loadedConfig=t,new Ln(r,{})})):Object(Jt.a)(new Ln(r,{}));var o=Jr(e,n,r),a=o.matched,s=o.consumedSegments,c=o.lastChild;if(!a)return Gr(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(Ye.a)(function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(function(n){return Xr(t,e,n)&&"primary"!==Kr(n)})}(t,n,r)?{segmentGroup:Zr(new Ln(e,function(t,e){var n={};n.primary=e;var r,i=u(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==Kr(o)&&(n[Kr(o)]=new Ln([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Ln(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(function(n){return Xr(t,e,n)})}(t,n,r)?{segmentGroup:Zr(new Ln(t.segments,function(t,e,n,r){var i,o={},a=u(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Xr(t,e,s)&&!r[Kr(s)]&&(o[Kr(s)]=new Ln([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,l,r),a=o.segmentGroup,c=o.slicedSegments;return 0===c.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(ye.a)(function(t){return new Ln(s,t)})):0===r.length&&0===c.length?Object(Jt.a)(new Ln(s,{})):i.expandSegment(n,a,r,c,"primary",!0).pipe(Object(ye.a)(function(t){return new Ln(s.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Jt.a)(new Nr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Jt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Ye.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(ye.a)(function(t){return e._loadedConfig=t,t})):function(t){return new ae.a(function(e){return e.error(kn("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Jt.a)(new Nr([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Jt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Mr(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Mr(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Sn(i)});return Object(Jt.a)(o).pipe(Pr(),Object(Xe.a)(function(t){if(Dr(t)){var e=kn('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(ye.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Jt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Qr(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Dn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return jn(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),u={};return jn(e.children,function(e,o){u[o]=i.createSegmentGroup(t,e,n,r)}),new Ln(o,u)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=u(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Jr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||On)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Zr(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Ln(t.segments.concat(e.segments),e.children)}return t}function Xr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}var $r=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},ti=function t(e,n){f(this,t),this.component=e,this.route=n};function ei(t,e,n){var r=t._root;return ri(r,e?e._root:null,n,[r.value])}function ni(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ri(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=or(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,u=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){var s=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rn(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!vr(t,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);s?i.canActivateChecks.push(new $r(r)):(o.data=u.data,o._resolvedData=u._resolvedData),ri(t,e,o.component?a?a.children:null:n,r,i),s&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ti(a.outlet.component,u))}else u&&ii(e,a,i),i.canActivateChecks.push(new $r(r)),ri(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),jn(o,function(t,e){return ii(t,n.getContext(e),i)}),i}function ii(t,e,n){var r=or(t),i=t.value;jn(r,function(t,r){ii(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ti(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function oi(t,e){return null!==t&&e&&e(new gn(t)),Object(Jt.a)(!0)}function ui(t,e){return null!==t&&e&&e(new vn(t)),Object(Jt.a)(!0)}function ai(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Jt.a)(!0);var i=r.map(function(r){return ve(function(){var i,o=ni(r,e,n);if(function(t){return t&&Mr(t.canActivate)}(o))i=Sn(o.canActivate(e,t));else{if(!Mr(o))throw new Error("Invalid CanActivate guard");i=Sn(o(e,t))}return i.pipe(Ze())})});return Object(Jt.a)(i).pipe(Pr())}function si(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return ve(function(){var i=e.guards.map(function(i){var o,u=ni(i,e.node,n);if(function(t){return t&&Mr(t.canActivateChild)}(u))o=Sn(u.canActivateChild(r,t));else{if(!Mr(u))throw new Error("Invalid CanActivateChild guard");o=Sn(u(r,t))}return o.pipe(Ze())});return Object(Jt.a)(i).pipe(Pr())})});return Object(Jt.a)(i).pipe(Pr())}var ci=function t(){f(this,t)},li=function(){function t(e,n,r,i,o,u){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}return p(t,[{key:"recognize",value:function(){try{var t=di(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new lr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ir(n,e),i=new hr(this.url,r);return this.inheritParamsAndData(i._root),Object(Jt.a)(i)}catch(o){return new ae.a(function(t){return t.error(o)})}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=cr(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Un(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value}),i.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=u(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(s){if(!(s instanceof ci))throw s}}}catch(c){o.e(c)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new ci}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new ci;if((t.outlet||"primary")!==r)throw new ci;var i,o=[],u=[];if("**"===t.path){var a=n.length>0?Cn(n).parameters:{};i=new lr(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),r,t.component,t,hi(e),fi(e)+n.length,yi(t))}else{var s=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ci;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||On)(n,t,e);if(!r)throw new ci;var i={};jn(r.posParams,function(t,e){i[e]=t.path});var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=s.consumedSegments,u=n.slice(s.lastChild),i=new lr(o,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),r,t.component,t,hi(e),fi(e)+o.length,yi(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=di(e,o,u,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new ir(i,d)]}if(0===c.length&&0===f.length)return[new ir(i,[])];var p=this.processSegment(c,h,f,"primary");return[new ir(i,p)]}}]),t}();function hi(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function fi(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function di(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(function(n){return pi(t,e,n)&&"primary"!==Kr(n)})}(t,n,r)){var o=new Ln(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=u(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Kr(s)){var c=new Ln([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Kr(s)]=c}}}catch(l){a.e(l)}finally{a.f()}return i}(t,e,r,new Ln(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return pi(t,e,n)})}(t,n,r)){var a=new Ln(t.segments,function(t,e,n,r,i,o){var a,s={},c=u(r);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(pi(t,n,l)&&!i[Kr(l)]){var h=new Ln([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Kr(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Ln(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function pi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function vi(t){return t.data||{}}function yi(t){return t.resolve||{}}function gi(t){return function(e){return e.pipe(Le(function(e){var n=t(e);return n?Object(Zt.a)(n).pipe(Object(ye.a)(function(){return e})):Object(Zt.a)([e])}))}}var bi=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(){function t(){f(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),mi=new a.q("ROUTES"),wi=function(){function t(e,n,r,i){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ye.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Nr(Tn(i.injector.get(mi)).map(qr),i)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Zt.a)(this.loader.load(t)):Sn(t()).pipe(Object(Ye.a)(function(t){return t instanceof a.v?Object(Jt.a)(t):Object(Zt.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),_i=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new ki,this.attachRef=null},ki=function(){function t(){f(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new _i,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Oi=function(){function t(){f(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Ii(t){throw t}function Ei(t,e,n){return e.parse("/")}function Ti(t,e){return Object(Jt.a)(null)}var Ci,ji,Si,Ai=((Si=function(){function t(e,n,r,i,o,u,s,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Xt.a,this.errorHandler=Ii,this.malformedUriErrorHandler=Ei,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ti,afterPreactivation:Ti},this.urlHandlingStrategy=new Oi,this.routeReuseStrategy=new bi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(a.x),this.console=o.get(a.X);var h=o.get(a.z);this.isNgZoneEnabled=h instanceof a.z,this.resetConfig(c),this.currentUrlTree=new Dn(new Ln([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wi(u,s,function(t){return l.triggerEvent(new dn(t))},function(t){return l.triggerEvent(new pn(t))}),this.routerState=ar(this.currentUrlTree,this.rootComponentType),this.transitions=new te({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(me(function(t){return 0!==t.id}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Le(function(t){var r,i,o,u,a=!1,s=!1;return Object(Jt.a)(t).pipe(Object(Xe.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Le(function(t){var r,i,o,u,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Jt.a)(t).pipe(Le(function(t){var r=e.transitions.getValue();return n.next(new rn(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?pe.a:[t]}),Le(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,u=e.config,function(t){return t.pipe(Le(function(t){return function(t,e,n,r,i){return new Yr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,u).pipe(Object(ye.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))}))}),Object(Xe.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return function(r){return r.pipe(Object(Ye.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new li(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(u=r.urlAfterRedirects,e.serializeUrl(u)),i,o).pipe(Object(ye.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var u}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Xe.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),Object(Xe.a)(function(t){var r=new sn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var s=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new rn(s,e.serializeUrl(c),l,h);n.next(d);var p=ar(c,e.rootComponentType).snapshot;return Object(Jt.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pe.a}),gi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,u=t.extras,a=u.skipLocationChange,s=u.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!s})}),Object(Xe.a)(function(t){var n=new cn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},t),{guards:ei(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return function(n){return n.pipe(Object(Ye.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,u=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===u.length?Object(Jt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Zt.a)(t).pipe(Object(Ye.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Jt.a)(!0);var u=o.map(function(o){var u,a=ni(o,e,i);if(function(t){return t&&Mr(t.canDeactivate)}(a))u=Sn(a.canDeactivate(t,e,n,r));else{if(!Mr(a))throw new Error("Invalid CanDeactivate guard");u=Sn(a(t,e,n,r))}return u.pipe(Ze())});return Object(Jt.a)(u).pipe(Pr())}(t.component,t.route,n,e,r)}),Ze(function(t){return!0!==t},!0))}(a,r,i,t).pipe(Object(Ye.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Zt.a)(e).pipe(Je(function(e){return Object(Zt.a)([ui(e.route.parent,r),oi(e.route,r),si(t,e.path,n),ai(t,e.route,n)]).pipe(be(),Ze(function(t){return!0!==t},!0))}),Ze(function(t){return!0!==t},!0))}(r,u,t,e):Object(Jt.a)(n)}),Object(ye.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Xe.a)(function(t){if(Dr(t.guardsResult)){var n=kn('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}}),Object(Xe.a)(function(t){var n=new ln(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),me(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new un(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),gi(function(t){if(t.guards.canActivateChecks.length)return Object(Jt.a)(t).pipe(Object(Xe.a)(function(t){var n=new hn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Le(function(t){var r,i,o=!1;return Object(Jt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(Ye.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Jt.a)(t);var o=0;return Object(Zt.a)(n).pipe(Je(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Jt.a)({});var o={};return Object(Zt.a)(i).pipe(Object(Ye.a)(function(i){return function(t,e,n,r){var i=ni(t,e,r);return Sn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Xe.a)(function(t){o[i]=t}))}),Oe(1),Object(Ye.a)(function(){return Object.keys(o).length===i.length?Object(Jt.a)(o):pe.a}))}(t._resolve,t,e,r).pipe(Object(ye.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),cr(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Xe.a)(function(){return o++}),Oe(1),Object(Ye.a)(function(e){return o===n.length?Object(Jt.a)(t):pe.a}))}))}),Object(Xe.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new un(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Xe.a)(function(t){var n=new fn(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),gi(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,u=t.extras,a=u.skipLocationChange,s=u.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!s})}),Object(ye.a)(function(t){var n=function(t,e,n){var r=yr(t,e._root,n?n._root:void 0);return new ur(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Xe.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,u=function(t){return e.triggerEvent(t)},Object(ye.a)(function(t){return new Ar(o,t.targetRouterState,t.currentRouterState,u).activate(i),t})),Object(Xe.a)({next:function(){a=!0},complete:function(){a=!0}}),(r=function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new un(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new tn(r))}),Ge(function(r){if(s=!0,(a=r)&&a.ngNavigationCancelingError){var i=Dr(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new un(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var u=new an(t.id,e.serializeUrl(t.extractedUrl),r);n.next(u);try{t.resolve(e.errorHandler(r))}catch(Ah){t.reject(Ah)}}var a;return pe.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var u=Object.assign({},r);delete u.navigationId,0!==Object.keys(u).length&&(o.state=u)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Vr(t),this.config=t.map(qr),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,u=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,c=a?this.currentUrlTree.fragment:o,l=null;switch(u){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return wr(e.root,e.root,e,r,o);var u=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new kr(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var u={};return jn(r.outlets,function(t,e){u[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:u}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new kr(n,e,r)}(n);if(u.toRoot())return wr(e.root,new Ln([],{}),e,r,o);var a=function(t,e,n){if(t.isAbsolute)return new Or(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Or(r,r===e.root,0)}var i=br(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Or(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(u,e,t),s=a.processChildren?Er(a.segmentGroup,a.index,u.commands):Ir(a.segmentGroup,a.index,u.commands);return wr(a.segmentGroup,s,e,r,o)}(s,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Dr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Dr(t))return An(this.currentUrlTree,t,e);var n=this.parseUrl(t);return An(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new on(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,u,a,s=this.getTransition(),c="imperative"!==e&&"imperative"===(null==s?void 0:s.source),l=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,u=i.reject,a=i.promise):a=new Promise(function(t,e){o=t,u=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:u,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||Si)(a.Pb(a.M),a.Pb(Vn),a.Pb(ki),a.Pb(z),a.Pb(a.r),a.Pb(a.w),a.Pb(a.i),a.Pb(void 0))},Si.\u0275prov=a.Eb({token:Si,factory:Si.\u0275fac}),Si),xi=((ji=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new Xt.a,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return p(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||ji)(a.Ib(Ai),a.Ib(sr),a.Qb("tabindex"),a.Ib(a.D),a.Ib(a.l))},ji.\u0275dir=a.Db({type:ji,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&a.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[a.wb]}),ji),Ni=((Ci=function(){function t(e,n,r){var i=this;f(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new Xt.a,this.subscription=e.events.subscribe(function(t){t instanceof on&&i.updateTargetUrlAndHref()})}return p(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Ci)(a.Ib(Ai),a.Ib(sr),a.Ib(N))},Ci.\u0275dir=a.Db({type:Ci,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&a.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(a.Ob("href",e.href,a.gc),a.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[a.wb]}),Ci);function Mi(t){return""===t||!!t}var Di,Li,Pi,Ri,Ui=((Li=function(){function t(e,n,r,i,o,u){var a=this;f(this,t),this.router=e,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=u,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof on&&a.update()})}return p(t,[{key:"ngAfterContentInit",value:function(){var t=this;Object(Zt.a)([this.links.changes,this.linksWithHrefs.changes,Object(Jt.a)(null)]).pipe(Object(ge.a)()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(i(this.links.toArray()),i(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=Object(Zt.a)(n).pipe(Object(ge.a)()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}}]),t}()).\u0275fac=function(t){return new(t||Li)(a.Ib(Ai),a.Ib(a.l),a.Ib(a.D),a.Ib(a.h),a.Ib(xi,8),a.Ib(Ni,8))},Li.\u0275dir=a.Db({type:Li,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(a.Bb(n,xi,!0),a.Bb(n,Ni,!0)),2&t&&(a.dc(r=a.Tb())&&(e.links=r),a.dc(r=a.Tb())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[a.wb]}),Li),Vi=((Di=function(){function t(e,n,r,i,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.n,this.deactivateEvents=new a.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||Di)(a.Ib(ki),a.Ib(a.P),a.Ib(a.j),a.Qb("name"),a.Ib(a.h))},Di.\u0275dir=a.Db({type:Di,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Di),zi=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===sr?this.route:t===ki?this.childContexts:this.parent.get(t,e)}}]),t}(),Fi=function t(){f(this,t)},qi=function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Jt.a)(null)}}]),t}(),Ki=((Ri=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new wi(n,r,function(t){return e.triggerEvent(new dn(t))},function(t){return e.triggerEvent(new pn(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(me(function(t){return t instanceof on}),Je(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(a.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=u(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Zt.a)(r).pipe(Object(ge.a)(),Object(ye.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(Ye.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||Ri)(a.Pb(Ai),a.Pb(a.w),a.Pb(a.i),a.Pb(a.r),a.Pb(Fi))},Ri.\u0275prov=a.Eb({token:Ri,factory:Ri.\u0275fac}),Ri),Bi=((Pi=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof rn?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof on&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof mn&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new mn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Pi)(a.Pb(Ai),a.Pb(ht),a.Pb(void 0))},Pi.\u0275prov=a.Eb({token:Pi,factory:Pi.\u0275fac}),Pi),Hi=new a.q("ROUTER_CONFIGURATION"),Gi=new a.q("ROUTER_FORROOT_GUARD"),Wi=[z,{provide:Vn,useClass:zn},{provide:Ai,useFactory:function(t,e,n,r,i,o,u){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=new Ai(null,t,e,n,r,i,o,Tn(u));if(s&&(h.urlHandlingStrategy=s),c&&(h.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){var f=l();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[Vn,ki,z,a.r,a.w,a.i,mi,Hi,[function(){return function t(){f(this,t)}}(),new a.A],[function(){return function t(){f(this,t)}}(),new a.A]]},ki,{provide:sr,useFactory:function(t){return t.routerState.root},deps:[Ai]},{provide:a.w,useClass:a.J},Ki,qi,function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(Ge(function(){return Object(Jt.a)(null)}))}}]),t}(),{provide:Hi,useValue:{enableTracing:!1}}];function Qi(){return new a.y("Router",Ai)}var Yi,Ji=((Yi=function(){function t(e,n){f(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Wi,to(e),{provide:Gi,useFactory:$i,deps:[[Ai,new a.A,new a.I]]},{provide:Hi,useValue:n||{}},{provide:N,useFactory:Xi,deps:[w,[new a.p(R),new a.A],Hi]},{provide:Bi,useFactory:Zi,deps:[Ai,ht,Hi]},{provide:Fi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qi},{provide:a.y,multi:!0,useFactory:Qi},[no,{provide:a.d,multi:!0,useFactory:ro,deps:[no]},{provide:oo,useFactory:io,deps:[no]},{provide:a.b,multi:!0,useExisting:oo}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[to(e)]}}}]),t}()).\u0275mod=a.Gb({type:Yi}),Yi.\u0275inj=a.Fb({factory:function(t){return new(t||Yi)(a.Pb(Gi,8),a.Pb(Ai,8))}}),Yi);function Zi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Bi(t,e,n)}function Xi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new V(t,e):new U(t,e)}function $i(t){return"guarded"}function to(t){return[{provide:a.a,multi:!0,useValue:t},{provide:mi,multi:!0,useValue:t}]}var eo,no=((eo=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Xt.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(I,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Ai),i=t.injector.get(Hi);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Jt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Hi),n=this.injector.get(Ki),r=this.injector.get(Bi),i=this.injector.get(Ai),o=this.injector.get(a.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||eo)(a.Pb(a.r))},eo.\u0275prov=a.Eb({token:eo,factory:eo.\u0275fac}),eo);function ro(t){return t.appInitializer.bind(t)}function io(t){return t.bootstrapListener.bind(t)}var oo=new a.q("Router Initializer"),uo=o("mCNh"),ao=o("VRyK"),so=o("pxpQ"),co=o("qgXg"),lo=o("Ylt2"),ho=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}h(_(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new fo(this._getNow(),t)),this._trimBufferThenGetEvents()),h(_(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new $t.a;if(this.isStopped||this.hasError?e=$e.a.EMPTY:(this.observers.push(t),e=new lo.a(this,t)),i&&t.add(t=new so.a(t,i)),n)for(var u=0;u<o&&!t.closed;u++)t.next(r[u]);else for(var a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||co.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Xt.a),fo=function t(e,n){f(this,t),this.time=e,this.value=n};function po(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,u=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,s=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new ho(i,u,s),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function vo(t,e){return e?Le(function(){return t},e):Le(function(){return t})}var yo,go=o("tf+s"),bo=o("spgP"),mo=new a.q("angularfire2.auth.use-emulator"),wo=new a.q("angularfire2.auth.settings"),_o=new a.q("angularfire2.auth.tenant-id"),ko=new a.q("angularfire2.auth.langugage-code"),Oo=new a.q("angularfire2.auth.use-device-language"),Io=new a.q("angularfire.auth.persistence"),Eo=((yo=function t(e,n,r,i,u,a,s,c,l,h){f(this,t);var d=new bo.d(i),p=Object(bo.h)(d),v=new Xt.a,y=Object(Jt.a)(void 0).pipe(Object(so.b)(d.outsideAngular),Le(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(ye.a)(function(){return Object(bo.g)(e,i,n)}),Object(ye.a)(function(t){return i.runOutsideAngular(function(){var e=u,n=a;return Object(bo.f)(t.name+".auth","AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://"+e.join(":")),s&&(r.tenantId=s),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,s,c,l,n,h])})}),po({bufferSize:1,refCount:!1}));if(ct(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Jt.a)(null);else{y.pipe(Ze()).subscribe();var g=y.pipe(Le(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,po({bufferSize:1,refCount:!1})),b=function(t){return new ae.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},m=y.pipe(Le(function(t){return b(t.onAuthStateChanged.bind(t))})),w=y.pipe(Le(function(t){return b(t.onIdTokenChanged.bind(t))}));this.authState=g.pipe(vo(m),Object(go.a)(d.outsideAngular),Object(so.b)(d.insideAngular)),this.user=g.pipe(vo(w),Object(go.a)(d.outsideAngular),Object(so.b)(d.insideAngular)),this.idToken=this.user.pipe(Le(function(t){return t?Object(Zt.a)(t.getIdToken()):Object(Jt.a)(null)})),this.idTokenResult=this.user.pipe(Le(function(t){return t?Object(Zt.a)(t.getIdTokenResult()):Object(Jt.a)(null)})),this.credential=Object(ao.a)(g,v,this.authState.pipe(me(function(t){return!t}))).pipe(Object(ye.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(go.a)(d.outsideAngular),Object(so.b)(d.insideAngular))}return Object(bo.i)(this,y,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||yo)(a.Pb(bo.c),a.Pb(bo.b,8),a.Pb(a.B),a.Pb(a.z),a.Pb(mo,8),a.Pb(wo,8),a.Pb(_o,8),a.Pb(ko,8),a.Pb(Oo,8),a.Pb(Io,8))},yo.\u0275prov=Object(a.Eb)({factory:function(){return new yo(Object(a.Pb)(bo.c),Object(a.Pb)(bo.b,8),Object(a.Pb)(a.B),Object(a.Pb)(a.z),Object(a.Pb)(mo,8),Object(a.Pb)(wo,8),Object(a.Pb)(_o,8),Object(a.Pb)(ko,8),Object(a.Pb)(Oo,8),Object(a.Pb)(Io,8))},token:yo,providedIn:"any"}),yo);Object(bo.e)(Eo,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var To,Co=Object(ye.a)(function(t){return!!t}),jo=((To=function t(e,n){var r=this;f(this,t),this.router=e,this.auth=n,this.canActivate=function(t,e){var n=t.data.authGuardPipe||function(){return Co};return r.auth.user.pipe(Ue(1),n(t,e),Object(ye.a)(function(t){return"boolean"==typeof t?t:Array.isArray(t)?r.router.createUrlTree(t):r.router.parseUrl(t)}))}}).\u0275fac=function(t){return new(t||To)(a.Pb(Ai),a.Pb(Eo))},To.\u0275prov=Object(a.Eb)({factory:function(){return new To(Object(a.Pb)(Ai),Object(a.Pb)(Eo))},token:To,providedIn:"any"}),To);Object(ye.a)(function(t){return!!t&&!t.isAnonymous});var So,Ao,xo,No=Le(function(t){return t?t.getIdTokenResult():Object(Jt.a)(null)}),Mo=(Object(ye.a)(function(t){return!!t&&t.emailVerified}),Object(uo.a)(No,Object(ye.a)(function(t){return t?t.claims:[]}))),Do=function(t){return Object(uo.a)(Co,Object(ye.a)(function(e){return e||t}))},Lo=[{path:"admin",component:(So=function(){function t(){f(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),So.\u0275fac=function(t){return new(t||So)},So.\u0275cmp=a.Cb({type:So,selectors:[["app-admin-dashboard"]],decls:59,vars:0,consts:[[1,"wrapper"],["id","sidebar"],[1,"sidebar-header"],[1,"list-unstyled","components"],[1,"active"],["href","#homeSubmenu","data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle"],["id","homeSubmenu",1,"collapse","list-unstyled"],["href","#"],["href","#pageSubmenu","data-toggle","collapse","aria-expanded","false",1,"dropdown-toggle"],["id","pageSubmenu",1,"collapse","list-unstyled"],["id","content"],[1,"container-fluid"],["type","button","id","sidebarCollapse",1,"btn","btn-info"],[1,"fas","fa-align-left"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"btn","btn-dark","d-inline-block","d-lg-none","ml-auto"],[1,"fas","fa-align-justify"]],template:function(t,e){1&t&&(a.Jb(0,"br"),a.Jb(1,"br"),a.Lb(2,"div",0),a.Lb(3,"nav",1),a.Lb(4,"div",2),a.Lb(5,"h3"),a.lc(6,"Bootstrap Sidebar"),a.Kb(),a.Kb(),a.Lb(7,"ul",3),a.Lb(8,"p"),a.lc(9,"Dummy Heading"),a.Kb(),a.Lb(10,"li",4),a.Lb(11,"a",5),a.lc(12,"Home"),a.Kb(),a.Lb(13,"ul",6),a.Lb(14,"li"),a.Lb(15,"a",7),a.lc(16,"Home 1"),a.Kb(),a.Kb(),a.Lb(17,"li"),a.Lb(18,"a",7),a.lc(19,"Home 2"),a.Kb(),a.Kb(),a.Lb(20,"li"),a.Lb(21,"a",7),a.lc(22,"Home 3"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(23,"li"),a.Lb(24,"a",7),a.lc(25,"About"),a.Kb(),a.Kb(),a.Lb(26,"li"),a.Lb(27,"a",8),a.lc(28,"Pages"),a.Kb(),a.Lb(29,"ul",9),a.Lb(30,"li"),a.Lb(31,"a",7),a.lc(32,"Page 1"),a.Kb(),a.Kb(),a.Lb(33,"li"),a.Lb(34,"a",7),a.lc(35,"Page 2"),a.Kb(),a.Kb(),a.Lb(36,"li"),a.Lb(37,"a",7),a.lc(38,"Page 3"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(39,"li"),a.Lb(40,"a",7),a.lc(41,"Portfolio"),a.Kb(),a.Kb(),a.Lb(42,"li"),a.Lb(43,"a",7),a.lc(44,"Contact"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(45,"div",10),a.Lb(46,"div",11),a.Lb(47,"button",12),a.Jb(48,"i",13),a.Lb(49,"span"),a.lc(50,"Toggle Sidebar"),a.Kb(),a.Kb(),a.Lb(51,"button",14),a.Jb(52,"i",15),a.Kb(),a.Kb(),a.Lb(53,"h2"),a.lc(54,"Collapsible Sidebar Using Bootstrap 4"),a.Kb(),a.Lb(55,"p"),a.lc(56,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),a.Kb(),a.Lb(57,"p"),a.lc(58,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),a.Kb(),a.Kb(),a.Kb())},styles:['@import "https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700";body[_ngcontent-%COMP%]{background:#fafafa}body[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}p[_ngcontent-%COMP%]{font-size:1.1em;font-weight:300;line-height:1.7em;color:#999}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:focus, a[_ngcontent-%COMP%]:hover{color:inherit;text-decoration:none;transition:all .3s}.navbar[_ngcontent-%COMP%]{padding:15px 10px;background:#fff;border:none;border-radius:0;margin-bottom:40px;box-shadow:1px 1px 3px rgba(0,0,0,.1)}.navbar-btn[_ngcontent-%COMP%]{box-shadow:none;outline:none!important;border:none}.line[_ngcontent-%COMP%]{width:100%;height:1px;border-bottom:1px dashed #ddd;margin:40px 0}.wrapper[_ngcontent-%COMP%]{display:flex;width:100%;align-items:stretch}#sidebar[_ngcontent-%COMP%]{min-width:250px;max-width:250px;background:#7386d5;color:#fff;transition:all .3s}#sidebar.active[_ngcontent-%COMP%]{margin-left:-250px}#sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:20px;background:#6d7fcc}#sidebar[_ngcontent-%COMP%]   ul.components[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid #47748b}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding:10px}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px;font-size:1.1em;display:block}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#7386d5;background:#fff}#sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], a[aria-expanded=true][_ngcontent-%COMP%]{color:#fff;background:#6d7fcc}a[data-toggle=collapse][_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]:after{display:block;position:absolute;top:50%;right:20px;transform:translateY(-50%)}ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em!important;padding-left:30px!important;background:#6d7fcc}ul.CTAs[_ngcontent-%COMP%]{padding:20px}ul.CTAs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;font-size:.9em!important;display:block;border-radius:5px;margin-bottom:5px}a.download[_ngcontent-%COMP%]{background:#fff;color:#7386d5}a.article[_ngcontent-%COMP%], a.article[_ngcontent-%COMP%]:hover{background:#6d7fcc!important;color:#fff!important}#content[_ngcontent-%COMP%]{width:100%;padding:20px;min-height:100vh;transition:all .3s}@media (max-width:768px){#sidebar[_ngcontent-%COMP%]{margin-left:-250px}#sidebar.active[_ngcontent-%COMP%]{margin-left:0}#sidebarCollapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}']}),So),canActivate:[jo],data:{authGuardPipe:function(){return Do(["login"])},adminOnly:function(){return Object(uo.a)(Mo,Object(ye.a)(function(t){return t.hasOwnProperty("admin")}))}}}],Po=((xo=function t(){f(this,t)}).\u0275mod=a.Gb({type:xo}),xo.\u0275inj=a.Fb({factory:function(t){return new(t||xo)},imports:[[st,Ji.forChild(Lo)],Ji]}),xo),Ro=((Ao=function t(){f(this,t)}).\u0275mod=a.Gb({type:Ao}),Ao.\u0275inj=a.Fb({factory:function(t){return new(t||Ao)},imports:[[st,Po]]}),Ao);function Uo(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{s(r.next(t))}catch(e){o(e)}}function a(t){try{s(r.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}s((r=r.apply(t,e||[])).next())})}var Vo=o("D0XW");function zo(){return function(t){return t.lift(new Fo)}}var Fo=function(){function t(){f(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new qo(t))}}]),t}(),qo=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(re.a),Ko=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Bo(t,this.compare,this.keySelector))}}]),t}(),Bo=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(re.a),Ho=o("Jgta"),Go=o("30Go"),Wo=o("zIRd"),Qo=o("q/0M"),Yo=o("qOnz"),Jo=function(t,e){return(Jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Zo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xo,$o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tu=tu||{},eu=$o||self;function nu(){}function ru(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function iu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ou="closure_uid_"+(1e9*Math.random()>>>0),uu=0;function au(t,e,n){return t.call.apply(t.bind,arguments)}function su(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function cu(t,e,n){return(cu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?au:su).apply(null,arguments)}function lu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function hu(){return Date.now()}function fu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function du(){this.j=this.j,this.i=this.i}du.prototype.j=!1,du.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ou)&&t[ou]||(t[ou]=++uu)}(this)},du.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var pu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},vu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function yu(t){return Array.prototype.concat.apply([],arguments)}function gu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function bu(t){return/^[\s\xa0]*$/.test(t)}var mu,wu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function _u(t,e){return-1!=t.indexOf(e)}function ku(t,e){return t<e?-1:t>e?1:0}t:{var Ou=eu.navigator;if(Ou){var Iu=Ou.userAgent;if(Iu){mu=Iu;break t}}mu=""}function Eu(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Tu(t){var e={};for(var n in t)e[n]=t[n];return e}var Cu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ju(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Cu.length;o++)n=Cu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Su(t){return Su[" "](t),t}Su[" "]=nu;var Au,xu,Nu=_u(mu,"Opera"),Mu=_u(mu,"Trident")||_u(mu,"MSIE"),Du=_u(mu,"Edge"),Lu=Du||Mu,Pu=_u(mu,"Gecko")&&!(_u(mu.toLowerCase(),"webkit")&&!_u(mu,"Edge"))&&!(_u(mu,"Trident")||_u(mu,"MSIE"))&&!_u(mu,"Edge"),Ru=_u(mu.toLowerCase(),"webkit")&&!_u(mu,"Edge");function Uu(){var t=eu.document;return t?t.documentMode:void 0}t:{var Vu="",zu=(xu=mu,Pu?/rv:([^\);]+)(\)|;)/.exec(xu):Du?/Edge\/([\d\.]+)/.exec(xu):Mu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(xu):Ru?/WebKit\/(\S+)/.exec(xu):Nu?/(?:Version)[ \/]?(\S+)/.exec(xu):void 0);if(zu&&(Vu=zu?zu[1]:""),Mu){var Fu=Uu();if(null!=Fu&&Fu>parseFloat(Vu)){Au=String(Fu);break t}}Au=Vu}var qu={};function Ku(t){return function(t,e){var n=qu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=wu(String(Au)).split("."),r=wu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var u=n[o]||"",a=r[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==u[0].length&&0==a[0].length)break;e=ku(0==u[1].length?0:parseInt(u[1],10),0==a[1].length?0:parseInt(a[1],10))||ku(0==u[2].length,0==a[2].length)||ku(u[2],a[2]),u=u[3],a=a[3]}while(0==e)}return 0<=e})}var Bu=eu.document&&Mu&&(Uu()||parseInt(Au,10))||void 0,Hu=!Mu||9<=Number(Bu),Gu=Mu&&!Ku("9"),Wu=function(){if(!eu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{eu.addEventListener("test",nu,e),eu.removeEventListener("test",nu,e)}catch(n){}return t}();function Qu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Yu(t,e){if(Qu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Pu){t:{try{Su(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ju[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Qu.prototype.b=function(){this.defaultPrevented=!0},fu(Yu,Qu);var Ju={2:"touch",3:"pen",4:"mouse"};Yu.prototype.b=function(){Yu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gu)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Zu="closure_listenable_"+(1e6*Math.random()|0),Xu=0;function $u(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Xu,this.Y=this.Z=!1}function ta(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ea(t){this.src=t,this.a={},this.b=0}function na(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=pu(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ta(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ra(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ea.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var u=ra(t,e,r,i);return-1<u?(e=t[u],n||(e.Z=!1)):((e=new $u(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ia="closure_lm_"+(1e6*Math.random()|0),oa={};function ua(t,e,n,r,i){if(r&&r.once)return sa(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ua(t,e[o],n,r,i);return null}return n=ya(n),t&&t[Zu]?t.va(e,n,iu(r)?!!r.capture:!!r,i):aa(t,e,n,!1,r,i)}function aa(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var u=iu(i)?!!i.capture:!!i;if(u&&!Hu)return null;var a=pa(t);if(a||(t[ia]=a=new ea(t)),(n=a.add(e,n,r,u,o)).proxy)return n;if(r=function(){var t=da,e=Hu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Wu||(i=u),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ha(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sa(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sa(t,e[o],n,r,i);return null}return n=ya(n),t&&t[Zu]?t.wa(e,n,iu(r)?!!r.capture:!!r,i):aa(t,e,n,!0,r,i)}function ca(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ca(t,e[o],n,r,i);else r=iu(r)?!!r.capture:!!r,n=ya(n),t&&t[Zu]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ra(o=t.a[e],n,r,i))&&(ta(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=pa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ra(e,n,r,i)),(n=-1<t?e[t]:null)&&la(n))}function la(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Zu])na(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ha(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pa(e))?(na(n,t),0==n.b&&(n.src=null,e[ia]=null)):ta(t)}}}function ha(t){return t in oa?oa[t]:oa[t]="on"+t}function fa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&la(t),n.call(r,e)}function da(t,e){if(t.Y)return!0;if(!Hu){if(!e)t:{e=["window","event"];for(var n=eu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return fa(t,e=new Yu(e,this))}return fa(t,new Yu(e,this))}function pa(t){return(t=t[ia])instanceof ea?t:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(t){return"function"==typeof t?t:(t[va]||(t[va]=function(e){return t.handleEvent(e)}),t[va])}function ga(){du.call(this),this.c=new ea(this),this.J=this,this.C=null}function ba(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Qu(e,t);else if(e instanceof Qu)e.target=e.target||t;else{var i=e;ju(e=new Qu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=e.a=n[o];i=ma(u,r,!0,e)&&i}if(i=ma(u=e.a=t,r,!0,e)&&i,i=ma(u,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ma(u=e.a=n[o],r,!1,e)&&i}function ma(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.Y&&u.capture==n){var a=u.listener,s=u.ca||u.src;u.Z&&na(t.c,u),i=!1!==a.call(s,r)&&i}}return i&&!r.defaultPrevented}fu(ga,du),ga.prototype[Zu]=!0,(Xo=ga.prototype).addEventListener=function(t,e,n,r){ua(this,t,e,n,r)},Xo.removeEventListener=function(t,e,n,r){ca(this,t,e,n,r)},Xo.G=function(){if(ga.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ta(n[r]);delete e.a[t],e.b--}}this.C=null},Xo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Xo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wa=eu.JSON.stringify;function _a(){this.b=this.a=null}var ka,Oa=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ea},function(t){t.reset()});function Ia(){var t=Sa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ea(){this.next=this.b=this.a=null}function Ta(t){eu.setTimeout(function(){throw t},0)}function Ca(t,e){ka||function(){var t=eu.Promise.resolve(void 0);ka=function(){t.then(Aa)}}(),ja||(ka(),ja=!0),Sa.add(t,e)}_a.prototype.add=function(t,e){var n=Oa.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ea.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ea.prototype.reset=function(){this.next=this.b=this.a=null};var ja=!1,Sa=new _a;function Aa(){for(var t;t=Ia();){try{t.a.call(t.b)}catch(n){Ta(n)}var e=Oa;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ja=!1}function xa(t,e){ga.call(this),this.b=t||1,this.a=e||eu,this.f=cu(this.Za,this),this.g=hu()}function Na(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ma(t,e,n){if("function"==typeof t)n&&(t=cu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=cu(t.handleEvent,t)}return 2147483647<Number(e)?-1:eu.setTimeout(t,e||0)}function Da(t){t.a=Ma(function(){t.a=null,t.c&&(t.c=!1,Da(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fu(xa,ga),(Xo=xa.prototype).aa=!1,Xo.M=null,Xo.Za=function(){if(this.aa){var t=hu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ba(this,"tick"),this.aa&&(Na(this),this.start()))}},Xo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=hu())},Xo.G=function(){xa.X.G.call(this),Na(this),delete this.a};var La=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Jo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Da(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(eu.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(du);function Pa(t){du.call(this),this.b=t,this.a={}}fu(Pa,du);var Ra=[];function Ua(t,e,n,r){Array.isArray(n)||(n&&(Ra[0]=n.toString()),n=Ra);for(var i=0;i<n.length;i++){var o=ua(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Va(t){Eu(t.a,function(t,e){this.a.hasOwnProperty(e)&&la(t)},t),t.a={}}function za(){this.a=!0}function Fa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return wa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Pa.prototype.G=function(){Pa.X.G.call(this),Va(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},za.prototype.info=function(){};var qa={},Ka=null;function Ba(){return Ka=Ka||new ga}function Ha(t){Qu.call(this,qa.Fa,t)}function Ga(t){var e=Ba();ba(e,new Ha(e,t))}function Wa(t,e){Qu.call(this,qa.STAT_EVENT,t),this.stat=e}function Qa(t){var e=Ba();ba(e,new Wa(e,t))}function Ya(t){Qu.call(this,qa.Ga,t)}function Ja(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return eu.setTimeout(function(){t()},e)}qa.Fa="serverreachability",fu(Ha,Qu),qa.STAT_EVENT="statevent",fu(Wa,Qu),qa.Ga="timingevent",fu(Ya,Qu);var Za={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Xa={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $a(){}function ts(){}$a.prototype.a=null;var es,ns={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function rs(){Qu.call(this,"d")}function is(){Qu.call(this,"c")}function os(){}function us(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Pa(this),this.P=as,this.R=new xa(t=Lu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fu(rs,Qu),fu(is,Qu),fu(os,$a),es=new os;var as=45e3,ss={},cs={};function ls(t,e,n){t.H=1,t.i=Ns(Ts(e)),t.j=n,t.I=!0,hs(t,null)}function hs(t,e){t.u=hu(),ps(t),t.l=Ts(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Hs(n.b,"t",r),t.D=0,t.a=Vc(t.g,t.g.C?e:null),0<t.O&&(t.F=new La(cu(t.Ca,t,t.a),t.O)),Ua(t.J,t.a,"readystatechange",t.Xa),e=t.B?Tu(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ga(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var u="",a=o.split("&"),s=0;s<a.length;s++){var c=a[s].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");u=2<=h.length&&"type"==h[1]?u+(l+"=")+c+"&":u+(l+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+u})}(t.c,t.m,t.l,t.f,t.S,t.j)}function fs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ds(t,n);if(i==cs){4==e&&(t.h=4,Qa(14),r=!1),Fa(t.c,t.f,null,"[Incomplete Response]");break}if(i==ss){t.h=4,Qa(15),Fa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fa(t.c,t.f,i,null),ms(t,i)}4==e&&0==n.length&&(t.h=1,Qa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),xc(e),e.F=!0,Qa(11))):(Fa(t.c,t.f,n,"[Invalid Chunked Response]"),bs(t),gs(t))}function ds(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?cs:(n=Number(e.substring(n,r)),isNaN(n)?ss:(r+=1)+n>e.length?cs:(e=e.substr(r,n),t.D=r+n,e))}function ps(t){t.T=hu()+t.P,vs(t,t.P)}function vs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ja(cu(t.Va,t),e)}function ys(t){t.o&&(eu.clearTimeout(t.o),t.o=null)}function gs(t){0==t.g.v||t.A||Dc(t.g,t)}function bs(t){ys(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Na(t.R),Va(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ms(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Xs(n.b,t)))if(n.I=t.N,!t.C&&Xs(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(jm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Mc(n),kc(n)}Ac(n),Qa(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ja(cu(n.Sa,n),6e3));if(1>=Zs(n.b)&&n.ea){try{n.ea()}catch(jm){}n.ea=void 0}}else Pc(n,11)}else if((t.C||n.a==t)&&Mc(n),!bu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var u=i[4];null!=u&&(n.pa=u,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var s=1.5*a;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=s.b;!h.a&&(_u(l,"spdy")||_u(l,"quic")||_u(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($s(h,h.b),h.b=null))}if(s.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(s.na=f,xs(s.B,s.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=hu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((s=n).la=Uc(s,s.C?s.ga:null,s.fa),d.C){tc(s.b,d);var p=d,v=s.D;v&&p.setTimeout(v),p.o&&(ys(p),ps(p)),s.a=d}else Sc(s);0<n.g.length&&Ec(n)}else"stop"!=i[0]&&"close"!=i[0]||Pc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Pc(n,7):_c(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ga(4)}catch(jm){}}function ws(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ru(t)||"string"==typeof t)vu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ru(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ru(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function _s(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _s)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ks(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Os(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Os(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Os(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Xo=us.prototype).setTimeout=function(t){this.P=t},Xo.Xa=function(t){t=t.target;var e=this.F;e&&3==gc(t)?e.f():this.Ca(t)},Xo.Ca=function(t){try{if(t==this.a)t:{var e=gc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Lu&&!this.a.$())){this.A||4!=e||7==n||Ga(8==n||0>=r?3:2),ys(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+u})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var u,a=this.a;if((u=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bu(u)){var s=u;break e}}s=null}if(!s){this.b=!1,this.h=3,Qa(12),bs(this),gs(this);break t}Fa(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ms(this,s)}this.I?(fs(this,e,o),Lu&&this.b&&3==e&&(Ua(this.J,this.R,"tick",this.Wa),this.R.start())):(Fa(this.c,this.f,o,null),ms(this,o)),4==e&&bs(this),this.b&&!this.A&&(4==e?Dc(this.g,this):(this.b=!1,ps(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Qa(12)):(this.h=0,Qa(13)),bs(this),gs(this)}}}catch(c){}},Xo.Wa=function(){if(this.a){var t=gc(this.a),e=this.a.$();this.D<e.length&&(ys(this),fs(this,t,e),this.b&&4!=t&&ps(this))}},Xo.cancel=function(){this.A=!0,bs(this)},Xo.Va=function(){this.o=null;var t=hu();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ga(3),Qa(17)),bs(this),this.h=2,gs(this)):vs(this,this.T-t)},(Xo=_s.prototype).K=function(){ks(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Xo.L=function(){return ks(this),this.a.concat()},Xo.get=function(t,e){return Os(this.b,t)?this.b[t]:e},Xo.set=function(t,e){Os(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Xo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Is=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Es(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Es){this.a=void 0!==e?e:t.a,Cs(this,t.f),this.j=t.j,js(this,t.c),Ss(this,t.h),this.g=t.g,e=t.b;var n=new Fs;n.c=e.c,e.a&&(n.a=new _s(e.a),n.b=e.b),As(this,n),this.i=t.i}else t&&(n=String(t).match(Is))?(this.a=!!e,Cs(this,n[1]||"",!0),this.j=Ms(n[2]||""),js(this,n[3]||"",!0),Ss(this,n[4]),this.g=Ms(n[5]||"",!0),As(this,n[6]||"",!0),this.i=Ms(n[7]||"")):(this.a=!!e,this.b=new Fs(null,this.a))}function Ts(t){return new Es(t)}function Cs(t,e,n){t.f=n?Ms(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function js(t,e,n){t.c=n?Ms(e,!0):e}function Ss(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function As(t,e,n){e instanceof Fs?(t.b=e,function(t,e){e&&!t.f&&(qs(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ks(this,e),Hs(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ds(e,Vs)),t.b=new Fs(e,t.a))}function xs(t,e,n){t.b.set(e,n)}function Ns(t){return xs(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^hu()).toString(36)),t}function Ms(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ds(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ls),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ls(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Es.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ds(e,Ps,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ds(e,Ps,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ds(n,"/"==n.charAt(0)?Us:Rs,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ds(n,zs)),t.join("")};var Ps=/[#\/\?@]/g,Rs=/[#\?:]/g,Us=/[#\?]/g,Vs=/[#\?@]/g,zs=/#/g;function Fs(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qs(t){t.a||(t.a=new _s,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ks(t,e){qs(t),e=Gs(t,e),Os(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Os((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ks(t)))}function Bs(t,e){return qs(t),e=Gs(t,e),Os(t.a.b,e)}function Hs(t,e,n){Ks(t,e),0<n.length&&(t.c=null,t.a.set(Gs(t,e),gu(n)),t.b+=n.length)}function Gs(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Xo=Fs.prototype).add=function(t,e){qs(this),this.c=null,t=Gs(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Xo.forEach=function(t,e){qs(this),this.a.forEach(function(n,r){vu(n,function(n){t.call(e,n,r,this)},this)},this)},Xo.L=function(){qs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Xo.K=function(t){qs(this);var e=[];if("string"==typeof t)Bs(this,t)&&(e=yu(e,this.a.get(Gs(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=yu(e,t[n])}return e},Xo.set=function(t,e){return qs(this),this.c=null,Bs(this,t=Gs(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Xo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Xo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var u=i;""!==r[o]&&(u+="="+encodeURIComponent(String(r[o]))),t.push(u)}}return this.c=t.join("&")};var Ws=function(t,e){this.b=t,this.a=e};function Qs(t){this.g=t||Ys,t=eu.PerformanceNavigationTiming?0<(t=eu.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(eu.ia&&eu.ia.ya&&eu.ia.ya()&&eu.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ys=10;function Js(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zs(t){return t.b?1:t.a?t.a.size:0}function Xs(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $s(t,e){t.a?t.a.add(e):t.b=e}function tc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ec(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Zo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return gu(t.c)}function nc(){}function rc(){this.a=new nc}function ic(t,e,n){var r=n||"";try{ws(t,function(t,n){var i=t;iu(t)&&(i=wa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Qs.prototype.cancel=function(){var t,e;if(this.c=ec(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Zo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},nc.prototype.stringify=function(t){return eu.JSON.stringify(t,void 0)},nc.prototype.parse=function(t){return eu.JSON.parse(t,void 0)};var uc=eu.JSON.parse;function ac(t){ga.call(this),this.headers=new _s,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sc,this.D=this.F=!1}fu(ac,ga);var sc="",cc=/^https?$/i,lc=["POST","PUT"];function hc(t){return"content-type"==t.toLowerCase()}function fc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,dc(t),vc(t)}function dc(t){t.u||(t.u=!0,ba(t,"complete"),ba(t,"error"))}function pc(t){if(t.b&&void 0!==tu&&(!t.s[1]||4!=gc(t)||2!=t.W()))if(t.l&&4==gc(t))Ma(t.za,0,t);else if(ba(t,"readystatechange"),4==gc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Is)[1]||null;if(!o&&eu.self&&eu.self.location){var u=eu.self.location.protocol;o=u.substr(0,u.length-1)}i=!cc.test(o?o.toLowerCase():"")}e=i}if(e)ba(t,"complete"),ba(t,"success");else{t.h=6;try{var a=2<gc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",dc(t)}}finally{vc(t)}}}function vc(t,e){if(t.a){yc(t);var n=t.a,r=t.s[0]?nu:null;t.a=null,t.s=null,e||ba(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function yc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(eu.clearTimeout(t.m),t.m=null)}function gc(t){return t.a?t.a.readyState:0}function bc(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Eu(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):xs(t,e,n))}function mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wc(t){this.pa=0,this.g=[],this.c=new za,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mc("baseRetryDelayMs",5e3,t),this.Ra=mc("retryDelaySeedMs",1e4,t),this.Ma=mc("forwardChannelMaxRetries",2,t),this.ma=mc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Qs(t&&t.concurrentRequestLimit),this.ka=new rc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function _c(t){if(Oc(t),3==t.v){var e=t.R++,n=Ts(t.B);xs(n,"SID",t.J),xs(n,"RID",e),xs(n,"TYPE","terminate"),Cc(t,n),(e=new us(t,t.c,e,void 0)).H=2,e.i=Ns(Ts(n)),n=!1,eu.navigator&&eu.navigator.sendBeacon&&(n=eu.navigator.sendBeacon(e.i.toString(),"")),!n&&eu.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vc(e.g,null),e.a.ba(e.i)),e.u=hu(),ps(e)}Rc(t)}function kc(t){t.a&&(xc(t),t.a.cancel(),t.a=null)}function Oc(t){kc(t),t.j&&(eu.clearTimeout(t.j),t.j=null),Mc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&eu.clearTimeout(t.h),t.h=null)}function Ic(t,e){t.g.push(new Ws(t.Oa++,e)),3==t.v&&Ec(t)}function Ec(t){Js(t.b)||t.h||(t.h=!0,Ca(t.Ba,t),t.u=0)}function Tc(t,e){var n;n=e?e.f:t.R++;var r=Ts(t.B);xs(r,"SID",t.J),xs(r,"RID",n),xs(r,"AID",t.P),Cc(t,r),t.i&&t.l&&bc(r,t.i,t.l),n=new us(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$s(t.b,n),ls(n,r,e)}function Cc(t,e){t.f&&ws({},function(t,n){xs(e,n,t)})}function jc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?cu(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var u=["count="+n];-1==o?0<n?u.push("ofs="+(o=i[0].b)):o=0:u.push("ofs="+o);for(var a=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),a=!1;else try{ic(l,u,"req"+c+"_")}catch(gl){r&&r(l)}}if(a){r=u.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Sc(t){t.a||t.j||(t.T=1,Ca(t.Aa,t),t.o=0)}function Ac(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ja(cu(t.Aa,t),Lc(t,t.o)),t.o++,0))}function xc(t){null!=t.s&&(eu.clearTimeout(t.s),t.s=null)}function Nc(t){t.a=new us(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ts(t.la);xs(e,"RID","rpc"),xs(e,"SID",t.J),xs(e,"CI",t.H?"0":"1"),xs(e,"AID",t.P),Cc(t,e),xs(e,"TYPE","xmlhttp"),t.i&&t.l&&bc(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ns(Ts(e)),n.j=null,n.I=!0,hs(n,t)}function Mc(t){null!=t.m&&(eu.clearTimeout(t.m),t.m=null)}function Dc(t,e){var n=null;if(t.a==e){Mc(t),xc(t),t.a=null;var r=2}else{if(!Xs(t.b,e))return;n=e.s,tc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=hu()-e.u;var i=t.u;ba(r=Ba(),new Ya(r,n,e,i)),Ec(t)}else Sc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ja(cu(t.Ba,t,e),Lc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ac(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Pc(t,5);break;case 4:Pc(t,10);break;case 3:Pc(t,6);break;default:Pc(t,2)}}function Lc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Pc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=cu(t.Ya,t);n||(n=new Es("//www.google.com/images/cleardot.gif"),eu.location&&"http"==eu.location.protocol||Cs(n,"https"),Ns(n)),function(t,e){var n=new za;if(eu.Image){var r=new Image;r.onload=lu(oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lu(oc,n,r,"TestLoadImage: error",!1,e),r.onabort=lu(oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lu(oc,n,r,"TestLoadImage: timeout",!1,e),eu.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Qa(2);t.v=0,t.f&&t.f.ra(e),Rc(t),Oc(t)}function Rc(t){t.v=0,t.I=-1,t.f&&(0==ec(t.b).length&&0==t.g.length||(t.b.c.length=0,gu(t.g),t.g.length=0),t.f.qa())}function Uc(t,e,n){var r=function(t){return t instanceof Es?Ts(t):new Es(t,void 0)}(n);if(""!=r.c)e&&js(r,e+"."+r.c),Ss(r,r.h);else{var i=eu.location;r=function(t,e,n,r){var i=new Es(null,void 0);return t&&Cs(i,t),e&&js(i,e),n&&Ss(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Eu(t.V,function(t,e){xs(r,e,t)}),n=t.na,(e=t.A)&&n&&xs(r,e,n),xs(r,"VER",t.ha),Cc(t,r),r}function Vc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ac(t.Na)).F=t.C,e}function zc(){}function Fc(){if(Mu&&!(10<=Number(Bu)))throw Error("Environmental error: no available transport.")}function qc(t,e){ga.call(this),this.a=new wc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!bu(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Hc(this)}function Kc(t){rs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Bc(){is.call(this),this.status=1}function Hc(t){this.a=t}(Xo=ac.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:es),this.a.onreadystatechange=cu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void fc(this,o)}t=n||"";var i=new _s(this.headers);r&&ws(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=hc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=eu.FormData&&t instanceof eu.FormData,!(0<=pu(lc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{yc(this),0<this.o&&((this.D=function(t){return Mu&&Ku(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=cu(this.xa,this)):this.m=Ma(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){fc(this,o)}},Xo.xa=function(){void 0!==tu&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ba(this,"timeout"),this.abort(8))},Xo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ba(this,"complete"),ba(this,"abort"),vc(this))},Xo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),vc(this,!0)),ac.X.G.call(this)},Xo.za=function(){this.j||(this.A||this.l||this.g?pc(this):this.Ua())},Xo.Ua=function(){pc(this)},Xo.W=function(){try{return 2<gc(this)?this.a.status:-1}catch(xu){return-1}},Xo.$=function(){try{return this.a?this.a.responseText:""}catch(xu){return""}},Xo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),uc(e)}},Xo.ua=function(){return this.h},Xo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Xo=wc.prototype).ha=8,Xo.v=1,Xo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new us(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ju(r=Tu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jc(this,n,e),xs(i=Ts(this.B),"RID",t),xs(i,"CVER",22),this.A&&xs(i,"X-HTTP-Session-Id",this.A),Cc(this,i),this.i&&r&&bc(i,this.i,r),$s(this.b,n),this.Ia&&xs(i,"TYPE","init"),this.da?(xs(i,"$req",e),xs(i,"SID","null"),n.U=!0,ls(n,i,null)):ls(n,i,e),this.v=2}}else 3==this.v&&(t?Tc(this,t):0==this.g.length||Js(this.b)||Tc(this))},Xo.Aa=function(){if(this.j=null,Nc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ja(cu(this.Ta,this),t)}},Xo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Qa(10),kc(this),Nc(this))},Xo.Sa=function(){null!=this.m&&(this.m=null,kc(this),Ac(this),Qa(19))},Xo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Qa(2)):(this.c.info("Failed to ping google.com"),Qa(1))},(Xo=zc.prototype).ta=function(){},Xo.sa=function(){},Xo.ra=function(){},Xo.qa=function(){},Xo.Ja=function(){},Fc.prototype.a=function(t,e){return new qc(t,e)},fu(qc,ga),qc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Qa(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Uc(t,null,t.fa),Ec(t)},qc.prototype.close=function(){_c(this.a)},qc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ic(this.a,e)}else this.l?((e={}).__data__=wa(t),Ic(this.a,e)):Ic(this.a,t)},qc.prototype.G=function(){this.a.f=null,delete this.f,_c(this.a),delete this.a,qc.X.G.call(this)},fu(Kc,rs),fu(Bc,is),fu(Hc,zc),Hc.prototype.ta=function(){ba(this.a,"a")},Hc.prototype.sa=function(t){ba(this.a,new Kc(t))},Hc.prototype.ra=function(t){ba(this.a,new Bc(t))},Hc.prototype.qa=function(){ba(this.a,"b")},Fc.prototype.createWebChannel=Fc.prototype.a,qc.prototype.send=qc.prototype.h,qc.prototype.open=qc.prototype.g,qc.prototype.close=qc.prototype.close,Za.NO_ERROR=0,Za.TIMEOUT=8,Za.HTTP_ERROR=6,Xa.COMPLETE="complete",ts.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",ga.prototype.listen=ga.prototype.va,ac.prototype.listenOnce=ac.prototype.wa,ac.prototype.getLastError=ac.prototype.Qa,ac.prototype.getLastErrorCode=ac.prototype.ua,ac.prototype.getStatus=ac.prototype.W,ac.prototype.getResponseJson=ac.prototype.Pa,ac.prototype.getResponseText=ac.prototype.$,ac.prototype.send=ac.prototype.ba;var Gc=Za,Wc=Xa,Qc=qa,Yc=ts,Jc=ac,Zc=o("/6Yf"),Xc=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},$c=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),tl=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();tl.UNAUTHENTICATED=new tl(null),tl.l=new tl("google-credentials-uid"),tl._=new tl("first-party-uid");var el=new Qo.b("@firebase/firestore");function nl(){return el.logLevel}function rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.a.DEBUG){var r=e.map(ul);el.debug.apply(el,Object(Go.g)(["Firestore (8.1.2): "+t],r))}}function il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.a.ERROR){var r=e.map(ul);el.error.apply(el,Object(Go.g)(["Firestore (8.1.2): "+t],r))}}function ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.a.WARN){var r=e.map(ul);el.warn.apply(el,Object(Go.g)(["Firestore (8.1.2): "+t],r))}}function ul(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function al(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.2) INTERNAL ASSERTION FAILED: "+t;throw il(e),new Error(e)}function sl(t,e){t||al()}function cl(t,e){return t}var ll={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},hl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Go.c)(e,t),e}(Error),fl=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},dl=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(tl.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),pl=function(){function t(t){var e=this;this.P=null,this.currentUser=tl.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(rl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(sl("string"==typeof n.accessToken),new fl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return sl(null===t||"string"==typeof t),new tl(t)},t}(),vl=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=tl._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),yl=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new vl(this.v,this.S))},t.prototype.A=function(t){t(tl._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function gl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var bl=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ml(t,e){return t<e?-1:t>e?1:0}function wl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function _l(t){return t+"\0"}var kl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new hl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new hl(ll.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new hl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new hl(ll.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?ml(this.nanoseconds,t.nanoseconds):ml(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ol=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new kl(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),Il=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&al(),void 0===n?n=t.length-e:n>t.length-e&&al(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),El=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");r.push.apply(r,u.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(Il),Tl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return Tl.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new hl(ll.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},u=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new hl(ll.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new hl(ll.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=s,i+=2}else"`"===a?(u=!u,i++):"."!==a||u?(r+=a,i++):(o(),i++)}if(o(),u)throw new hl(ll.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(Il),jl=function(){function t(t){this.path=t}return t.st=function(e){return new t(El.Y(e))},t.it=function(e){return new t(El.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===El.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return El.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new El(e.slice()))},t}();function Sl(t){return null==t}function Al(t){return 0===t&&1/t==-1/0}function xl(t){return"number"==typeof t&&Number.isInteger(t)&&!Al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Nl=function(t,e,n,r,i,o,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=u,this.ut=null};function Ml(t,e,n,r,i,o,u){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===u&&(u=null),new Nl(t,e,n,r,i,o,u)}function Dl(t){var e=cl(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+Sh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),Sl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Nd(e.startAt)),e.endAt&&(n+="|ub:",n+=Nd(e.endAt)),e.ut=n}return e.ut}function Ll(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Rd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Eh(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Dd(t.startAt,e.startAt)&&Dd(t.endAt,e.endAt)}function Pl(t){return jl.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Rl=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return ml(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();Rl.lt=new Rl("");var Ul,Vl,zl=function(){function t(t,e,n,r,i,o,u){void 0===i&&(i=Ol.min()),void 0===o&&(o=Ol.min()),void 0===u&&(u=Rl.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Fl=function(t){this.count=t};function ql(t){switch(t){case ll.OK:return al();case ll.CANCELLED:case ll.UNKNOWN:case ll.DEADLINE_EXCEEDED:case ll.RESOURCE_EXHAUSTED:case ll.INTERNAL:case ll.UNAVAILABLE:case ll.UNAUTHENTICATED:return!1;case ll.INVALID_ARGUMENT:case ll.NOT_FOUND:case ll.ALREADY_EXISTS:case ll.PERMISSION_DENIED:case ll.FAILED_PRECONDITION:case ll.ABORTED:case ll.OUT_OF_RANGE:case ll.UNIMPLEMENTED:case ll.DATA_LOSS:return!0;default:return al()}}function Kl(t){if(void 0===t)return il("GRPC error has no .code"),ll.UNKNOWN;switch(t){case Ul.OK:return ll.OK;case Ul.CANCELLED:return ll.CANCELLED;case Ul.UNKNOWN:return ll.UNKNOWN;case Ul.DEADLINE_EXCEEDED:return ll.DEADLINE_EXCEEDED;case Ul.RESOURCE_EXHAUSTED:return ll.RESOURCE_EXHAUSTED;case Ul.INTERNAL:return ll.INTERNAL;case Ul.UNAVAILABLE:return ll.UNAVAILABLE;case Ul.UNAUTHENTICATED:return ll.UNAUTHENTICATED;case Ul.INVALID_ARGUMENT:return ll.INVALID_ARGUMENT;case Ul.NOT_FOUND:return ll.NOT_FOUND;case Ul.ALREADY_EXISTS:return ll.ALREADY_EXISTS;case Ul.PERMISSION_DENIED:return ll.PERMISSION_DENIED;case Ul.FAILED_PRECONDITION:return ll.FAILED_PRECONDITION;case Ul.ABORTED:return ll.ABORTED;case Ul.OUT_OF_RANGE:return ll.OUT_OF_RANGE;case Ul.UNIMPLEMENTED:return ll.UNIMPLEMENTED;case Ul.DATA_LOSS:return ll.DATA_LOSS;default:return al()}}(Vl=Ul||(Ul={}))[Vl.OK=0]="OK",Vl[Vl.CANCELLED=1]="CANCELLED",Vl[Vl.UNKNOWN=2]="UNKNOWN",Vl[Vl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vl[Vl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vl[Vl.NOT_FOUND=5]="NOT_FOUND",Vl[Vl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vl[Vl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vl[Vl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vl[Vl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vl[Vl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vl[Vl.ABORTED=10]="ABORTED",Vl[Vl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vl[Vl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vl[Vl.INTERNAL=13]="INTERNAL",Vl[Vl.UNAVAILABLE=14]="UNAVAILABLE",Vl[Vl.DATA_LOSS=15]="DATA_LOSS";var Bl=function(){function t(t,e){this.$=t,this.root=e||Gl.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Gl.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Gl.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Hl(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Hl(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Hl(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Hl(this.root,t,this.$,!0)},t}(),Hl=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Gl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw al();if(this.right.Mt())throw al();var t=this.left.Qt();if(t!==this.right.Qt())throw al();return t+(this.Mt()?0:1)},t}();Gl.EMPTY=null,Gl.RED=!0,Gl.It=!1,Gl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw al()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Gl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var Wl=function(){function t(t){this.$=t,this.data=new Bl(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new Ql(this.data.yt())},t.prototype.Vt=function(t){return new Ql(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(0!==this.$(i,o))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),Ql=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Yl=new Bl(jl.$);function Jl(){return Yl}function Zl(){return Jl()}var Xl=new Bl(jl.$);function $l(){return Xl}var th=new Bl(jl.$),eh=new Wl(jl.$);function nh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=eh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var rh=new Wl(ml);function ih(){return rh}var oh=function(){function t(t){this.$=t?function(e,n){return t(e,n)||jl.$(e.key,n.key)}:function(t,e){return jl.$(t.key,e.key)},this.Ht=$l(),this.Jt=new Bl(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,o=r.Ct().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),uh=function(){function t(){this.Xt=new Bl(jl.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):al():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),ah=function(){function t(t,e,n,r,i,o,u,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=o,this.ne=u,this.se=a}return t.ie=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,oh.Yt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&gd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),sh=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,ch.he(e,n)),new t(Ol.min(),r,ih(),Jl(),nh())},t}(),ch=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(Rl.lt,n,nh(),nh(),nh())},t}(),lh=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},hh=function(t,e){this.targetId=t,this.Te=e},fh=function(t,e,n,r){void 0===n&&(n=Rl.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},dh=function(){function t(){this.Ie=0,this.me=yh(),this.Ae=Rl.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=nh(),e=nh(),n=nh();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:al()}}),new ch(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=yh()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),ph=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Jl(),this.Me=vh(),this.ke=new Wl(ml)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof rd?this.Le(r,t.Ee):t.Ee instanceof id&&this.Be(r,t.key,t.Ee)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Be(o[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:al()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(Pl(i))if(0===n){var o=new jl(i.path);this.Be(e,o,new id(o,Ol.min()))}else sl(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var o=e.Ge(i);if(o){if(r.le&&Pl(o.target)){var u=new jl(o.target.path);null!==e.Oe.get(u)||e.Je(i,u)||e.Be(i,u,new id(u,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=nh();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new sh(t,n,this.ke,this.Oe,r);return this.Oe=Jl(),this.Me=vh(),this.ke=new Wl(ml),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new dh,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new Wl(ml),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||rl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new dh),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function vh(){return new Bl(jl.$)}function yh(){return new Bl(jl.$)}function gh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _h(t){var e=t.mapValue.fields.__previous_value__;return wh(e)?_h(e):e}function kh(t){var e=xh(t.mapValue.fields.__local_write_time__.timestampValue);return new kl(e.seconds,e.nanos)}var Oh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ih(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wh(t)?4:10:al()}function Eh(t,e){var n=Ih(t);if(n!==Ih(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kh(t).isEqual(kh(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=xh(t.timestampValue),r=xh(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Mh(t.bytesValue).isEqual(Mh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nh(t.geoPointValue.latitude)===Nh(e.geoPointValue.latitude)&&Nh(t.geoPointValue.longitude)===Nh(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nh(t.integerValue)===Nh(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Nh(t.doubleValue),r=Nh(e.doubleValue);return n===r?Al(n)===Al(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],Eh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(gh(n)!==gh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Eh(n[i],r[i])))return!1;return!0}(t,e);default:return al()}}function Th(t,e){return void 0!==(t.values||[]).find(function(t){return Eh(t,e)})}function Ch(t,e){var n=Ih(t),r=Ih(e);if(n!==r)return ml(n,r);switch(n){case 0:return 0;case 1:return ml(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Nh(t.integerValue||t.doubleValue),r=Nh(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return jh(t.timestampValue,e.timestampValue);case 4:return jh(kh(t),kh(e));case 5:return ml(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Mh(t),r=Mh(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ml(n[i],r[i]);if(0!==o)return o}return ml(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ml(Nh(t.latitude),Nh(e.latitude));return 0!==n?n:ml(Nh(t.longitude),Nh(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ch(n[i],r[i]);if(o)return o}return ml(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var u=0;u<r.length&&u<o.length;++u){var a=ml(r[u],o[u]);if(0!==a)return a;var s=Ch(n[r[u]],i[o[u]]);if(0!==s)return s}return ml(r.length,o.length)}(t.mapValue,e.mapValue);default:throw al()}}function jh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ml(t,e);var n=xh(t),r=xh(e),i=ml(n.seconds,r.seconds);return 0!==i?i:ml(n.nanos,r.nanos)}function Sh(t){return Ah(t)}function Ah(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=xh(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mh(t.bytesValue).toBase64():"referenceValue"in t?jl.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ah(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ah(t.fields[o])}return e+"}"}(t.mapValue):al();var e}function xh(t){if(sl(!!t),"string"==typeof t){var e=0,n=Oh.exec(t);if(sl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nh(t.seconds),nanos:Nh(t.nanos)}}function Nh(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Mh(t){return"string"==typeof t?Rl.fromBase64String(t):Rl.fromUint8Array(t)}function Dh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Lh(t){return!!t&&"integerValue"in t}function Ph(t){return!!t&&"arrayValue"in t}function Rh(t){return!!t&&"nullValue"in t}function Uh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}var zh={asc:"ASCENDING",desc:"DESCENDING"},Fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qh=function(t,e){this.t=t,this.tn=e};function Kh(t){return{integerValue:""+t}}function Bh(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function Hh(t,e){return xl(e)?Kh(e):Bh(t,e)}function Gh(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wh(t,e){return t.tn?e.toBase64():e.toUint8Array()}function Qh(t,e){return Gh(t,e.M())}function Yh(t){return sl(!!t),Ol.N(function(t){var e=xh(t);return new kl(e.seconds,e.nanos)}(t))}function Jh(t,e){return function(t){return new El(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Zh(t){var e=El.Y(t);return sl(_f(e)),e}function Xh(t,e){return Jh(t.t,e.path)}function $h(t,e){var n=Zh(e);if(n.get(1)!==t.t.projectId)throw new hl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new hl(ll.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new jl(rf(n))}function tf(t,e){return Jh(t.t,e)}function ef(t){var e=Zh(t);return 4===e.length?El.X():rf(e)}function nf(t){return new El(["projects",t.t.projectId,"databases",t.t.database]).J()}function rf(t){return sl(t.length>4&&"documents"===t.get(4)),t.B(5)}function of(t,e,n){return{name:Xh(t,e),fields:n.proto.mapValue.fields}}function uf(t,e){var n;if(e instanceof Hf)n={update:of(t,e.key,e.value)};else if(e instanceof Zf)n={delete:Xh(t,e.key)};else if(e instanceof Gf)n={update:of(t,e.key,e.data),updateMask:wf(e.en)};else if(e instanceof Qf)n={transform:{document:Xh(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Tf)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof Sf)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof xf)return{fieldPath:e.field.J(),increment:n.nn};throw al()}(0,t)})}};else{if(!(e instanceof Xf))return al();n={verify:Xh(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:al()}(t,e.rn)),n}function af(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Rf.updateTime(Yh(t.updateTime)):void 0!==t.exists?Rf.exists(t.exists):Rf.on()}(e.currentDocument):Rf.on();if(e.update){var r=$h(t,e.update.name),i=new $f({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Df((t.fieldPaths||[]).map(function(t){return Cl.nt(t)}))}(e.updateMask);return new Gf(r,i,o,n)}return new Hf(r,i,n)}if(e.delete){var u=$h(t,e.delete);return new Zf(u,n)}if(e.transform){var a=$h(t,e.transform.document),s=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(sl("REQUEST_TIME"===e.setToServerValue),n=new Tf):"appendMissingElements"in e?n=new Cf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sf(e.removeAllFromArray.values||[]):"increment"in e?n=new xf(t,e.increment):al();var r=Cl.nt(e.fieldPath);return new Lf(r,n)}(t,e)});return sl(!0===n.exists),new Qf(a,s)}if(e.verify){var c=$h(t,e.verify);return new Xf(c,n)}return al()}function sf(t,e){return{documents:[tf(t,e.path)]}}function cf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tf(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Uh(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NAN"}};if(Rh(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Uh(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NAN"}};if(Rh(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(t.field),op:vf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:yf(t.field),direction:pf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var u=function(t,e){return t.tn||Sl(e)?e:{value:e}}(t,e.limit);return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=ff(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ff(e.endAt)),n}function lf(t){var e=ef(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){sl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var u=[];n.where&&(u=hf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Ld(gf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var s=null;n.limit&&(s=function(t){var e;return Sl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=df(n.startAt));var l=null;return n.endAt&&(l=df(n.endAt)),ad(e,i,a,u,s,"F",c,l)}function hf(t){return t?void 0!==t.unaryFilter?[mf(t)]:void 0!==t.fieldFilter?[bf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return hf(t)}).reduce(function(t,e){return t.concat(e)}):al():[]}function ff(t){return{before:t.before,values:t.position}}function df(t){return new xd(t.values||[],!!t.before)}function pf(t){return zh[t]}function vf(t){return Fh[t]}function yf(t){return{fieldPath:t.J()}}function gf(t){return Cl.nt(t.fieldPath)}function bf(t){return kd.create(gf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return al()}}(t.fieldFilter.op),t.fieldFilter.value)}function mf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gf(t.unaryFilter.field);return kd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gf(t.unaryFilter.field);return kd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gf(t.unaryFilter.field);return kd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gf(t.unaryFilter.field);return kd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return al()}}function wf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function _f(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var kf=function(){this.cn=void 0};function Of(t,e,n){return t instanceof Tf?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Cf?jf(t,e):t instanceof Sf?Af(t,e):function(t,e){var n=Ef(t,e),r=Nf(n)+Nf(t.nn);return Lh(n)&&Lh(t.nn)?Kh(r):Bh(t.serializer,r)}(t,e)}function If(t,e,n){return t instanceof Cf?jf(t,e):t instanceof Sf?Af(t,e):n}function Ef(t,e){return t instanceof xf?Lh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e}(kf),Cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Go.c)(e,t),e}(kf);function jf(t,e){for(var n=Mf(e),r=function(t){n.some(function(e){return Eh(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Go.c)(e,t),e}(kf);function Af(t,e){for(var n=Mf(e),r=function(t){n=n.filter(function(e){return!Eh(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Go.c)(e,t),e}(kf);function Nf(t){return Nh(t.integerValue||t.doubleValue)}function Mf(t){return Ph(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Df=function(){function t(t){this.fields=t,t.sort(Cl.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return wl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Lf=function(t,e){this.field=t,this.transform=e},Pf=function(t,e){this.version=t,this.transformResults=e},Rf=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Uf(t,e){return void 0!==t.updateTime?e instanceof rd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof rd}var Vf=function(){};function zf(t,e,n){return t instanceof Hf?function(t,e,n){return new rd(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Gf?function(t,e,n){if(!Uf(t.rn,e))return new od(t.key,n.version);var r=Wf(t,e);return new rd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qf?function(t,e,n){if(sl(null!=n.transformResults),!Uf(t.rn,e))return new od(t.key,n.version);var r=Yf(0,e),i=function(t,e,n){var r=[];sl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],u=o.transform,a=null;e instanceof rd&&(a=e.field(o.field)),r.push(If(u,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,u=Jf(t,r.data(),i);return new rd(t.key,o,u,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new id(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ff(t,e,n,r){return t instanceof Hf?function(t,e){if(!Uf(t.rn,e))return e;var n=Bf(e);return new rd(t.key,n,t.value,{an:!0})}(t,e):t instanceof Gf?function(t,e){if(!Uf(t.rn,e))return e;var n=Bf(e),r=Wf(t,e);return new rd(t.key,n,r,{an:!0})}(t,e):t instanceof Qf?function(t,e,n,r){if(!Uf(t.rn,e))return e;var i=Yf(0,e),o=function(t,e,n,r){for(var i=[],o=0,u=t;o<u.length;o++){var a=u[o],s=a.transform,c=null;n instanceof rd&&(c=n.field(a.field)),null===c&&r instanceof rd&&(c=r.field(a.field)),i.push(Of(s,c,e))}return i}(t.fieldTransforms,n,e,r),u=Jf(t,i.data(),o);return new rd(t.key,i.version,u,{an:!0})}(t,e,r,n):function(t,e){return Uf(t.rn,e)?new id(t.key,Ol.min()):e}(t,e)}function qf(t,e){return t instanceof Qf?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],u=e instanceof rd?e.field(o.field):void 0,a=Ef(o.transform,u||null);null!=a&&(n=null==n?(new td).set(o.field,a):n.set(o.field,a))}return n?n.hn():null}(t,e):null}function Kf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||wl(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Cf&&e instanceof Cf||t instanceof Sf&&e instanceof Sf?wl(t.elements,e.elements,Eh):t instanceof xf&&e instanceof xf?Eh(t.nn,e.nn):t instanceof Tf&&e instanceof Tf}(t.transform,e.transform)}(t,e)}))}function Bf(t){return t instanceof rd?t.version:Ol.min()}var Hf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Go.c)(e,t),e}(Vf),Gf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.en=r,o.rn=i,o.type=1,o}return Object(Go.c)(e,t),e}(Vf);function Wf(t,e){return function(t,e){var n=new td(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof rd?e.data():$f.empty())}var Qf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=Rf.exists(!0),r}return Object(Go.c)(e,t),e}(Vf);function Yf(t,e){return e}function Jf(t,e,n){for(var r=new td(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Go.c)(e,t),e}(Vf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Go.c)(e,t),e}(Vf),$f=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Vh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return Eh(this.proto,t.proto)},t}(),td=function(){function t(t){void 0===t&&(t=$f.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ih(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(Cl.X(),this._n);return null!=t?new $f(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),o=Vh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var u=n.dn(t.child(i),e);null!=u&&(o[i]=u,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function ed(t){var e=[];return bh(t.fields||{},function(t,n){var r=new Cl([t]);if(Vh(n)){var i=ed(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,u=i;o<u.length;o++)e.push(r.child(u[o]))}else e.push(r)}),new Df(e)}var nd=function(t,e){this.key=t,this.version=e},rd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).wn=r,o.an=!!i.an,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Go.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(nd),id=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Go.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nd),od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(nd),ud=function(t,e,n,r,i,o,u,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===u&&(u=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=a,this.In=null,this.mn=null};function ad(t,e,n,r,i,o,u,a){return new ud(t,e,n,r,i,o,u,a)}function sd(t){return new ud(t)}function cd(t){return!Sl(t.limit)&&"F"===t.limitType}function ld(t){return!Sl(t.limit)&&"L"===t.limitType}function hd(t){return t.Tn.length>0?t.Tn[0].field:null}function fd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function dd(t){return null!==t.collectionGroup}function pd(t){var e=cl(t);if(null===e.In){e.In=[];var n=fd(e),r=hd(e);if(null!==n&&null===r)n.tt()||e.In.push(new Ld(n)),e.In.push(new Ld(Cl.et(),"asc"));else{for(var i=!1,o=0,u=e.Tn;o<u.length;o++){var a=u[o];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var s=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new Ld(Cl.et(),s))}}}return e.In}function vd(t){var e=cl(t);if(!e.mn)if("F"===e.limitType)e.mn=Ml(e.path,e.collectionGroup,pd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=pd(e);r<i.length;r++){var o=i[r];n.push(new Ld(o.field,"desc"===o.dir?"asc":"desc"))}var u=e.endAt?new xd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xd(e.startAt.position,!e.startAt.before):null;e.mn=Ml(e.path,e.collectionGroup,n,e.filters,e.limit,u,a)}return e.mn}function yd(t,e,n){return new ud(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return Ll(vd(t),vd(e))&&t.limitType===e.limitType}function bd(t){return Dl(vd(t))+"|lt:"+t.limitType}function md(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+Sh(e.value);var e}).join(", ")+"]"),Sl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Nd(t.startAt)),t.endAt&&(e+=", endAt: "+Nd(t.endAt)),"Target("+e+")"}(vd(t))+"; limitType="+t.limitType+")"}function wd(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):jl.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Md(t.startAt,pd(t),e)||t.endAt&&Md(t.endAt,pd(t),e))}(t,e)}function _d(t){return function(e,n){for(var r=!1,i=0,o=pd(t);i<o.length;i++){var u=o[i],a=Pd(u,e,n);if(0!==a)return a;r=r||u.field.tt()}return 0}}var kd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Go.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new Od(t,n,r):"array-contains"===n?new Cd(t,r):"in"===n?new jd(t,r):"not-in"===n?new Sd(t,r):"array-contains-any"===n?new Ad(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new Id(t,n):new Ed(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(Ch(e,this.value)):null!==e&&Ih(this.value)===Ih(e)&&this.Pn(Ch(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return al()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Od=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=jl.it(r.referenceValue),i}return Object(Go.c)(e,t),e.prototype.matches=function(t){var e=jl.$(t.key,this.key);return this.Pn(e)},e}(kd),Id=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Td(0,n),r}return Object(Go.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(kd),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Td(0,n),r}return Object(Go.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(kd);function Td(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return jl.it(t.referenceValue)})}var Cd=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Go.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ph(e)&&Th(e.arrayValue,this.value)},e}(kd),jd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Go.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Th(this.value.arrayValue,e)},e}(kd),Sd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Go.c)(e,t),e.prototype.matches=function(t){if(Th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Th(this.value.arrayValue,e)},e}(kd),Ad=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Go.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ph(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Th(e.value.arrayValue,t)})},e}(kd),xd=function(t,e){this.position=t,this.before=e};function Nd(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Sh(t)}).join(",")}function Md(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],u=t.position[i];if(r=o.field.tt()?jl.$(jl.it(u.referenceValue),n.key):Ch(u,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Dd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Eh(t.position[n],e.position[n]))return!1;return!0}var Ld=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Pd(t,e,n){var r=t.field.tt()?jl.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ch(r,i):al()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return al()}}function Rd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ud=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=zf(o,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ff(i,e,e,this.gn))}for(var o=e,u=0,a=this.mutations;u<a.length;u++){var s=a[u];s.key.isEqual(t)&&(e=Ff(s,e,o,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},nh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,function(t,e){return Kf(t,e)})&&wl(this.baseMutations,t.baseMutations,function(t,e){return Kf(t,e)})},t}(),Vd=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){sl(e.mutations.length===r.length);for(var i=th,o=e.mutations,u=0;u<o.length;u++)i=i.Tt(o[u].key,r[u].version);return new t(e,n,r,i)},t}(),zd=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],u=o[1];if(this.Cn(o[0],t))return u}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bh(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.W=function(){return mh(this.Nn)},t}(),Fd=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&al(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),qd=function(){function t(){this.Qn=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:Ol.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Fd.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Kd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Bd(t){return new qh(t,!0)}function Hd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Gd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wd=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),Qd=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Zl();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),o=Jl();return i.forEach(function(t,e){e||(e=new id(t,Ol.min())),o=o.Tt(t,e)}),o})},t.prototype.ws=function(t,e,n){return function(t){return jl.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):dd(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new jl(e)).next(function(t){var e=$l();return t instanceof rd&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,o=$l();return this.os.As(t,i).next(function(u){return Fd.forEach(u,function(u){var a=function(t,e){return new ud(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,u.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){o=o.Tt(t,e)})})}).next(function(){return o})})},t.prototype.Is=function(t,e,n){var r,i,o=this;return this.ss.ws(t,e,n).next(function(n){return r=n,o.rs.Rs(t,e)}).next(function(e){return o.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],u=0,a=o.mutations;u<a.length;u++){var s=a[u],c=s.key,l=r.get(c),h=Ff(s,l,l,o.gn);r=h instanceof rd?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){wd(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=nh(),i=0,o=e;i<o.length;i++)for(var u=0,a=o[i].mutations;u<a.length;u++){var s=a[u];s instanceof Gf&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof rd&&(c=c.Tt(t,e))}),c})},t}(),Yd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=nh(),i=nh(),o=0,u=n.docChanges;o<u.length;o++){var a=u[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Jd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Jd.Ds=-1;var Zd=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&rl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Xd=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(Yo.h)())&&il("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rl("SimpleDb","Removing database:",t),ip(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(Yo.h)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n=this;return Object(Go.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new tp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new hl(ll.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tp(t,n))},i.onupgradeneeded=function(t){rl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){rl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Go.b)(this,void 0,void 0,function(){var i,o,u,a,s;return Object(Go.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,u=function(){var e,u,s,c,l;return Object(Go.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=np.open(a.db,t,i?"readonly":"readwrite",n),u=r(e).catch(function(t){return e.abort(t),Fd.reject(t)}).Ln(),s={},u.catch(function(){}),[4,e.ei];case 3:return[2,(s.value=(h.sent(),u),s)];case 4:return rl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,u()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$d=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return ip(this.ni.delete())},t}(),tp=function(t){function e(e,n){var r=this;return(r=t.call(this,ll.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Go.c)(e,t),e}(hl);function ep(t){return"IndexedDbTransactionError"===t.name}var np=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Kd,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new tp(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=up(e.target.error);n.ci.reject(new tp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new tp(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(rl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rp(e)},t}(),rp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ip(n)},t.prototype.add=function(t){return rl("SimpleDb","ADD",this.store.name,t,t),ip(this.store.add(t))},t.prototype.get=function(t){var e=this;return ip(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rl("SimpleDb","DELETE",this.store.name,t),ip(this.store.delete(t))},t.prototype.count=function(){return rl("SimpleDb","COUNT",this.store.name),ip(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){rl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Fd(function(n,r){e.onerror=function(t){var e=up(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Fd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new $d(i),u=e(i.primaryKey,i.value,o);if(u instanceof Fd){var a=u.catch(function(t){return o.done(),Fd.reject(t)});n.push(a)}o.On?r():null===o.ri?i.continue():i.continue(o.ri)}else r()}}).next(function(){return Fd.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ip(t){return new Fd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=up(t.target.error);n(e)}})}var op=!1;function up(t){var e=Xd.js(Object(Yo.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new hl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return op||(op=!0,setTimeout(function(){throw r},0)),r}}return t}function ap(){return"undefined"!=typeof window?window:null}function sp(){return"undefined"!=typeof document?document:null}var cp=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Kd,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,o){var u=new t(e,n,Date.now()+r,i,o);return u.start(r),u},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new hl(ll.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),lp=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Zd(this,"async_queue_retry"),this.Di=function(){var e=sp();e&&rl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=sp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=sp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Go.b)(this,void 0,void 0,function(){var t,e=this;return Object(Go.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!ep(t=n.sent()))throw t;return rl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,il("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=cp.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&al()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Go.b)(this,void 0,void 0,function(){var t;return Object(Go.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function hp(t,e){if(il("AsyncQueue",e+": "+t),ep(t))return new hl(ll.UNAVAILABLE,e+": "+t);throw t}function fp(t,e){var n=t[1],r=e[1],i=ml(t[0],e[0]);return 0===i?ml(n,r):i}var dp=function(){function t(t){this.Ki=t,this.buffer=new Wl(fp),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pp={zi:!1,Hi:0,Ji:0,Yi:0},vp=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();vp.nr=10,vp.sr=1e3,vp.ir=new vp(41943040,vp.nr,vp.sr),vp.rr=new vp(-1,0,0);var yp=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;rl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Go.b)(e,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return ep(e=n.sent())?(rl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Bv(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),gp=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Fd.resolve(Jd.Ds);var r=new dp(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(rl("LruGarbageCollector","Garbage collection skipped; disabled"),Fd.resolve(pp)):this.Pr(t).next(function(r){return r<n.params.Xi?(rl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),pp):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,o,u,a,s,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(rl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,o=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,u=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return s=Date.now(),nl()<=Qo.a.DEBUG&&rl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(u-o)+"ms\n\tRemoved "+i+" targets in "+(a-u)+"ms\n\tRemoved "+t+" documents in "+(s-a)+"ms\nTotal Duration: "+(s-l)+"ms"),Fd.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}(),bp=function(){function t(){}return t.prototype.yr=function(t){this.Vr=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(Ol.min())?this.pr(t,e):this.Vr._s(t,r).next(function(o){var u=i.vr(e,o);return(cd(e)||ld(e))&&i.br(e.limitType,u,r,n)?i.pr(t,e):(nl()<=Qo.a.DEBUG&&rl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),md(e)),i.Vr.ws(t,e,n).next(function(t){return u.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.vr=function(t,e){var n=new Wl(_d(t));return e.forEach(function(e,r){r instanceof rd&&wd(t,r)&&(n=n.add(r))}),n},t.prototype.br=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.pr=function(t,e){return nl()<=Qo.a.DEBUG&&rl("QueryEngine","Using full collection scan to execute query:",md(e)),this.Vr.ws(t,e,Ol.min())},t}();function mp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_p(e)),e=wp(t.get(n),e);return _p(e)}function wp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function _p(t){return t+"\x01\x01"}function kp(t){var e=t.length;if(sl(e>=2),2===e)return sl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),El.X();for(var n=e-2,r=[],i="",o=0;o<e;){var u=t.indexOf("\x01",o);switch((u<0||u>n)&&al(),t.charAt(u+1)){case"\x01":var a=t.substring(o,u),s=void 0;0===i.length?s=a:(s=i+=a,i=""),r.push(s);break;case"\x10":i+=t.substring(o,u),i+="\0";break;case"\x11":i+=t.substring(o,u+1);break;default:al()}o=u+2}return new El(r)}var Op=function(t){this.Sr=t};function Ip(t,e){if(e.document)return function(t,e,n){var r=$h(t,e.name),i=Yh(e.updateTime),o=new $f({mapValue:{fields:e.fields}});return new rd(r,i,o,{hasCommittedMutations:!!n})}(t.Sr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=jl.ct(e.noDocument.path),r=Sp(e.noDocument.readTime);return new id(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=jl.ct(e.unknownDocument.path),o=Sp(e.unknownDocument.version);return new od(i,o)}return al()}function Ep(t,e,n){var r=Tp(n),i=e.key.path.q().H();if(e instanceof rd){var o=function(t,e){return{name:Xh(t,e.key),fields:e.En().mapValue.fields,updateTime:Gh(t,e.version.M())}}(t.Sr,e);return new nv(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof id){var u=e.key.path.H(),a=jp(e.version),s=e.hasCommittedMutations;return new nv(null,new tv(u,a),null,s,r,i)}if(e instanceof od){var c=e.key.path.H(),l=jp(e.version);return new nv(new ev(c,l),null,null,!0,r,i)}return al()}function Tp(t){var e=t.M();return[e.seconds,e.nanoseconds]}function Cp(t){var e=new kl(t[0],t[1]);return Ol.N(e)}function jp(t){var e=t.M();return new Yp(e.seconds,e.nanoseconds)}function Sp(t){var e=new kl(t.seconds,t.nanoseconds);return Ol.N(e)}function Ap(t,e){var n=(e.baseMutations||[]).map(function(e){return af(t.Sr,e)}),r=e.mutations.map(function(e){return af(t.Sr,e)}),i=kl.fromMillis(e.localWriteTimeMs);return new Ud(e.batchId,i,n,r)}function xp(t){var e,n,r=Sp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sp(t.lastLimboFreeSnapshotVersion):Ol.min();return void 0!==t.query.documents?(sl(1===(n=t.query).documents.length),e=vd(sd(ef(n.documents[0])))):e=function(t){return vd(lf(t))}(t.query),new zl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Rl.fromBase64String(t.resumeToken))}function Np(t,e){var n,r=jp(e.ft),i=jp(e.lastLimboFreeSnapshotVersion);n=Pl(e.target)?sf(t.Sr,e.target):cf(t.Sr,e.target);var o=e.resumeToken.toBase64();return new iv(e.targetId,Dl(e.target),r,o,e.sequenceNumber,i,n)}function Mp(t){var e=lf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?yd(e,e.limit,"L"):e}var Dp=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Dr=r,this.Cr={}}return t.Nr=function(e,n,r,i){return sl(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.Fr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rp(t)._i({index:Xp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Or=function(t,e,n,r){var i=this,o=Up(t),u=Rp(t);return u.add({}).next(function(a){sl("number"==typeof a);for(var s=new Ud(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return uf(t.Sr,e)}),i=n.mutations.map(function(e){return uf(t.Sr,e)});return new Xp(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,s),l=[],h=new Wl(function(t,e){return ml(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],v=$p.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(u.put(c)),l.push(o.put(v,$p.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Mr(t,e))}),t.es(function(){i.Cr[a]=s.keys()}),Fd.qn(l).next(function(){return s})})},t.prototype.kr=function(t,e){var n=this;return Rp(t).get(e).next(function(t){return t?(sl(t.userId===n.userId),Ap(n.serializer,t)):null})},t.prototype.$r=function(t,e){var n=this;return this.Cr[e]?Fd.resolve(this.Cr[e]):this.kr(t,e).next(function(t){if(t){var r=t.keys();return n.Cr[e]=r,r}return null})},t.prototype.Lr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Rp(t)._i({index:Xp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(sl(e.batchId>=r),o=Ap(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Br=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rp(t)._i({index:Xp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rp(t).ui(Xp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Ap(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=$p.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Up(t)._i({range:i},function(r,i,u){var a=r[0],s=r[2],c=kp(r[1]);if(a===n.userId&&e.path.isEqual(c))return Rp(t).get(s).next(function(t){if(!t)throw al();sl(t.userId===n.userId),o.push(Ap(n.serializer,t))});u.done()}).next(function(){return o})},t.prototype.ds=function(t,e){var n=this,r=new Wl(ml),i=[];return e.forEach(function(e){var o=$p.prefixForPath(n.userId,e.path),u=IDBKeyRange.lowerBound(o),a=Up(t)._i({range:u},function(t,i,o){var u=t[0],a=t[2],s=kp(t[1]);u===n.userId&&e.path.isEqual(s)?r=r.add(a):o.done()});i.push(a)}),Fd.qn(i).next(function(){return n.Ur(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,o=$p.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(o),a=new Wl(ml);return Up(t)._i({range:u},function(t,e,o){var u=t[0],s=t[2],c=kp(t[1]);u===n.userId&&r.j(c)?c.length===i&&(a=a.add(s)):o.done()}).next(function(){return n.Ur(t,a)})},t.prototype.Ur=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Rp(t).get(e).next(function(t){if(null===t)throw al();sl(t.userId===n.userId),r.push(Ap(n.serializer,t))}))}),Fd.qn(i).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this;return Pp(t.Kr,this.userId,e).next(function(r){return t.es(function(){n.Wr(e.batchId)}),Fd.forEach(r,function(e){return n.Dr.jr(t,e)})})},t.prototype.Wr=function(t){delete this.Cr[t]},t.prototype.Gr=function(t){var e=this;return this.Fr(t).next(function(n){if(!n)return Fd.resolve();var r=IDBKeyRange.lowerBound($p.prefixForUser(e.userId)),i=[];return Up(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var o=kp(t[1]);i.push(o)}else r.done()}).next(function(){sl(0===i.length)})})},t.prototype.zr=function(t,e){return Lp(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Vp(t).get(this.userId).next(function(t){return t||new Zp(e.userId,-1,"")})},t}();function Lp(t,e,n){var r=$p.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Up(t)._i({range:o,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(u=!0),r.done()}).next(function(){return u})}function Pp(t,e,n){var r=t.store(Xp.store),i=t.store($p.store),o=[],u=IDBKeyRange.only(n.batchId),a=0,s=r._i({range:u},function(t,e,n){return a++,n.delete()});o.push(s.next(function(){sl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$p.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Fd.qn(o).next(function(){return c})}function Rp(t){return Ev.Ys(t,Xp.store)}function Up(t){return Ev.Ys(t,$p.store)}function Vp(t){return Ev.Ys(t,Zp.store)}var zp=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Kp(t).put(Bp(e),n)},t.prototype.Hn=function(t,e){var n=Kp(t),r=Bp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Jr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Kp(t).get(Bp(e)).next(function(t){return n.Yr(t)})},t.prototype.Xr=function(t,e){var n=this;return Kp(t).get(Bp(e)).next(function(t){var e=n.Yr(t);return e?{zn:e,size:Hp(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Zl();return this.Zr(t,e,function(t,e){var i=n.Yr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.eo=function(t,e){var n=this,r=Zl(),i=new Bl(jl.$);return this.Zr(t,e,function(t,e){var o=n.Yr(e);o?(r=r.Tt(t,o),i=i.Tt(t,Hp(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{no:r,so:i}})},t.prototype.Zr=function(t,e,n){if(e.W())return Fd.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),o=i.Ct();return Kp(t)._i({range:r},function(t,e,r){for(var u=jl.ct(t);o&&jl.$(o,u)<0;)n(o,null),o=i.Ct();o&&o.isEqual(u)&&(n(o,e),o=i.Nt()?i.Ct():null),o?r.oi(o.path.H()):r.done()}).next(function(){for(;o;)n(o,null),o=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=$l(),o=e.path.length+1,u={};if(n.isEqual(Ol.min())){var a=e.path.H();u.range=IDBKeyRange.lowerBound(a)}else{var s=e.path.H(),c=Tp(n);u.range=IDBKeyRange.lowerBound([s,c],!0),u.index=nv.collectionReadTimeIndex}return Kp(t)._i(u,function(t,n,u){if(t.length===o){var a=Ip(r.serializer,n);e.path.j(a.key.path)?a instanceof rd&&wd(e,a)&&(i=i.Tt(a.key,a)):u.done()}}).next(function(){return i})},t.prototype.io=function(t){return new Fp(this,!!t&&t.ro)},t.prototype.oo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return qp(t).get(rv.key).next(function(t){return sl(!!t),t})},t.prototype.Jr=function(t,e){return qp(t).put(rv.key,e)},t.prototype.Yr=function(t){if(t){var e=Ip(this.serializer,t);return e instanceof id&&e.version.isEqual(Ol.min())?null:e}return null},t}(),Fp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).co=e,r.ro=n,r.uo=new zd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Go.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new Wl(function(t,e){return ml(t.J(),e.J())});return this.Qn.forEach(function(o,u){var a=e.uo.get(o);if(u.zn){var s=Ep(e.co.serializer,u.zn,e.Wn(o));i=i.add(o.path.q());var c=Hp(s);r+=c-a,n.push(e.co.jn(t,o,s))}else if(r-=a,e.ro){var l=Ep(e.co.serializer,new id(o,Ol.min()),e.Wn(o));n.push(e.co.jn(t,o,l))}else n.push(e.co.Hn(t,o))}),i.forEach(function(r){n.push(e.co.os.Mr(t,r))}),n.push(this.co.updateMetadata(t,r)),Fd.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.co.Xr(t,e).next(function(t){return null===t?(n.uo.set(e,0),null):(n.uo.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.co.eo(t,e).next(function(t){var e=t.no;return t.so.forEach(function(t,e){n.uo.set(t,e)}),e})},e}(qd);function qp(t){return Ev.Ys(t,rv.store)}function Kp(t){return Ev.Ys(t,nv.store)}function Bp(t){return t.path.H()}function Hp(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw al();e=t.noDocument}return JSON.stringify(e).length}var Gp=function(){function t(){this.ao=new Wp}return t.prototype.Mr=function(t,e){return this.ao.add(e),Fd.resolve()},t.prototype.As=function(t,e){return Fd.resolve(this.ao.getEntries(e))},t}(),Wp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new Wl(El.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Wl(El.$)).H()},t}(),Qp=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;sl(n<r&&n>=0&&r<=11);var o=new np("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Jp.store)}(t),function(t){t.createObjectStore(Zp.store,{keyPath:Zp.keyPath}),t.createObjectStore(Xp.store,{keyPath:Xp.keyPath,autoIncrement:!0}).createIndex(Xp.userMutationsIndex,Xp.userMutationsKeyPath,{unique:!0}),t.createObjectStore($p.store)}(t),sv(t),function(t){t.createObjectStore(nv.store)}(t));var u=Fd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ov.store),t.deleteObjectStore(iv.store),t.deleteObjectStore(uv.store)}(t),sv(t)),u=u.next(function(){return function(t){var e=t.store(uv.store),n=new uv(0,0,Ol.min().M(),0);return e.put(uv.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(u=u.next(function(){return function(t,e){return e.store(Xp.store).ui().next(function(n){t.deleteObjectStore(Xp.store),t.createObjectStore(Xp.store,{keyPath:Xp.keyPath,autoIncrement:!0}).createIndex(Xp.userMutationsIndex,Xp.userMutationsKeyPath,{unique:!0});var r=e.store(Xp.store),i=n.map(function(t){return r.put(t)});return Fd.qn(i)})}(t,o)})),u=u.next(function(){!function(t){t.createObjectStore(cv.store,{keyPath:cv.keyPath})}(t)})),n<5&&r>=5&&(u=u.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(u=u.next(function(){return function(t){t.createObjectStore(rv.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(u=u.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(u=u.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(u=u.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(nv.store);e.createIndex(nv.readTimeIndex,nv.readTimeIndexPath,{unique:!1}),e.createIndex(nv.collectionReadTimeIndex,nv.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(u=u.next(function(){return i.rewriteCanonicalIds(o)})),n<11&&r>=11&&(u=u.next(function(){!function(t){t.createObjectStore(lv.store,{keyPath:lv.keyPath})}(t),function(t){t.createObjectStore(hv.store,{keyPath:hv.keyPath})}(t)})),u},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(nv.store)._i(function(t,n){e+=Hp(n)}).next(function(){var n=new rv(e);return t.store(rv.store).put(rv.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Zp.store),r=t.store(Xp.store);return n.ui().next(function(n){return Fd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Xp.userMutationsIndex,i).next(function(r){return Fd.forEach(r,function(r){sl(r.userId===n.userId);var i=Ap(e.serializer,r);return Pp(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ov.store),n=t.store(nv.store);return t.store(uv.store).get(uv.key).next(function(t){var r=[];return n._i(function(n,i){var o=new El(n),u=function(t){return[0,mp(t)]}(o);r.push(e.get(u).next(function(n){return n?Fd.resolve():function(n){return e.put(new ov(0,mp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Fd.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(av.store,{keyPath:av.keyPath});var n=e.store(av.store),r=new Wp,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:mp(i)})}};return e.store(nv.store)._i({li:!0},function(t,e){var n=new El(t);return i(n.q())}).next(function(){return e.store($p.store)._i({li:!0},function(t,e){var n=kp(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(iv.store);return n._i(function(t,r){var i=xp(r),o=Np(e.serializer,i);return n.put(o)})},t}(),Yp=function(t,e){this.seconds=t,this.nanoseconds=e},Jp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Jp.store="owner",Jp.key="owner";var Zp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zp.store="mutationQueues",Zp.keyPath="userId";var Xp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xp.store="mutations",Xp.keyPath="batchId",Xp.userMutationsIndex="userMutationsIndex",Xp.userMutationsKeyPath=["userId","batchId"];var $p=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mp(e)]},t.key=function(t,e,n){return[t,mp(e),n]},t}();$p.store="documentMutations",$p.PLACEHOLDER=new $p;var tv=function(t,e){this.path=t,this.readTime=e},ev=function(t,e){this.path=t,this.version=e},nv=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};nv.store="remoteDocuments",nv.readTimeIndex="readTimeIndex",nv.readTimeIndexPath="readTime",nv.collectionReadTimeIndex="collectionReadTimeIndex",nv.collectionReadTimeIndexPath=["parentPath","readTime"];var rv=function(t){this.byteSize=t};rv.store="remoteDocumentGlobal",rv.key="remoteDocumentGlobalKey";var iv=function(t,e,n,r,i,o,u){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};iv.store="targets",iv.keyPath="targetId",iv.queryTargetsIndexName="queryTargetsIndex",iv.queryTargetsKeyPath=["canonicalId","targetId"];var ov=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ov.store="targetDocuments",ov.keyPath=["targetId","path"],ov.documentTargetsIndex="documentTargetsIndex",ov.documentTargetsKeyPath=["path","targetId"];var uv=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};uv.key="targetGlobalKey",uv.store="targetGlobal";var av=function(t,e){this.collectionId=t,this.parent=e};function sv(t){t.createObjectStore(ov.store,{keyPath:ov.keyPath}).createIndex(ov.documentTargetsIndex,ov.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(iv.store,{keyPath:iv.keyPath}).createIndex(iv.queryTargetsIndexName,iv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(uv.store)}av.store="collectionParents",av.keyPath=["collectionId","parent"];var cv=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};cv.store="clientMetadata",cv.keyPath="clientId";var lv=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};lv.store="bundles",lv.keyPath="bundleId";var hv=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};hv.store="namedQueries",hv.keyPath="name";var fv=Object(Go.g)(Object(Go.g)(Object(Go.g)(Object(Go.g)([Zp.store,Xp.store,$p.store,nv.store,iv.store,Jp.store,uv.store,ov.store],[cv.store]),[rv.store]),[av.store]),[lv.store,hv.store]),dv=function(){function t(t){this.serializer=t}return t.prototype.ho=function(t,e){return pv(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Sp(e.createTime),version:e.version};var e})},t.prototype.lo=function(t,e){return pv(t).put({bundleId:(n=e).id,createTime:jp(Yh(n.createTime)),version:n.version});var n},t.prototype._o=function(t,e){return vv(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Mp(e.bundledQuery),readTime:Sp(e.readTime)};var e})},t.prototype.fo=function(t,e){return vv(t).put(function(t){return{name:t.name,readTime:jp(Yh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function pv(t){return Ev.Ys(t,lv.store)}function vv(t){return Ev.Ys(t,hv.store)}var yv=function(){function t(){this.wo=new Wp}return t.prototype.Mr=function(t,e){var n=this;if(!this.wo.has(e)){var r=e.K(),i=e.q();t.es(function(){n.wo.add(e)});var o={collectionId:r,parent:mp(i)};return gv(t).put(o)}return Fd.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_l(e),""],!1,!0);return gv(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(kp(o.parent))}return n})},t}();function gv(t){return Ev.Ys(t,av.store)}var bv=function(){function t(t){this.Eo=t}return t.prototype.next=function(){return this.Eo+=2,this.Eo},t.To=function(){return new t(0)},t.Io=function(){return new t(-1)},t}(),mv=function(){function t(t,e){this.Dr=t,this.serializer=e}return t.prototype.mo=function(t){var e=this;return this.Ao(t).next(function(n){var r=new bv(n.highestTargetId);return n.highestTargetId=r.next(),e.Ro(t,n).next(function(){return n.highestTargetId})})},t.prototype.Po=function(t){return this.Ao(t).next(function(t){return Ol.N(new kl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.yo=function(t){return this.Ao(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Vo=function(t,e,n){var r=this;return this.Ao(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ro(t,i)})},t.prototype.po=function(t,e){var n=this;return this.vo(t,e).next(function(){return n.Ao(t).next(function(r){return r.targetCount+=1,n.bo(e,r),n.Ro(t,r)})})},t.prototype.So=function(t,e){return this.vo(t,e)},t.prototype.Do=function(t,e){var n=this;return this.Co(t,e.targetId).next(function(){return wv(t).delete(e.targetId)}).next(function(){return n.Ao(t)}).next(function(e){return sl(e.targetCount>0),e.targetCount-=1,n.Ro(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return wv(t)._i(function(u,a){var s=xp(a);s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.Do(t,s)))}).next(function(){return Fd.qn(o)}).next(function(){return i})},t.prototype.Ue=function(t,e){return wv(t)._i(function(t,n){var r=xp(n);e(r)})},t.prototype.Ao=function(t){return _v(t).get(uv.key).next(function(t){return sl(null!==t),t})},t.prototype.Ro=function(t,e){return _v(t).put(uv.key,e)},t.prototype.vo=function(t,e){return wv(t).put(Np(this.serializer,e))},t.prototype.bo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.No=function(t){return this.Ao(t).next(function(t){return t.targetCount})},t.prototype.xo=function(t,e){var n=Dl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wv(t)._i({range:r,index:iv.queryTargetsIndexName},function(t,n,r){var o=xp(n);Ll(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Fo=function(t,e,n){var r=this,i=[],o=kv(t);return e.forEach(function(e){var u=mp(e.path);i.push(o.put(new ov(n,u))),i.push(r.Dr.Oo(t,n,e))}),Fd.qn(i)},t.prototype.Mo=function(t,e,n){var r=this,i=kv(t);return Fd.forEach(e,function(e){var o=mp(e.path);return Fd.qn([i.delete([n,o]),r.Dr.ko(t,n,e)])})},t.prototype.Co=function(t,e){var n=kv(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.$o=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=kv(t),i=nh();return r._i({range:n,li:!0},function(t,e,n){var r=kp(t[1]),o=new jl(r);i=i.add(o)}).next(function(){return i})},t.prototype.zr=function(t,e){var n=mp(e.path),r=IDBKeyRange.bound([n],[_l(n)],!1,!0),i=0;return kv(t)._i({index:ov.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return wv(t).get(e).next(function(t){return t?xp(t):null})},t}();function wv(t){return Ev.Ys(t,iv.store)}function _v(t){return Ev.Ys(t,uv.store)}function kv(t){return Ev.Ys(t,ov.store)}var Ov="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kr=e,r.Lo=n,r}return Object(Go.c)(e,t),e}(Wd),Ev=function(){function t(e,n,r,i,o,u,a,s,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=o,this.window=u,this.document=a,this.Bo=c,this.qo=l,this.Uo=null,this.Qo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ko=null,this.inForeground=!1,this.Wo=null,this.jo=null,this.Go=Number.NEGATIVE_INFINITY,this.zo=function(t){return Promise.resolve()},!t.Gs())throw new hl(ll.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Dr=new jv(this,i),this.Ho=n+"main",this.serializer=new Op(s),this.Jo=new Xd(this.Ho,11,new Qp(this.serializer)),this.Yo=new mv(this.Dr,this.serializer),this.os=new yv,this.ss=function(t,e){return new zp(t,e)}(this.serializer,this.os),this.Xo=new dv(this.serializer),this.window&&this.window.localStorage?this.Zo=this.window.localStorage:(this.Zo=null,!1===l&&il("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof Iv)return Xd.Ys(t.Kr,e);throw al()},t.prototype.start=function(){var t=this;return this.tc().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new hl(ll.FAILED_PRECONDITION,Ov);return t.ec(),t.nc(),t.sc(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Yo.yo(e)})}).then(function(e){t.Uo=new Jd(e,t.Bo)}).then(function(){t.Qo=!0}).catch(function(e){return t.Jo&&t.Jo.close(),Promise.reject(e)})},t.prototype.ic=function(t){var e=this;return this.zo=function(n){return Object(Go.b)(e,void 0,void 0,function(){return Object(Go.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.rc=function(t){var e=this;this.Jo.ti(function(n){return Object(Go.b)(e,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.oc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Go.b)(e,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.tc()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.tc=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Cv(e).put(new cv(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.cc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.zo(!1)}))})}).next(function(){return t.uc(e)}).next(function(n){return t.isPrimary&&!n?t.ac(e).next(function(){return!1}):!!n&&t.hc(e).next(function(){return!0})})}).catch(function(e){if(ep(e))return rl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.zo(e)}),t.isPrimary=e})},t.prototype.cc=function(t){var e=this;return Tv(t).get(Jp.key).next(function(t){return Fd.resolve(e.lc(t))})},t.prototype._c=function(t){return Cv(t).delete(this.clientId)},t.prototype.fc=function(){return Object(Go.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Go.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.dc(this.Go,18e5)?[3,2]:(this.Go=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,cv.store);return n.ui().next(function(t){var e=i.wc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Fd.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=o.sent(),this.Zo)for(n=0,r=e;n<r.length;n++)this.Zo.removeItem(this.Ec(r[n].clientId));o.label=2;case 2:return[2]}})})},t.prototype.sc=function(){var t=this;this.jo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.tc().then(function(){return t.fc()}).then(function(){return t.sc()})})},t.prototype.lc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.uc=function(t){var e=this;return this.qo?Fd.resolve(!0):Tv(t).get(Jp.key).next(function(n){if(null!==n&&e.dc(n.leaseTimestampMs,5e3)&&!e.Tc(n.ownerId)){if(e.lc(n)&&e.networkEnabled)return!0;if(!e.lc(n)){if(!n.allowTabSynchronization)throw new hl(ll.FAILED_PRECONDITION,Ov);return!1}}return!(!e.networkEnabled||!e.inForeground)||Cv(t).ui().next(function(t){return void 0===e.wc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&rl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Ic=function(){return Object(Go.b)(this,void 0,void 0,function(){var t=this;return Object(Go.d)(this,function(e){switch(e.label){case 0:return this.Qo=!1,this.mc(),this.jo&&(this.jo.cancel(),this.jo=null),this.Ac(),this.Rc(),[4,this.Jo.runTransaction("shutdown","readwrite",[Jp.store,cv.store],function(e){var n=new Iv(e,Jd.Ds);return t.ac(n).next(function(){return t._c(n)})})];case 1:return e.sent(),this.Jo.close(),this.Pc(),[2]}})})},t.prototype.wc=function(t,e){var n=this;return t.filter(function(t){return n.dc(t.updateTimeMs,e)&&!n.Tc(t.clientId)})},t.prototype.gc=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Cv(e).ui().next(function(e){return t.wc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.yc=function(t){return Dp.Nr(t,this.serializer,this.os,this.Dr)},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.bc=function(){return this.os},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rl("IndexedDbPersistence","Starting transaction:",t),this.Jo.runTransaction(t,"readonly"===e?"readonly":"readwrite",fv,function(o){return r=new Iv(o,i.Uo?i.Uo.next():Jd.Ds),"readwrite-primary"===e?i.cc(r).next(function(t){return!!t||i.uc(r)}).next(function(e){if(!e)throw il("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.zo(!1)}),new hl(ll.FAILED_PRECONDITION,Gd);return n(r)}).next(function(t){return i.hc(r).next(function(){return t})}):i.Dc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.Dc=function(t){var e=this;return Tv(t).get(Jp.key).next(function(t){if(null!==t&&e.dc(t.leaseTimestampMs,5e3)&&!e.Tc(t.ownerId)&&!e.lc(t)&&!(e.qo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new hl(ll.FAILED_PRECONDITION,Ov)})},t.prototype.hc=function(t){var e=new Jp(this.clientId,this.allowTabSynchronization,Date.now());return Tv(t).put(Jp.key,e)},t.Gs=function(){return Xd.Gs()},t.prototype.ac=function(t){var e=this,n=Tv(t);return n.get(Jp.key).next(function(t){return e.lc(t)?(rl("IndexedDbPersistence","Releasing primary lease."),n.delete(Jp.key)):Fd.resolve()})},t.prototype.dc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(il("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ec=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Wo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.tc()})},this.document.addEventListener("visibilitychange",this.Wo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Ac=function(){this.Wo&&(this.document.removeEventListener("visibilitychange",this.Wo),this.Wo=null)},t.prototype.nc=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ko=function(){e.mc(),e.Cs.Ri(function(){return e.Ic()})},this.window.addEventListener("unload",this.Ko))},t.prototype.Rc=function(){this.Ko&&(this.window.removeEventListener("unload",this.Ko),this.Ko=null)},t.prototype.Tc=function(t){var e;try{var n=null!==(null===(e=this.Zo)||void 0===e?void 0:e.getItem(this.Ec(t)));return rl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return il("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.mc=function(){if(this.Zo)try{this.Zo.setItem(this.Ec(this.clientId),String(Date.now()))}catch(t){il("Failed to set zombie client id.",t)}},t.prototype.Pc=function(){if(this.Zo)try{this.Zo.removeItem(this.Ec(this.clientId))}catch(t){}},t.prototype.Ec=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Tv(t){return Ev.Ys(t,Jp.store)}function Cv(t){return Ev.Ys(t,cv.store)}var jv=function(){function t(t,e){this.db=t,this.cr=new gp(this,e)}return t.prototype.Er=function(t){var e=this.Cc(t);return this.db.Vc().No(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Cc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Vc().Ue(t,e)},t.prototype.Ir=function(t,e){return this.Nc(t,function(t,n){return e(n)})},t.prototype.Oo=function(t,e,n){return Sv(t,n)},t.prototype.ko=function(t,e,n){return Sv(t,n)},t.prototype.mr=function(t,e,n){return this.db.Vc().mr(t,e,n)},t.prototype.jr=function(t,e){return Sv(t,e)},t.prototype.xc=function(t,e){return function(t,e){var n=!1;return Vp(t).fi(function(r){return Lp(t,r,e).next(function(t){return t&&(n=!0),Fd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.vc().io(),i=[],o=0;return this.Nc(t,function(u,a){if(a<=e){var s=n.xc(t,u).next(function(e){if(!e)return o++,r.Jn(t,u).next(function(){return r.Hn(u),kv(t).delete([0,mp(u.path)])})});i.push(s)}}).next(function(){return Fd.qn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Lo);return this.db.Vc().So(t,n)},t.prototype.Fc=function(t,e){return Sv(t,e)},t.prototype.Nc=function(t,e){var n,r=kv(t),i=Jd.Ds;return r._i({index:ov.documentTargetsIndex},function(t,r){var o=r.path,u=r.sequenceNumber;0===t[0]?(i!==Jd.Ds&&e(new jl(kp(n)),i),i=u,n=o):i=Jd.Ds}).next(function(){i!==Jd.Ds&&e(new jl(kp(n)),i)})},t.prototype.Pr=function(t){return this.db.vc().oo(t)},t}();function Sv(t,e){return kv(t).put(function(t,e){return new ov(0,mp(t.path),e)}(e,t.Lo))}function Av(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var xv=function(){function t(t,e,n,r){this.persistence=t,this.Oc=e,this.serializer=r,this.Mc=new Bl(ml),this.kc=new zd(function(t){return Dl(t)},Ll),this.$c=Ol.min(),this.rs=t.yc(n),this.Lc=t.vc(),this.Yo=t.Vc(),this.Bc=new Qd(this.Lc,this.rs,this.persistence.bc()),this.Xo=t.Sc(),this.Oc.yr(this.Bc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Mc)})},t}();function Nv(t,e,n,r){return new xv(t,e,n,r)}function Mv(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:return n=cl(t),r=n.rs,i=n.Bc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.rs.qr(t).next(function(u){return o=u,r=n.persistence.yc(e),i=new Qd(n.Lc,r,n.persistence.bc()),r.qr(t)}).next(function(e){for(var n=[],r=[],u=nh(),a=0,s=o;a<s.length;a++){var c=s[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)u=u.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)u=u.add(y[v].key)}return i._s(t,u).next(function(t){return{qc:t,Uc:n,Qc:r}})})})];case 1:return o=u.sent(),[2,(n.rs=r,n.Bc=i,n.Oc.yr(n.Bc),o)]}})})}function Dv(t,e){var n=cl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Lc.io({ro:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),u=Fd.resolve();return o.forEach(function(t){u=u.next(function(){return r.Jn(e,t)}).next(function(e){var o=e,u=n.Sn.get(t);sl(null!==u),(!o||o.version.F(u)<0)&&(o=i.yn(t,o,n))&&r.jn(o,n.bn)})}),u.next(function(){return t.rs.Qr(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}function Lv(t){var e=cl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Yo.Po(t)})}function Pv(t,e){var n=cl(t),r=e.ft,i=n.Mc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Lc.io({ro:!0});i=n.Mc;var u=[];e.re.forEach(function(e,o){var a=i.get(o);if(a){u.push(n.Yo.Mo(t,e.de,o).next(function(){return n.Yo.Fo(t,e._e,o)}));var s=e.resumeToken;if(s.ht()>0){var c=a.wt(s,r).dt(t.Lo);i=i.Tt(o,c),function(t,e,n){return sl(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&u.push(n.Yo.So(t,c))}}});var a=Jl();if(e.ce.forEach(function(r,i){e.ue.has(r)&&u.push(n.persistence.Dr.Fc(t,r))}),u.push(function(t,e,n,r,i){var o=nh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var i=Jl();return n.forEach(function(n,o){var u=t.get(n),a=r;o instanceof id&&o.version.isEqual(Ol.min())?(e.Hn(n,a),i=i.Tt(n,o)):null==u||o.version.F(u.version)>0||0===o.version.F(u.version)&&u.hasPendingWrites?(e.jn(o,a),i=i.Tt(n,o)):rl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)}),i})}(t,o,e.ce,r).next(function(t){a=t})),!r.isEqual(Ol.min())){var s=n.Yo.Po(t).next(function(e){return n.Yo.Vo(t,t.Lo,r)});u.push(s)}return Fd.qn(u).next(function(){return o.apply(t)}).next(function(){return n.Bc.fs(t,a)})}).then(function(t){return n.Mc=i,t})}function Rv(t,e){var n=cl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Lr(t,e)})}function Uv(t,e){var n=cl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Yo.xo(t,e).next(function(i){return i?Fd.resolve(r=i):n.Yo.mo(t).next(function(i){return r=new zl(e,i,0,t.Lo),n.Yo.po(t,r).next(function(){return r})})})}).then(function(t){var r=n.Mc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Mc=n.Mc.Tt(t.targetId,t),n.kc.set(e,t.targetId)),t})}function Vv(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:r=cl(t),i=r.Mc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Dr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!ep(u=a.sent()))throw u;return rl("LocalStore","Failed to update sequence numbers for target "+e+": "+u),[3,5];case 5:return r.Mc=r.Mc.remove(e),r.kc.delete(i.target),[2]}})})}function zv(t,e,n){var r=cl(t),i=Ol.min(),o=nh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=cl(t),i=r.kc.get(n);return void 0!==i?Fd.resolve(r.Mc.get(i)):r.Yo.xo(e,n)}(r,t,vd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Yo.$o(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Oc.ws(t,e,n?i:Ol.min(),n?o:nh())}).next(function(t){return{documents:t,Kc:o}})})}function Fv(t,e){var n=cl(t),r=cl(n.Yo),i=n.Mc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function qv(t){var e=cl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=cl(t),i=Jl(),o=Tp(n),u=Kp(e),a=IDBKeyRange.lowerBound(o,!0);return u._i({index:nv.readTimeIndex,range:a},function(t,e){var n=Ip(r.serializer,e);i=i.Tt(n.key,n),o=e.readTime}).next(function(){return{Wc:i,readTime:Cp(o)}})}(e.Lc,t,e.$c)}).then(function(t){var n=t.Wc;return e.$c=t.readTime,n})}function Kv(t){return Object(Go.b)(this,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){return[2,(e=cl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kp(t),n=Ol.min();return e._i({index:nv.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Cp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$c=t})]})})}function Bv(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){if(t.code!==ll.FAILED_PRECONDITION||t.message!==Gd)throw t;return rl("LocalStore","Unexpectedly lost primary lease"),[2]})})}var Hv=function(){function t(t,e,n,r,i,o){this.Cs=t,this.jc=n,this.Gc=r,this.zc=i,this.listener=o,this.state=0,this.Hc=0,this.Jc=null,this.stream=null,this.Si=new Zd(t,e)}return t.prototype.Yc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return this.Yc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.tu=function(){this.state=0,this.Si.reset()},t.prototype.eu=function(){var t=this;this.Xc()&&null===this.Jc&&(this.Jc=this.Cs.Us(this.jc,6e4,function(){return t.nu()}))},t.prototype.su=function(t){this.iu(),this.stream.send(t)},t.prototype.nu=function(){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(t){return this.Xc()?[2,this.close(0)]:[2]})})},t.prototype.iu=function(){this.Jc&&(this.Jc.cancel(),this.Jc=null)},t.prototype.close=function(t,e){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(n){switch(n.label){case 0:return this.iu(),this.Si.cancel(),this.Hc++,3!==t?this.Si.reset():e&&e.code===ll.RESOURCE_EXHAUSTED?(il(e.toString()),il("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===ll.UNAUTHENTICATED&&this.zc.m(),null!==this.stream&&(this.ru(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ou(e)];case 1:return n.sent(),[2]}})})},t.prototype.ru=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.cu(this.Hc),n=this.Hc;this.zc.getToken().then(function(e){t.Hc===n&&t.uu(e)},function(n){e(function(){var e=new hl(ll.UNKNOWN,"Fetching auth token failed: "+n.message);return t.au(e)})})},t.prototype.uu=function(t){var e=this,n=this.cu(this.Hc);this.stream=this.hu(t),this.stream.lu(function(){n(function(){return e.state=2,e.listener.lu()})}),this.stream.ou(function(t){n(function(){return e.au(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Zc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Go.b)(t,void 0,void 0,function(){return Object(Go.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.au=function(t){return rl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.cu=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Hc===t?n():(rl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Gv=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,u}return Object(Go.c)(e,t),e.prototype.hu=function(t){return this.Gc._u("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:al()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.tn?(sl(void 0===e||"string"==typeof e),Rl.fromBase64String(e||"")):(sl(void 0===e||e instanceof Uint8Array),Rl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,a=u&&function(t){var e=void 0===t.code?ll.UNKNOWN:Kl(t.code);return new hl(e,t.message||"")}(u);n=new fh(r,i,o,a||null)}else if("documentChange"in e){var s=e.documentChange,c=$h(t,s.document.name),l=Yh(s.document.updateTime),h=new $f({mapValue:{fields:s.document.fields}}),f=new rd(c,l,h,{});n=new lh(s.targetIds||[],s.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=$h(t,d.document),v=d.readTime?Yh(d.readTime):Ol.min(),y=new id(p,v);n=new lh([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var g=e.documentRemove,b=$h(t,g.document);n=new lh([],g.removedTargetIds||[],b,null)}else{if(!("filter"in e))return al();var m=e.filter,w=new Fl(m.count||0);n=new hh(m.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Ol.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ol.min():e.readTime?Yh(e.readTime):Ol.min()}(t);return this.listener.fu(e,n)},e.prototype.du=function(t){var e={};e.database=nf(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Pl(r)?{documents:sf(t,r)}:{query:cf(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=Wh(t,e.resumeToken):e.ft.F(Ol.min())>0&&(n.readTime=Gh(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return al()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.su(e)},e.prototype.wu=function(t){var e={};e.database=nf(this.serializer),e.removeTarget=t,this.su(e)},e}(Hv),Wv=function(t){function e(e,n,r,i,o){var u=this;return(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,u.Eu=!1,u}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"Tu",{get:function(){return this.Eu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Eu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ru=function(){this.Eu&&this.Iu([])},e.prototype.hu=function(t){return this.Gc._u("Write",t)},e.prototype.onMessage=function(t){if(sl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Eu){this.Si.reset();var e=function(t,e){return t&&t.length>0?(sl(void 0!==e),t.map(function(t){return function(t,e){var n=Yh(t.updateTime?t.updateTime:e);n.isEqual(Ol.min())&&(n=Yh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Pf(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Yh(t.commitTime);return this.listener.mu(n,e)}return sl(!t.writeResults||0===t.writeResults.length),this.Eu=!0,this.listener.Au()},e.prototype.Ru=function(){var t={};t.database=nf(this.serializer),this.su(t)},e.prototype.Iu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return uf(e.serializer,t)})};this.su(n)},e}(Hv),Qv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Gc=n,i.serializer=r,i.Pu=!1,i}return Object(Go.c)(e,t),e.prototype.gu=function(){if(this.Pu)throw new hl(ll.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.yu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.yu(t,e,n,i)}).catch(function(t){throw t.code===ll.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Vu=function(t,e,n){var r=this;return this.gu(),this.credentials.getToken().then(function(i){return r.Gc.Vu(t,e,n,i)}).catch(function(t){throw t.code===ll.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Pu=!1},e}(function(){}),Yv=function(){function t(t,e){this.di=t,this.pu=e,this.state="Unknown",this.vu=0,this.bu=null,this.Su=!0}return t.prototype.Du=function(){var t=this;0===this.vu&&(this.Cu("Unknown"),this.bu=this.di.Us("online_state_timeout",1e4,function(){return t.bu=null,t.Nu("Backend didn't respond within 10 seconds."),t.Cu("Offline"),Promise.resolve()}))},t.prototype.xu=function(t){"Online"===this.state?this.Cu("Unknown"):(this.vu++,this.vu>=1&&(this.Fu(),this.Nu("Connection failed 1 times. Most recent error: "+t.toString()),this.Cu("Offline")))},t.prototype.set=function(t){this.Fu(),this.vu=0,"Online"===t&&(this.Su=!1),this.Cu(t)},t.prototype.Cu=function(t){t!==this.state&&(this.state=t,this.pu(t))},t.prototype.Nu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Su?(il(e),this.Su=!1):rl("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.bu&&(this.bu.cancel(),this.bu=null)},t}(),Jv=function(t,e,n,r,i){var o=this;this.Ou=t,this.Mu=e,this.di=n,this.ku={},this.$u=[],this.Lu=new Map,this.Bu=new Set,this.qu=[],this.Uu=i,this.Uu.Qu(function(t){n.Ri(function(){return Object(Go.b)(o,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return oy(this)?(rl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Go.b)(this,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return(e=cl(t)).Bu.add(4),[4,Xv(e)];case 1:return n.sent(),e.Ku.set("Unknown"),e.Bu.delete(4),[4,Zv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Ku=new Yv(n,r)};function Zv(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:if(!oy(t))return[3,4];e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xv(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:e=0,n=t.qu,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function $v(t,e){var n=cl(t);n.Lu.has(e.targetId)||(n.Lu.set(e.targetId,e),iy(n)?ry(n):wy(n).Xc()&&ey(n,e))}function ty(t,e){var n=cl(t),r=wy(n);n.Lu.delete(e),r.Xc()&&ny(n,e),0===n.Lu.size&&(r.Xc()?r.eu():oy(n)&&n.Ku.set("Unknown"))}function ey(t,e){t.Wu.De(e.targetId),wy(t).du(e)}function ny(t,e){t.Wu.De(e),wy(t).wu(e)}function ry(t){t.Wu=new ph({Xe:function(e){return t.ku.Xe(e)},Ze:function(e){return t.Lu.get(e)||null}}),wy(t).start(),t.Ku.Du()}function iy(t){return oy(t)&&!wy(t).Yc()&&t.Lu.size>0}function oy(t){return 0===cl(t).Bu.size}function uy(t){t.Wu=void 0}function ay(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){return t.Lu.forEach(function(e,n){ey(t,e)}),[2]})})}function sy(t,e){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(n){return uy(t),iy(t)?(t.Ku.xu(e),ry(t)):t.Ku.set("Unknown"),[2]})})}function cy(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:if(t.Ku.set("Online"),!(e instanceof fh&&2===e.state&&e.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:n=e.cause,r=0,i=e.targetIds,u.label=1;case 1:return r<i.length?t.Lu.has(o=i[r])?[4,t.ku.ju(o,n)]:[3,3]:[3,5];case 2:u.sent(),t.Lu.delete(o),t.Wu.removeTarget(o),u.label=3;case 3:u.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),rl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ly(t,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof lh?t.Wu.$e(e):e instanceof hh?t.Wu.je(e):t.Wu.qe(e),n.isEqual(Ol.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Lv(t.Ou)];case 8:return i=u.sent(),n.F(i)>=0?[4,function(t,e){var n=t.Wu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Lu.get(r);i&&t.Lu.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Lu.get(e);if(n){t.Lu.set(e,n.wt(Rl.lt,n.ft)),ny(t,e);var r=new zl(n.target,e,1,n.sequenceNumber);ey(t,r)}}),t.ku.Gu(n)}(t,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return rl("RemoteStore","Failed to raise snapshot:",o=u.sent()),[4,ly(t,o)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function ly(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r=this;return Object(Go.d)(this,function(i){switch(i.label){case 0:if(!ep(e))throw e;return t.Bu.add(1),[4,Xv(t)];case 1:return i.sent(),t.Ku.set("Offline"),n||(n=function(){return Lv(t.Ou)}),t.di.Mi(function(){return Object(Go.b)(r,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return rl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Bu.delete(1),[4,Zv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function hy(t,e){return e().catch(function(n){return ly(t,n,e)})}function fy(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:e=cl(t),n=_y(e),r=e.$u.length>0?e.$u[e.$u.length-1].batchId:-1,u.label=1;case 1:if(!function(t){return oy(t)&&t.$u.length<10}(e))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,Rv(e.Ou,r)];case 3:return null===(i=u.sent())?(0===e.$u.length&&n.eu(),[3,7]):(r=i.batchId,function(t,e){t.$u.push(e);var n=_y(t);n.Xc()&&n.Tu&&n.Iu(e.mutations)}(e,i),[3,6]);case 4:return o=u.sent(),[4,ly(e,o)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return dy(e)&&py(e),[2]}})})}function dy(t){return oy(t)&&!_y(t).Yc()&&t.$u.length>0}function py(t){_y(t).start()}function vy(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){return _y(t).Ru(),[2]})})}function yy(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n,r;return Object(Go.d)(this,function(i){for(e=_y(t),n=0,r=t.$u;n<r.length;n++)e.Iu(r[n].mutations);return[2]})})}function gy(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:return r=t.$u.shift(),i=Vd.from(r,e,n),[4,hy(t,function(){return t.ku.zu(i)})];case 1:return o.sent(),[4,fy(t)];case 2:return o.sent(),[2]}})})}function by(t,e){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(n){switch(n.label){case 0:return e&&_y(t).Tu?[4,function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:return ql(r=e.code)&&r!==ll.ABORTED?(n=t.$u.shift(),_y(t).tu(),[4,hy(t,function(){return t.ku.Hu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,fy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return dy(t)&&py(t),[2]}})})}function my(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return n=cl(t),e?(n.Bu.delete(2),[4,Zv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Bu.add(2),[4,Xv(n)]);case 3:r.sent(),n.Ku.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function wy(t){var e=this;return t.Ju||(t.Ju=function(t,e,n){var r=cl(t);return r.gu(),new Gv(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:ay.bind(null,t),ou:sy.bind(null,t),fu:cy.bind(null,t)}),t.qu.push(function(n){return Object(Go.b)(e,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return n?(t.Ju.tu(),iy(t)?ry(t):t.Ku.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ju.stop()];case 2:e.sent(),uy(t),e.label=3;case 3:return[2]}})})})),t.Ju}function _y(t){var e=this;return t.Yu||(t.Yu=function(t,e,n){var r=cl(t);return r.gu(),new Wv(e,r.Gc,r.credentials,r.serializer,n)}(t.Mu,t.di,{lu:vy.bind(null,t),ou:by.bind(null,t),Au:yy.bind(null,t),mu:gy.bind(null,t)}),t.qu.push(function(n){return Object(Go.b)(e,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return n?(t.Yu.tu(),[4,fy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Yu.stop()];case 3:e.sent(),t.$u.length>0&&(rl("RemoteStore","Stopping write stream with "+t.$u.length+" pending writes"),t.$u=[]),e.label=4;case 4:return[2]}})})})),t.Yu}var ky=function(){this.Xu=void 0,this.listeners=[]},Oy=function(){this.queries=new zd(function(t){return bd(t)},gd),this.onlineState="Unknown",this.Zu=new Set};function Iy(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u,a,s;return Object(Go.d)(this,function(c){switch(c.label){case 0:if(n=cl(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ky),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),u=o,[4,n.ta(r)];case 2:return u.Xu=c.sent(),[3,4];case 3:return a=c.sent(),s=hp(a,"Initialization of query '"+md(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.ea(n.onlineState),o.Xu&&e.na(o.Xu)&&jy(n),[2]}})})}function Ey(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Go.d)(this,function(a){return n=cl(t),i=!1,(o=n.queries.get(r=e.query))&&(u=o.listeners.indexOf(e))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.sa(r))]:[2]})})}function Ty(t,e){for(var n=cl(t),r=!1,i=0,o=e;i<o.length;i++){var u=o[i],a=n.queries.get(u.query);if(a){for(var s=0,c=a.listeners;s<c.length;s++)c[s].na(u)&&(r=!0);a.Xu=u}}r&&jy(n)}function Cy(t,e,n){var r=cl(t),i=r.queries.get(e);if(i)for(var o=0,u=i.listeners;o<u.length;o++)u[o].onError(n);r.queries.delete(e)}function jy(t){t.Zu.forEach(function(t){t.next()})}var Sy=function(){function t(t,e,n){this.query=t,this.ia=e,this.ra=!1,this.oa=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.na=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ah(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var o=!1;return this.ra?this.ca(t)&&(this.ia.next(t),o=!0):this.ua(t,this.onlineState)&&(this.aa(t),o=!0),this.oa=t,o},t.prototype.onError=function(t){this.ia.error(t)},t.prototype.ea=function(t){this.onlineState=t;var e=!1;return this.oa&&!this.ra&&this.ua(this.oa,t)&&(this.aa(this.oa),e=!0),e},t.prototype.ua=function(t,e){return!t.fromCache||!(this.options.ha&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.ca=function(t){return t.docChanges.length>0||!!(t.ne||this.oa&&this.oa.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.aa=function(t){t=ah.ie(t.query,t.docs,t.ee,t.fromCache),this.ra=!0,this.ia.next(t)},t}(),Ay=function(){function t(){this.la=new Wl(xy._a),this.fa=new Wl(xy.da)}return t.prototype.W=function(){return this.la.W()},t.prototype.Oo=function(t,e){var n=new xy(t,e);this.la=this.la.add(n),this.fa=this.fa.add(n)},t.prototype.wa=function(t,e){var n=this;t.forEach(function(t){return n.Oo(t,e)})},t.prototype.ko=function(t,e){this.Ea(new xy(t,e))},t.prototype.Ta=function(t,e){var n=this;t.forEach(function(t){return n.ko(t,e)})},t.prototype.Ia=function(t){var e=this,n=new jl(new El([])),r=new xy(n,t),i=new xy(n,t+1),o=[];return this.fa.Kt([r,i],function(t){e.Ea(t),o.push(t.key)}),o},t.prototype.ma=function(){var t=this;this.la.forEach(function(e){return t.Ea(e)})},t.prototype.Ea=function(t){this.la=this.la.delete(t),this.fa=this.fa.delete(t)},t.prototype.Aa=function(t){var e=new jl(new El([])),n=new xy(e,t),r=new xy(e,t+1),i=nh();return this.fa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.zr=function(t){var e=new xy(t,0),n=this.la.jt(e);return null!==n&&t.isEqual(n.key)},t}(),xy=function(){function t(t,e){this.key=t,this.Ra=e}return t._a=function(t,e){return jl.$(t.key,e.key)||ml(t.Ra,e.Ra)},t.da=function(t,e){return ml(t.Ra,e.Ra)||jl.$(t.key,e.key)},t}();function Ny(t,e){return"firestore_clients_"+t+"_"+e}function My(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function Dy(t,e){return"firestore_targets_"+t+"_"+e}var Ly=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Pa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),u=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(u=new hl(i.error.code,i.error.message)),o?new t(e,n,i.state,u):(il("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Py=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Pa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new hl(r.error.code,r.error.message)),i?new t(e,r.state,o):(il("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ga=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ry=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Pa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ih(),u=0;i&&u<r.activeTargetIds.length;++u)i=xl(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new t(e,o):(il("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Uy=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Pa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(il("SharedClientState","Failed to parse online state: "+e),null)},t}(),Vy=function(){function t(){this.activeTargetIds=ih()}return t.prototype.ya=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Va=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ga=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zy=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.pa=r,this.va=null,this.pu=null,this.ps=null,this.ba=this.Sa.bind(this),this.Da=new Bl(ml),this.lr=!1,this.Ca=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Na=Ny(this.persistenceKey,this.pa),this.xa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Da=this.Da.Tt(this.pa,new Vy),this.Fa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Oa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Ma=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ka=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.$a=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ba)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Go.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,u,a,s,c,l=this;return Object(Go.d)(this,function(h){switch(h.label){case 0:return[4,this.va.gc()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.pa&&(i=this.getItem(Ny(this.persistenceKey,r)))&&(o=Ry.Pa(r,i))&&(this.Da=this.Da.Tt(o.clientId,o));for(this.La(),(u=this.storage.getItem(this.ka))&&(a=this.Ba(u))&&this.qa(a),s=0,c=this.Ca;s<c.length;s++)this.Sa(c[s]);return this.Ca=[],this.window.addEventListener("unload",function(){return l.Ic()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.xa,JSON.stringify(t))},t.prototype.Ua=function(){return this.Qa(this.Da)},t.prototype.Ka=function(t){var e=!1;return this.Da.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Wa=function(t){this.ja(t,"pending")},t.prototype.Ga=function(t,e,n){this.ja(t,e,n),this.za(t)},t.prototype.Ha=function(t){var e="not-current";if(this.Ka(t)){var n=this.storage.getItem(Dy(this.persistenceKey,t));if(n){var r=Py.Pa(t,n);r&&(e=r.state)}}return this.Ja.ya(t),this.La(),e},t.prototype.Ya=function(t){this.Ja.Va(t),this.La()},t.prototype.Xa=function(t){return this.Ja.activeTargetIds.has(t)},t.prototype.Za=function(t){this.removeItem(Dy(this.persistenceKey,t))},t.prototype.th=function(t,e,n){this.eh(t,e,n)},t.prototype.nh=function(t,e,n){var r=this;e.forEach(function(t){r.za(t)}),this.currentUser=t,n.forEach(function(t){r.Wa(t)})},t.prototype.sh=function(t){this.ih(t)},t.prototype.rh=function(){this.oh()},t.prototype.Ic=function(){this.lr&&(this.window.removeEventListener("storage",this.ba),this.removeItem(this.Na),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(rl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Na)return void il("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Go.b)(e,void 0,void 0,function(){var t,e,r,i,o,u;return Object(Go.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Fa.test(n.key)){if(null==n.newValue)return t=this.uh(n.key),[2,this.ah(t,null)];if(e=this.hh(n.key,n.newValue))return[2,this.ah(e.clientId,e)]}else if(this.Oa.test(n.key)){if(null!==n.newValue&&(r=this.lh(n.key,n.newValue)))return[2,this._h(r)]}else if(this.Ma.test(n.key)){if(null!==n.newValue&&(i=this.fh(n.key,n.newValue)))return[2,this.dh(i)]}else if(n.key===this.ka){if(null!==n.newValue&&(o=this.Ba(n.newValue)))return[2,this.qa(o)]}else if(n.key===this.xa)(u=function(t){var e=Jd.Ds;if(null!=t)try{var n=JSON.parse(t);sl("number"==typeof n),e=n}catch(t){il("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Jd.Ds&&this.ps(u);else if(n.key===this.$a)return[2,this.va.wh()]}else this.Ca.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ja",{get:function(){return this.Da.get(this.pa)},enumerable:!1,configurable:!0}),t.prototype.La=function(){this.setItem(this.Na,this.Ja.ga())},t.prototype.ja=function(t,e,n){var r=new Ly(this.currentUser,t,e,n),i=My(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ga())},t.prototype.za=function(t){var e=My(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ih=function(t){this.storage.setItem(this.ka,JSON.stringify({clientId:this.pa,onlineState:t}))},t.prototype.eh=function(t,e,n){var r=Dy(this.persistenceKey,t),i=new Py(t,e,n);this.setItem(r,i.ga())},t.prototype.oh=function(){this.setItem(this.$a,"value-not-used")},t.prototype.uh=function(t){var e=this.Fa.exec(t);return e?e[1]:null},t.prototype.hh=function(t,e){var n=this.uh(t);return Ry.Pa(n,e)},t.prototype.lh=function(t,e){var n=this.Oa.exec(t),r=Number(n[1]);return Ly.Pa(new tl(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fh=function(t,e){var n=this.Ma.exec(t),r=Number(n[1]);return Py.Pa(r,e)},t.prototype.Ba=function(t){return Uy.Pa(t)},t.prototype._h=function(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.va.Eh(t.batchId,t.state,t.error)]:(rl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.dh=function(t){return this.va.Th(t.targetId,t.state,t.error)},t.prototype.ah=function(t,e){var n=this,r=e?this.Da.Tt(t,e):this.Da.remove(t),i=this.Qa(this.Da),o=this.Qa(r),u=[],a=[];return o.forEach(function(t){i.has(t)||u.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.va.Ih(u,a).then(function(){n.Da=r})},t.prototype.qa=function(t){this.Da.get(t.clientId)&&this.pu(t.onlineState)},t.prototype.Qa=function(t){var e=ih();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Fy=function(){function t(){this.mh=new Vy,this.Ah={},this.pu=null,this.ps=null}return t.prototype.Wa=function(t){},t.prototype.Ga=function(t,e,n){},t.prototype.Ha=function(t){return this.mh.ya(t),this.Ah[t]||"not-current"},t.prototype.th=function(t,e,n){this.Ah[t]=e},t.prototype.Ya=function(t){this.mh.Va(t)},t.prototype.Xa=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.Za=function(t){delete this.Ah[t]},t.prototype.Ua=function(){return this.mh.activeTargetIds},t.prototype.Ka=function(t){return this.mh.activeTargetIds.has(t)},t.prototype.start=function(){return this.mh=new Vy,Promise.resolve()},t.prototype.nh=function(t,e,n){},t.prototype.sh=function(t){},t.prototype.Ic=function(){},t.prototype.Ss=function(t){},t.prototype.rh=function(){},t}(),qy=function(t){this.key=t},Ky=function(t){this.key=t},By=function(){function t(t,e){this.query=t,this.Rh=e,this.Ph=null,this.le=!1,this.gh=nh(),this.ee=nh(),this.yh=_d(t),this.Vh=new oh(this.yh)}return Object.defineProperty(t.prototype,"ph",{get:function(){return this.Rh},enumerable:!1,configurable:!0}),t.prototype.bh=function(t,e){var n=this,r=e?e.Sh:new uh,i=e?e.Vh:this.Vh,o=e?e.ee:this.ee,u=i,a=!1,s=cd(this.query)&&i.size===this.query.limit?i.last():null,c=ld(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof rd?e:null;h&&(h=wd(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Dh(l,h)||(r.track({type:2,doc:h}),p=!0,(s&&n.yh(h,s)>0||c&&n.yh(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(a=!0)),p&&(h?(u=u.add(h),o=d?o.add(t):o.delete(t)):(u=u.delete(t),o=o.delete(t)))}),cd(this.query)||ld(this.query))for(;u.size>this.query.limit;){var l=cd(this.query)?u.last():u.first();u=u.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Vh:u,Sh:r,br:a,ee:o}},t.prototype.Dh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Vh;this.Vh=t.Vh,this.ee=t.ee;var o=t.Sh.Zt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return al()}};return n(t)-n(e)}(t.type,e.type)||r.yh(t.doc,e.doc)}),this.Ch(n);var u=e?this.Nh():[],a=0===this.gh.size&&this.le?1:0,s=a!==this.Ph;return this.Ph=a,0!==o.length||s?{snapshot:new ah(this.query,t.Vh,i,o,t.ee,0===a,s,!1),xh:u}:{xh:u}},t.prototype.ea=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Vh:this.Vh,Sh:new uh,ee:this.ee,br:!1},!1)):{xh:[]}},t.prototype.Fh=function(t){return!this.Rh.has(t)&&!!this.Vh.has(t)&&!this.Vh.get(t).an},t.prototype.Ch=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Rh=e.Rh.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Rh=e.Rh.delete(t)}),this.le=t.le)},t.prototype.Nh=function(){var t=this;if(!this.le)return[];var e=this.gh;this.gh=nh(),this.Vh.forEach(function(e){t.Fh(e.key)&&(t.gh=t.gh.add(e.key))});var n=[];return e.forEach(function(e){t.gh.has(e)||n.push(new Ky(e))}),this.gh.forEach(function(t){e.has(t)||n.push(new qy(t))}),n},t.prototype.Oh=function(t){this.Rh=t.Kc,this.gh=nh();var e=this.bh(t.documents);return this.Zn(e,!0)},t.prototype.Mh=function(){return ah.ie(this.query,this.Vh,this.ee,0===this.Ph)},t}(),Hy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Gy=function(t){this.key=t,this.kh=!1},Wy=function(){function t(t,e,n,r,i,o){this.Ou=t,this.$h=e,this.Lh=n,this.Bh=r,this.currentUser=i,this.qh=o,this.Uh={},this.Qh=new zd(function(t){return bd(t)},gd),this.Kh=new Map,this.Wh=[],this.jh=new Bl(jl.$),this.Gh=new Map,this.zh=new Ay,this.Hh={},this.Jh=new Map,this.Yh=bv.Io(),this.onlineState="Unknown",this.Xh=void 0}return Object.defineProperty(t.prototype,"Zh",{get:function(){return!0===this.Xh},enumerable:!1,configurable:!0}),t}();function Qy(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:return n=Og(t),(i=n.Qh.get(e))?(n.Bh.Ha(i.targetId),r=i.view.Mh(),[3,4]):[3,1];case 1:return[4,Uv(n.Ou,vd(e))];case 2:return o=a.sent(),u=n.Bh.Ha(o.targetId),[4,Yy(n,e,o.targetId,"current"===u)];case 3:r=a.sent(),n.Zh&&$v(n.$h,o),a.label=4;case 4:return[2,r]}})})}function Yy(t,e,n,r){return Object(Go.b)(this,void 0,void 0,function(){var i,o,u,a,s,c;return Object(Go.d)(this,function(l){switch(l.label){case 0:return t.tl=function(e,n,r){return function(t,e,n,r){return Object(Go.b)(this,void 0,void 0,function(){var i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:return(i=e.view.bh(n)).br?[4,zv(t.Ou,e.query,!1).then(function(t){return e.view.bh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.re.get(e.targetId),u=e.view.Zn(i,t.Zh,o),[2,(sg(t,e.targetId,u.xh),u.snapshot)]}})})}(t,e,n,r)},[4,zv(t.Ou,e,!0)];case 1:return i=l.sent(),o=new By(e,i.Kc),u=o.bh(i.documents),a=ch.he(n,r&&"Offline"!==t.onlineState),s=o.Zn(u,t.Zh,a),sg(t,n,s.xh),c=new Hy(e,n,o),[2,(t.Qh.set(e,c),t.Kh.has(n)?t.Kh.get(n).push(e):t.Kh.set(n,[e]),s.snapshot)]}})})}function Jy(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:return n=cl(t),r=n.Qh.get(e),(i=n.Kh.get(r.targetId)).length>1?[2,(n.Kh.set(r.targetId,i.filter(function(t){return!gd(t,e)})),void n.Qh.delete(e))]:n.Zh?(n.Bh.Ya(r.targetId),n.Bh.Ka(r.targetId)?[3,2]:[4,Vv(n.Ou,r.targetId,!1).then(function(){n.Bh.Za(r.targetId),ty(n.$h,r.targetId),ug(n,r.targetId)}).catch(Bv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ug(n,r.targetId),[4,Vv(n.Ou,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Zy(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:r=Ig(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=cl(t),i=kl.now(),o=e.reduce(function(t,e){return t.add(e.key)},nh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Bc._s(t,o).next(function(o){n=o;for(var u=[],a=0,s=e;a<s.length;a++){var c=s[a],l=qf(c,n.get(c.key));null!=l&&u.push(new Gf(c.key,l,ed(l.proto.mapValue),Rf.exists(!0)))}return r.rs.Or(t,i,u,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Ou,e)];case 2:return i=a.sent(),r.Bh.Wa(i.batchId),function(t,e,n){var r=t.Hh[t.currentUser.h()];r||(r=new Bl(ml)),r=r.Tt(e,n),t.Hh[t.currentUser.h()]=r}(r,i.batchId,n),[4,hg(r,i.Qn)];case 3:return a.sent(),[4,fy(r.$h)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),u=hp(o,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function Xy(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:n=cl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Pv(n.Ou,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Gh.get(e);r&&(sl(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.kh=!0:t.fe.size>0?sl(r.kh):t.de.size>0&&(sl(r.kh),r.kh=!1))}),[4,hg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Bv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function $y(t,e,n){var r=cl(t);if(r.Zh&&0===n||!r.Zh&&1===n){var i=[];r.Qh.forEach(function(t,n){var r=n.view.ea(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=cl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].ea(e)&&(r=!0)}),r&&jy(n)}(r.Lh,e),i.length&&r.Uh.fu(i),r.onlineState=e,r.Zh&&r.Bh.sh(e)}}function tg(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u,a,s;return Object(Go.d)(this,function(c){switch(c.label){case 0:return(r=cl(t)).Bh.th(e,"rejected",n),i=r.Gh.get(e),(o=i&&i.key)?(u=(u=new Bl(jl.$)).Tt(o,new id(o,Ol.min())),a=nh().add(o),s=new sh(Ol.min(),new Map,new Wl(ml),u,a),[4,Xy(r,s)]):[3,2];case 1:return c.sent(),r.jh=r.jh.remove(o),r.Gh.delete(e),lg(r),[3,4];case 2:return[4,Vv(r.Ou,e,!1).then(function(){return ug(r,e,n)}).catch(Bv)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function eg(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:n=cl(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Dv(n.Ou,e)];case 2:return i=o.sent(),og(n,r,null),ig(n,r),n.Bh.Ga(r,"acknowledged"),[4,hg(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ng(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:r=cl(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=cl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.kr(t,e).next(function(e){return sl(null!==e),r=e.keys(),n.rs.Qr(t,e)}).next(function(){return n.rs.Gr(t)}).next(function(){return n.Bc._s(t,r)})})}(r.Ou,e)];case 2:return i=o.sent(),og(r,e,n),ig(r,e),r.Bh.Ga(e,"rejected",n),[4,hg(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Bv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function rg(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:oy((n=cl(t)).$h)||rl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=cl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Br(t)})}(n.Ou)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Jh.get(r)||[]).push(e),n.Jh.set(r,i),[3,4]);case 3:return o=a.sent(),u=hp(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(u),[3,4];case 4:return[2]}})})}function ig(t,e){(t.Jh.get(e)||[]).forEach(function(t){t.resolve()}),t.Jh.delete(e)}function og(t,e,n){var r=cl(t),i=r.Hh[r.currentUser.h()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Hh[r.currentUser.h()]=i}}function ug(t,e,n){void 0===n&&(n=null),t.Bh.Ya(e);for(var r=0,i=t.Kh.get(e);r<i.length;r++){var o=i[r];t.Qh.delete(o),n&&t.Uh.el(o,n)}t.Kh.delete(e),t.Zh&&t.zh.Ia(e).forEach(function(e){t.zh.zr(e)||ag(t,e)})}function ag(t,e){var n=t.jh.get(e);null!==n&&(ty(t.$h,n),t.jh=t.jh.remove(e),t.Gh.delete(n),lg(t))}function sg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof qy?(t.zh.Oo(o.key,e),cg(t,o)):o instanceof Ky?(rl("SyncEngine","Document no longer in limbo: "+o.key),t.zh.ko(o.key,e),t.zh.zr(o.key)||ag(t,o.key)):al()}}function cg(t,e){var n=e.key;t.jh.get(n)||(rl("SyncEngine","New document in limbo: "+n),t.Wh.push(n),lg(t))}function lg(t){for(;t.Wh.length>0&&t.jh.size<t.qh;){var e=t.Wh.shift(),n=t.Yh.next();t.Gh.set(n,new Gy(e)),t.jh=t.jh.Tt(e,n),$v(t.$h,new zl(vd(sd(e.path)),n,2,Jd.Ds))}}function hg(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:return r=cl(t),i=[],o=[],u=[],r.Qh.W()?[3,3]:(r.Qh.forEach(function(t,a){u.push(r.tl(a,e,n).then(function(t){if(t){r.Zh&&r.Bh.th(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yd.Vs(a.targetId,t);o.push(e)}}))}),[4,Promise.all(u)]);case 1:return a.sent(),r.Uh.fu(i),[4,function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u,a,s,c;return Object(Go.d)(this,function(l){switch(l.label){case 0:n=cl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Fd.forEach(e,function(e){return Fd.forEach(e.gs,function(r){return n.persistence.Dr.Oo(t,e.targetId,r)}).next(function(){return Fd.forEach(e.ys,function(r){return n.persistence.Dr.ko(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!ep(r=l.sent()))throw r;return rl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(u=o[i]).targetId,u.fromCache||(s=n.Mc.get(a),c=s.Et(s.ft),n.Mc=n.Mc.Tt(a,c));return[2]}})})}(r.Ou,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function fg(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:return(n=cl(t)).currentUser.isEqual(e)?[3,3]:(rl("SyncEngine","User change. New user:",e.h()),[4,Mv(n.Ou,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Jh.forEach(function(t){t.forEach(function(t){t.reject(new hl(ll.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Jh.clear()}(n),n.Bh.nh(e,r.Uc,r.Qc),[4,hg(n,r.qc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function dg(t,e){var n=cl(t),r=n.Gh.get(e);if(r&&r.kh)return nh().add(r.key);var i=nh(),o=n.Kh.get(e);if(!o)return i;for(var u=0,a=o;u<a.length;u++){var s=n.Qh.get(a[u]);i=i.Gt(s.view.ph)}return i}function pg(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:return[4,zv((n=cl(t)).Ou,e.query,!0)];case 1:return r=o.sent(),i=e.view.Oh(r),[2,(n.Zh&&sg(n,e.targetId,i.xh),i)]}})})}function vg(t){return Object(Go.b)(this,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){return[2,qv((e=cl(t)).Ou).then(function(t){return hg(e,t)})]})})}function yg(t,e,n,r){return Object(Go.b)(this,void 0,void 0,function(){var i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:return[4,function(t,e){var n=cl(t),r=cl(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.$r(t,e).next(function(e){return e?n.Bc._s(t,e):Fd.resolve(null)})})}((i=cl(t)).Ou,e)];case 1:return null===(o=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,fy(i.$h)];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(og(i,e,r||null),ig(i,e),function(t,e){cl(cl(t).rs).Wr(e)}(i.Ou,e)):al(),u.label=4;case 4:return[4,hg(i,o)];case 5:return u.sent(),[3,7];case 6:rl("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function gg(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u,a,s;return Object(Go.d)(this,function(c){switch(c.label){case 0:return Og(n=cl(t)),Ig(n),!0!==e||!0===n.Xh?[3,3]:(r=n.Bh.Ua(),[4,bg(n,r.H())]);case 1:return i=c.sent(),n.Xh=!0,[4,my(n.$h,!0)];case 2:for(c.sent(),o=0,u=i;o<u.length;o++)$v(n.$h,u[o]);return[3,7];case 3:return!1!==e||!1===n.Xh?[3,7]:(a=[],s=Promise.resolve(),n.Kh.forEach(function(t,e){n.Bh.Xa(e)?a.push(e):s=s.then(function(){return ug(n,e),Vv(n.Ou,e,!0)}),ty(n.$h,e)}),[4,s]);case 4:return c.sent(),[4,bg(n,a)];case 5:return c.sent(),function(t){var e=cl(t);e.Gh.forEach(function(t,n){ty(e.$h,n)}),e.zh.ma(),e.Gh=new Map,e.jh=new Bl(jl.$)}(n),n.Xh=!1,[4,my(n.$h,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function bg(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u,a,s,c,l,h,f,d,p;return Object(Go.d)(this,function(v){switch(v.label){case 0:n=cl(t),r=[],i=[],o=0,u=e,v.label=1;case 1:return o<u.length?(s=void 0,(c=n.Kh.get(a=u[o]))&&0!==c.length?[4,Uv(n.Ou,vd(c[0]))]:[3,7]):[3,13];case 2:s=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Qh.get(h[l]),[4,pg(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Fv(n.Ou,a)];case 8:return p=v.sent(),[4,Uv(n.Ou,p)];case 9:return s=v.sent(),[4,Yy(n,mg(p),a,!1)];case 10:v.sent(),v.label=11;case 11:r.push(s),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Uh.fu(i),r)]}})})}function mg(t){return ad(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function wg(t){var e=cl(t);return cl(cl(e.Ou).persistence).gc()}function _g(t,e,n,r){return Object(Go.b)(this,void 0,void 0,function(){var i,o,u;return Object(Go.d)(this,function(a){switch(a.label){case 0:return(i=cl(t)).Xh?(rl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Kh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,qv(i.Ou)];case 3:return o=a.sent(),u=sh.ae(e,"current"===n),[4,hg(i,o,u)];case 4:return a.sent(),[3,8];case 5:return[4,Vv(i.Ou,e,!0)];case 6:return a.sent(),ug(i,e,r),[3,8];case 7:al(),a.label=8;case 8:return[2]}})})}function kg(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u,a,s,c,l,h;return Object(Go.d)(this,function(f){switch(f.label){case 0:if(!(r=Og(t)).Xh)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Kh.has(u=o[i])?(rl("SyncEngine","Adding an already active target "+u),[3,5]):[4,Fv(r.Ou,u)]:[3,6];case 2:return a=f.sent(),[4,Uv(r.Ou,a)];case 3:return s=f.sent(),[4,Yy(r,mg(a),s.targetId,!1)];case 4:f.sent(),$v(r.$h,s),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Go.d)(this,function(e){switch(e.label){case 0:return r.Kh.has(t)?[4,Vv(r.Ou,t,!1).then(function(){ty(r.$h,t),ug(r,t)}).catch(Bv)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Og(t){var e=cl(t);return e.$h.ku.Gu=Xy.bind(null,e),e.$h.ku.Xe=dg.bind(null,e),e.$h.ku.ju=tg.bind(null,e),e.Uh.fu=Ty.bind(null,e.Lh),e.Uh.el=Cy.bind(null,e.Lh),e}function Ig(t){var e=cl(t);return e.$h.ku.zu=eg.bind(null,e),e.$h.ku.Hu=ng.bind(null,e),e}var Eg=function(){function t(t,e){this.os=t,this.Dr=e,this.rs=[],this.nl=1,this.sl=new Wl(xy._a)}return t.prototype.Fr=function(t){return Fd.resolve(0===this.rs.length)},t.prototype.Or=function(t,e,n,r){var i=this.nl;this.nl++;var o=new Ud(i,e,n,r);this.rs.push(o);for(var u=0,a=r;u<a.length;u++){var s=a[u];this.sl=this.sl.add(new xy(s.key,i)),this.os.Mr(t,s.key.path.q())}return Fd.resolve(o)},t.prototype.kr=function(t,e){return Fd.resolve(this.il(e))},t.prototype.Lr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Fd.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Br=function(){return Fd.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.qr=function(t){return Fd.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new xy(e,0),i=new xy(e,Number.POSITIVE_INFINITY),o=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ra);o.push(e)}),Fd.resolve(o)},t.prototype.ds=function(t,e){var n=this,r=new Wl(ml);return e.forEach(function(t){var e=new xy(t,0),i=new xy(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ra)})}),Fd.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;jl.ot(i)||(i=i.child(""));var o=new xy(new jl(i),0),u=new Wl(ml);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(u=u.add(t.Ra)),!0)},o),Fd.resolve(this.ol(u))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.Qr=function(t,e){var n=this;sl(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Fd.forEach(e.mutations,function(i){var o=new xy(i.key,e.batchId);return r=r.delete(o),n.Dr.jr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Wr=function(t){},t.prototype.zr=function(t,e){var n=new xy(e,0),r=this.sl.jt(n);return Fd.resolve(e.isEqual(r&&r.key))},t.prototype.Gr=function(t){return Fd.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),Tg=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new Bl(jl.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,u=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:u,readTime:n}),this.size+=u-o,this.os.Mr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Fd.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Zl();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Fd.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=$l(),i=new jl(e.path.child("")),o=this.docs.Vt(i);o.Nt();){var u=o.Ct(),a=u.value,s=a.zn,c=a.readTime;if(!e.path.j(u.key.path))break;c.F(n)<=0||s instanceof rd&&wd(e,s)&&(r=r.Tt(s.key,s))}return Fd.resolve(r)},t.prototype.al=function(t,e){return Fd.forEach(this.docs,function(t){return e(t)})},t.prototype.io=function(t){return new Cg(this)},t.prototype.oo=function(t){return Fd.resolve(this.size)},t}(),Cg=function(t){function e(e){var n=this;return(n=t.call(this)||this).co=e,n}return Object(Go.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.co.jn(t,i.zn,e.Wn(r))):e.co.Hn(r)}),Fd.qn(n)},e.prototype.Yn=function(t,e){return this.co.Jn(t,e)},e.prototype.Xn=function(t,e){return this.co.getEntries(t,e)},e}(qd),jg=function(){function t(t){this.persistence=t,this.hl=new zd(function(t){return Dl(t)},Ll),this.lastRemoteSnapshotVersion=Ol.min(),this.highestTargetId=0,this.ll=0,this._l=new Ay,this.targetCount=0,this.fl=bv.To()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Fd.resolve()},t.prototype.Po=function(t){return Fd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.yo=function(t){return Fd.resolve(this.ll)},t.prototype.mo=function(t){return this.highestTargetId=this.fl.next(),Fd.resolve(this.highestTargetId)},t.prototype.Vo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Fd.resolve()},t.prototype.vo=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new bv(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.po=function(t,e){return this.vo(e),this.targetCount+=1,Fd.resolve()},t.prototype.So=function(t,e){return this.vo(e),Fd.resolve()},t.prototype.Do=function(t,e){return this.hl.delete(e.target),this._l.Ia(e.targetId),this.targetCount-=1,Fd.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,o=[];return this.hl.forEach(function(u,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(u),o.push(r.Co(t,a.targetId)),i++)}),Fd.qn(o).next(function(){return i})},t.prototype.No=function(t){return Fd.resolve(this.targetCount)},t.prototype.xo=function(t,e){var n=this.hl.get(e)||null;return Fd.resolve(n)},t.prototype.Fo=function(t,e,n){return this._l.wa(e,n),Fd.resolve()},t.prototype.Mo=function(t,e,n){this._l.Ta(e,n);var r=this.persistence.Dr,i=[];return r&&e.forEach(function(e){i.push(r.jr(t,e))}),Fd.qn(i)},t.prototype.Co=function(t,e){return this._l.Ia(e),Fd.resolve()},t.prototype.$o=function(t,e){var n=this._l.Aa(e);return Fd.resolve(n)},t.prototype.zr=function(t,e){return Fd.resolve(this._l.zr(e))},t}(),Sg=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ho=function(t,e){return Fd.resolve(this.dl.get(e))},t.prototype.lo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Yh(n.createTime)}),Fd.resolve()},t.prototype._o=function(t,e){return Fd.resolve(this.wl.get(e))},t.prototype.fo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:Mp(n.bundledQuery),readTime:Yh(n.readTime)}),Fd.resolve()},t}(),Ag=function(){function t(t,e){var n=this;this.El={},this.Uo=new Jd(0),this.Qo=!1,this.Qo=!0,this.Dr=t(this),this.Yo=new jg(this),this.os=new Gp,this.ss=function(t,e){return new Tg(t,function(t){return n.Dr.Tl(t)})}(this.os),this.serializer=new Op(e),this.Xo=new Sg(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Ic=function(){return this.Qo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.Qo},enumerable:!1,configurable:!0}),t.prototype.rc=function(){},t.prototype.oc=function(){},t.prototype.bc=function(){return this.os},t.prototype.yc=function(t){var e=this.El[t.h()];return e||(e=new Eg(this.os,this.Dr),this.El[t.h()]=e),e},t.prototype.Vc=function(){return this.Yo},t.prototype.vc=function(){return this.ss},t.prototype.Sc=function(){return this.Xo},t.prototype.runTransaction=function(t,e,n){var r=this;rl("MemoryPersistence","Starting transaction:",t);var i=new xg(this.Uo.next());return this.Dr.Il(),n(i).next(function(t){return r.Dr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Fd.Un(Object.values(this.El).map(function(n){return function(){return n.zr(t,e)}}))},t}(),xg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Lo=e,n}return Object(Go.c)(e,t),e}(Wd),Ng=function(){function t(t){this.persistence=t,this.Rl=new Ay,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw al()},enumerable:!1,configurable:!0}),t.prototype.Oo=function(t,e,n){return this.Rl.Oo(n,e),this.yl.delete(n.toString()),Fd.resolve()},t.prototype.ko=function(t,e,n){return this.Rl.ko(n,e),this.yl.add(n.toString()),Fd.resolve()},t.prototype.jr=function(t,e){return this.yl.add(e.toString()),Fd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.Ia(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Vc();return r.$o(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Do(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.vc().io();return Fd.forEach(this.yl,function(r){var i=jl.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Fc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Fd.Un([function(){return Fd.resolve(n.Rl.zr(e))},function(){return n.persistence.Vc().zr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),Mg=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.lu=function(t){this.bl=t},t.prototype.ou=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),Dg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Go.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,o){var u=new Jc;u.listenOnce(Wc.COMPLETE,function(){try{switch(u.getLastErrorCode()){case Gc.NO_ERROR:var e=u.getResponseJson();rl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gc.TIMEOUT:rl("Connection",'RPC "'+t+'" timed out'),o(new hl(ll.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:var n=u.getStatus();if(rl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ll).indexOf(e)>=0?e:ll.UNKNOWN}(r.status);o(new hl(a,r.message))}else o(new hl(ll.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new hl(ll.UNAVAILABLE,"Connection failed."));break;default:al()}}finally{rl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);u.send(e,"POST",a,n,15)})},e.prototype._u=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Fc,i=Ba(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(o.initMessageHeaders,e),Object(Yo.m)()||Object(Yo.o)()||Object(Yo.k)()||Object(Yo.l)()||Object(Yo.p)()||Object(Yo.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");rl("Connection","Creating WebChannel: "+u,o);var a=r.createWebChannel(u,o),s=!1,c=!1,l=new Mg({pl:function(t){c?rl("Connection","Not sending because WebChannel is closed:",t):(s||(rl("Connection","Opening WebChannel transport."),a.open(),s=!0),rl("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Yc.EventType.OPEN,function(){c||rl("Connection","WebChannel transport opened.")}),h(a,Yc.EventType.CLOSE,function(){c||(c=!0,rl("Connection","WebChannel transport closed"),l.Nl())}),h(a,Yc.EventType.ERROR,function(t){c||(c=!0,ol("Connection","WebChannel transport errored:",t),l.Nl(new hl(ll.UNAVAILABLE,"The operation could not be completed")))}),h(a,Yc.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];sl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){rl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Ul[t];if(void 0!==e)return Kl(e)}(i),u=r.message;void 0===o&&(o=ll.INTERNAL,u="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new hl(o,u)),a.close()}else rl("Connection","WebChannel received:",n),l.xl(n)}}),h(i,Qc.STAT_EVENT,function(t){10===t.stat?rl("Connection","Detected buffering proxy"):11===t.stat&&rl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.yu=function(t,e,n,r){var i=this.kl(t,e);rl("RestConnection","Sending: ",i,n);var o={};return this.$l(o,r),this.Ll(t,i,o,n).then(function(t){return rl("RestConnection","Received: ",t),t},function(e){throw ol("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Vu=function(t,e,n,r){return this.yu(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.2",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+Dg[t]},t}()),Pg=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Qu=function(t){this.Kl.push(t)},t.prototype.Ic=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){rl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){rl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Rg=function(){function t(){}return t.prototype.Qu=function(t){},t.prototype.Ic=function(){},t}(),Ug=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return this.serializer=Bd(t.Fl.t),this.Bh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Ou=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Nv(this.persistence,new bp,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new Ag(Ng.gl,this.serializer)},t.prototype.jl=function(t){return new Fy},t.prototype.terminate=function(){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.Bh.Ic()];case 1:return t.sent(),[4,this.persistence.Ic()];case 2:return t.sent(),[2]}})})},t}(),Vg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Go.c)(e,t),e.prototype.initialize=function(e){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Kv(this.Ou)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Ig(this.Xl.va)];case 4:return n.sent(),[4,fy(this.Xl.$h)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return Nv(this.persistence,new bp,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new yp(this.persistence.Dr.cr,t.di)},e.prototype.Gl=function(t){var e=Av(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?vp.er(this.cacheSizeBytes):vp.ir;return new Ev(this.synchronizeTabs,e,t.clientId,n,t.di,ap(),sp(),this.serializer,this.Bh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Fy},e}(Ug),zg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Go.c)(e,t),e.prototype.initialize=function(e){return Object(Go.b)(this,void 0,void 0,function(){var n,r=this;return Object(Go.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.va,this.Bh instanceof zy?(this.Bh.va={Eh:yg.bind(null,n),Th:_g.bind(null,n),Ih:kg.bind(null,n),gc:wg.bind(null,n),wh:vg.bind(null,n)},[4,this.Bh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.ic(function(t){return Object(Go.b)(r,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return[4,gg(this.Xl.va,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Ou):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=ap();if(!zy.Gs(e))throw new hl(ll.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Av(t.Fl.t,t.Fl.persistenceKey);return new zy(e,t.di,n,t.clientId,t.Yl)},e}(Vg),Fg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n=this;return Object(Go.d)(this,function(r){switch(r.label){case 0:return this.Ou?[3,2]:(this.Ou=t.Ou,this.Bh=t.Bh,this.Mu=this.Zl(e),this.$h=this.t_(e),this.Lh=this.e_(e),this.va=this.n_(e,!t.synchronizeTabs),this.Bh.pu=function(t){return $y(n.va,t,1)},this.$h.ku.s_=fg.bind(null,this.va),[4,my(this.$h,this.va.Zh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Oy},t.prototype.Zl=function(t){var e=Bd(t.Fl.t),n=new Lg(t.Fl);return function(t,e,n){return new Qv(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,u=this;return e=this.Ou,n=this.Mu,r=t.di,i=function(t){return $y(u.va,t,0)},o=Pg.Gs()?new Pg:new Rg,new Jv(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,u){var a=new Wy(t,e,n,r,i,o);return u&&(a.Xh=!0),a}(this.Ou,this.$h,this.Lh,this.Bh,t.Yl,t.qh,e)},t.prototype.terminate=function(){return function(t){return Object(Go.b)(this,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return e=cl(t),rl("RemoteStore","RemoteStore shutting down."),e.Bu.add(5),[4,Xv(e)];case 1:return n.sent(),e.Uu.Ic(),e.Ku.set("Unknown"),[2]}})})}(this.$h)},t}(),qg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();function Kg(t,e,n){if(!n)throw new hl(ll.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Bg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new hl(ll.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Hg(t,e,n,r){if(!0===e&&!0===r)throw new hl(ll.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Gg(t){if(!jl.ot(t))throw new hl(ll.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Wg(t){if(jl.ot(t))throw new hl(ll.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Qg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":al()}function Yg(t,e){if("_delegate"in t&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new hl(ll.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qg(t);throw new hl(ll.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Jg(t,e){if(e<=0)throw new hl(ll.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Zg=function(t){this._methodName=t},Xg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.c_=function(t){if(2!==t.u_)throw t.a_(1===t.u_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg);function $g(t,e,n){return new rm({u_:3,h_:e.settings.h_,methodName:t._methodName,l_:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var tb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.c_=function(t){return new Lf(t.path,new Tf)},e.prototype.isEqual=function(t){return t instanceof e},e}(Zg),eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Go.c)(e,t),e.prototype.c_=function(t){var e=$g(this,t,!0),n=this.__.map(function(t){return cm(t,e)}),r=new Cf(n);return new Lf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).__=n,r}return Object(Go.c)(e,t),e.prototype.c_=function(t){var e=$g(this,t,!0),n=this.__.map(function(t){return cm(t,e)}),r=new Sf(n);return new Lf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Zg),rb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Go.c)(e,t),e.prototype.c_=function(t){var e=new xf(t.serializer,Hh(t.serializer,this.f_));return new Lf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Zg),ib=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new hl(ll.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new hl(ll.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.d_=t,this.w_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.d_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.d_===t.d_&&this.w_===t.w_},t.prototype.toJSON=function(){return{latitude:this.d_,longitude:this.w_}},t.prototype.C=function(t){return ml(this.d_,t.d_)||ml(this.w_,t.w_)},t}(),ob=function(){function t(t){this.E_=t}return t.fromBase64String=function(e){try{return new t(Rl.fromBase64String(e))}catch(e){throw new hl(ll.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Rl.fromUint8Array(e))},t.prototype.toBase64=function(){return this.E_.toBase64()},t.prototype.toUint8Array=function(){return this.E_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.E_.isEqual(t.E_)},t}(),ub=function(t){this.o_=t},ab=new Map,sb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new hl(ll.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new hl(ll.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Hg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),cb=function(){function t(t,e){this.T_="(lite)",this.I_=new sb({}),this.m_=!1,t instanceof $c?(this.A_=t,this.R_=new dl):(this.P_=t,this.A_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new hl(ll.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(t.options.projectId)}(t),this.R_=new pl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.P_)throw new hl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.P_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"g_",{get:function(){return this.m_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return void 0!==this.V_},enumerable:!1,configurable:!0}),t.prototype.p_=function(t){if(this.m_)throw new hl(ll.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.I_=new sb(t),void 0!==t.credentials&&(this.R_=function(t){if(!t)return new dl;switch(t.type){case"gapi":var e=t.client;return sl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new yl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new hl(ll.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.v_=function(){return this.I_},t.prototype.b_=function(){return this.m_=!0,this.I_},t.prototype._delete=function(){return this.V_||(this.V_=this.S_()),this.V_},t.prototype.S_=function(){return function(t){var e=ab.get(t);e&&(rl("ComponentProvider","Removing Datastore"),ab.delete(t),e.terminate())}(this),Promise.resolve()},t}();function lb(){if("undefined"==typeof Uint8Array)throw new hl(ll.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hb(){if("undefined"==typeof atob)throw new hl(ll.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.fromBase64String=function(t){return hb(),new e(ob.fromBase64String(t))},e.fromUint8Array=function(t){return lb(),new e(ob.fromUint8Array(t))},e.prototype.toBase64=function(){return hb(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return lb(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ub),db=function(){function t(){}return t.prototype.D_=function(t,e){switch(void 0===e&&(e="none"),Ih(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nh(t.integerValue||t.doubleValue);case 3:return this.C_(t.timestampValue);case 4:return this.N_(t,e);case 5:return t.stringValue;case 6:return this.x_(Mh(t.bytesValue));case 7:return this.F_(t.referenceValue);case 8:return this.O_(t.geoPointValue);case 9:return this.M_(t.arrayValue,e);case 10:return this.k_(t.mapValue,e);default:throw al()}},t.prototype.k_=function(t,e){var n=this,r={};return bh(t.fields||{},function(t,i){r[t]=n.D_(i,e)}),r},t.prototype.O_=function(t){return new ib(Nh(t.latitude),Nh(t.longitude))},t.prototype.M_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.D_(t,e)})},t.prototype.N_=function(t,e){switch(e){case"previous":var n=_h(t);return null==n?null:this.D_(n,e);case"estimate":return this.C_(kh(t));default:return null}},t.prototype.C_=function(t){var e=xh(t);return new kl(e.seconds,e.nanos)},t.prototype.L_=function(t,e){var n=El.Y(t);sl(_f(n));var r=new $c(n.get(1),n.get(3)),i=new jl(n.B(5));return r.isEqual(e)||il("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),pb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.c)(e,t),e.prototype.x_=function(t){return new fb(new ob(t))},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return Fm.B_(e,this.firestore,null)},e}(db),vb=function(){function t(t,e,n,r,i){this.q_=t,this.U_=e,this.Q_=n,this.K_=r,this.W_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nb(this.q_,this.W_,this.Q_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.K_},t.prototype.data=function(){if(this.K_){if(this.W_){var t=new yb(this.q_,this.U_,this.Q_,this.K_,null);return this.W_.fromFirestore(t)}return this.U_.D_(this.K_.En())}},t.prototype.get=function(t){if(this.K_){var e=this.K_.data().field(gb("DocumentSnapshot.get",t));if(null!==e)return this.U_.D_(e)}},t}(),yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(vb);function gb(t,e){return"string"==typeof e?vm(t,e):e instanceof ub?e.o_.j_:e.j_}var bb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new hl(ll.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new Cl(t)}return t.prototype.isEqual=function(t){return this.j_.isEqual(t.j_)},t}(),mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).G_=new lp,r.T_="name"in e?e.name:"[DEFAULT]",r}return Object(Go.c)(e,t),e.prototype.S_=function(){return this.z_||Um(this),this.z_.terminate()},e}(cb);function wb(t,e,n){var r=this,i=new Kd;return t.di.enqueue(function(){return Object(Go.b)(r,void 0,void 0,function(){var r;return Object(Go.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_m(t,n)];case 1:return o.sent(),[4,km(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ll.FAILED_PRECONDITION||t.code===ll.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _b(t){if(t.g_||t.y_)throw new hl(ll.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kb=function(t){function e(e,n,r,i,o,u){var a=this;return(a=t.call(this,e,n,r,i,u)||this).q_=e,a.H_=e,a.metadata=o,a}return Object(Go.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.K_){if(this.W_){var e=new Ob(this.q_,this.U_,this.Q_,this.K_,this.metadata,null);return this.W_.fromFirestore(e,t)}return this.U_.D_(this.K_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.K_){var n=this.K_.data().field(gb("DocumentSnapshot.get",t));if(null!==n)return this.U_.D_(n,e.serverTimestamps)}},e}(vb),Ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(kb),Ib=function(){function t(t,e,n,r){this.q_=t,this.U_=e,this.J_=r,this.metadata=new Hm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.J_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.J_.docs.forEach(function(r){t.call(e,new Ob(n.q_,n.U_,r.key,r,new Hm(n.J_.ee.has(r.key),n.J_.fromCache),n.query.W_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.J_.se)throw new hl(ll.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Y_&&this.X_===e||(this.Y_=function(t,e){if(t.J_.te.W()){var n=0;return t.J_.docChanges.map(function(e){return{type:"added",doc:new Ob(t.q_,t.U_,e.doc.key,e.doc,new Hm(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),oldIndex:-1,newIndex:n++}})}var r=t.J_.te;return t.J_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Ob(t.q_,t.U_,e.doc.key,e.doc,new Hm(t.J_.ee.has(e.doc.key),t.J_.fromCache),t.query.W_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Eb(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.X_=e),this.Y_},t}();function Eb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return al()}}function Tb(t,e){return t instanceof kb&&e instanceof kb?t.q_===e.q_&&t.Q_.isEqual(e.Q_)&&(null===t.K_?null===e.K_:t.K_.isEqual(e.K_))&&t.W_===e.W_:t instanceof Ib&&e instanceof Ib&&t.q_===e.q_&&Zb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.J_.isEqual(e.J_)}var Cb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.c)(e,t),e.prototype.x_=function(t){return new ob(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Nb(this.firestore,null,e)},e}(db);function jb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Yg(t,Nb);var o=Yg(t.firestore,mb),u=Xb(o);return e instanceof ub&&(e=e.o_),Ab(o,("string"==typeof e||e instanceof bb?am(u,"updateDoc",t.Q_,e,n,r):um(u,"updateDoc",t.Q_,e)).tf(t.Q_,Rf.exists(!0)))}function Sb(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof ub&&(t=t.o_);var u={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Hd(i[a])||(u=i[a],a++);var s,c,l,h={includeMetadataChanges:u.includeMetadataChanges};if(Hd(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Nb)c=Yg(t.firestore,mb),l=sd(t.Q_.path),s={next:function(e){i[a]&&i[a](xb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Yg(t,Mb);c=Yg(d.firestore,mb),l=d.Z_;var p=new Cb(c);s={next:function(t){i[a]&&i[a](new Ib(c,p,d,t))},error:i[a+1],complete:i[a+2]},Hb(t.Z_)}return function(t,e,n,r){var i=this,o=new qg(r),u=new Sy(e,o,n);return t.di.Ri(function(){return Object(Go.b)(i,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return e=Iy,[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})}),function(){o.r_(),t.di.Ri(function(){return Object(Go.b)(i,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return e=Ey,[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),u])]}})})})}}(Rm(c),l,h,s)}function Ab(t,e){return function(t,e){var n=this,r=new Kd;return t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var n;return Object(Go.d)(this,function(i){switch(i.label){case 0:return n=Zy,[4,jm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Rm(t),e)}function xb(t,e,n){var r=n.docs.get(e.Q_),i=new Cb(t);return new kb(t,i,e.Q_,r,new Hm(n.hasPendingWrites,n.fromCache),e.W_)}var Nb=function(){function t(t,e,n){this.W_=e,this.Q_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"ef",{get:function(){return this.Q_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.Q_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Q_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Gb(this.firestore,this.W_,this.Q_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Q_)},t}(),Mb=function(){function t(t,e,n){this.W_=e,this.Z_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.Z_)},t}(),Db=function(){};function Lb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.nf(t)}return t}var Pb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).sf=e,i.rf=n,i.cf=r,i.type="where",i}return Object(Go.c)(e,t),e.prototype.nf=function(t){var e=Xb(t.firestore),n=function(t,e,n,r,i,o,u){var a;if(i.tt()){if("array-contains"===o||"array-contains-any"===o)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Kb(u,o);for(var s=[],c=0,l=u;c<l.length;c++)s.push(qb(r,t,l[c]));a={arrayValue:{values:s}}}else a=qb(r,t,u)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kb(u,o),a=sm(n,"where",u,"in"===o||"not-in"===o);var h=kd.create(i,o,a);return function(t,e){if(e.An()){var n=fd(t);if(null!==n&&!n.isEqual(e.field))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=hd(t);null!==r&&Bb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new hl(ll.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.Z_,0,e,t.firestore.A_,this.sf,this.rf,this.cf);return new Mb(t.firestore,t.W_,function(t,e){var n=t.filters.concat([e]);return new ud(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,n))},e}(Db),Rb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).sf=e,r.uf=n,r.type="orderBy",r}return Object(Go.c)(e,t),e.prototype.nf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ld(e,n);return function(t,e){if(null===hd(t)){var n=fd(t);null!==n&&Bb(0,n,e.field)}}(t,r),r}(t.Z_,this.sf,this.uf);return new Mb(t.firestore,t.W_,function(t,e){var n=t.Tn.concat([e]);return new ud(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.Z_,e))},e}(Db),Ub=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.af=n,i.hf=r,i}return Object(Go.c)(e,t),e.prototype.nf=function(t){return new Mb(t.firestore,t.W_,yd(t.Z_,this.af,this.hf))},e}(Db),Vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Go.c)(e,t),e.prototype.nf=function(t){var e=Fb(t,this.type,this.lf,this._f);return new Mb(t.firestore,t.W_,function(t,e){return new ud(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.Z_,e))},e}(Db),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.lf=n,i._f=r,i}return Object(Go.c)(e,t),e.prototype.nf=function(t){var e=Fb(t,this.type,this.lf,this._f);return new Mb(t.firestore,t.W_,function(t,e){return new ud(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.Z_,e))},e}(Db);function Fb(t,e,n,r){if(n[0]instanceof ub&&(n[0]=n[0].o_),n[0]instanceof vb)return function(t,e,n,r,i){if(!r)throw new hl(ll.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],u=0,a=pd(t);u<a.length;u++){var s=a[u];if(s.field.tt())o.push(Dh(e,r.key));else{var c=r.field(s.field);if(wh(c))throw new hl(ll.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.J();throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xd(o,i)}(t.Z_,t.firestore.A_,e,n[0].K_,r);var i=Xb(t.firestore);return function(t,e,n,r,i,o){var u=t.Tn;if(i.length>u.length)throw new hl(ll.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],s=0;s<i.length;s++){var c=i[s];if(u[s].field.tt()){if("string"!=typeof c)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!dd(t)&&-1!==c.indexOf("/"))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(El.Y(c));if(!jl.ot(l))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new jl(l);a.push(Dh(e,h))}else{var f=sm(n,r,c);a.push(f)}}return new xd(a,o)}(t.Z_,t.firestore.A_,i,e,n,r)}function qb(t,e,n){if(n instanceof ub&&(n=n.o_),"string"==typeof n){if(""===n)throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dd(e)&&-1!==n.indexOf("/"))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(El.Y(n));if(!jl.ot(r))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Dh(t,new jl(r))}if(n instanceof Nb)return Dh(t,n.Q_);throw new hl(ll.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qg(n)+".")}function Kb(t,e){if(!Array.isArray(t)||0===t.length)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new hl(ll.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bb(t,e,n){if(!n.isEqual(e))throw new hl(ll.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Hb(t){if(ld(t)&&0===t.Tn.length)throw new hl(ll.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,sd(r))||this).firestore=e,i.ef=r,i.type="collection",i}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Z_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Z_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.ef.q();return t.W()?null:new Nb(this.firestore,null,new jl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.ef)},e}(Mb);function Wb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ub&&(t=t.o_),Kg("collection","path",e),t instanceof cb){var i=El.Y.apply(El,Object(Go.g)([e],n));return Wg(i),new Gb(t,null,i)}if(!(t instanceof Nb||t instanceof Gb))throw new hl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=El.Y.apply(El,Object(Go.g)([t.path],n)).child(El.Y(e));return Wg(o),new Gb(t.firestore,null,o)}function Qb(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t instanceof ub&&(t=t.o_),1===arguments.length&&(e=bl.D()),Kg("doc","path",e),t instanceof cb){var i=El.Y.apply(El,Object(Go.g)([e],n));return Gg(i),new Nb(t,null,new jl(i))}if(!(t instanceof Nb||t instanceof Gb))throw new hl(ll.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=t.ef.child(El.Y.apply(El,Object(Go.g)([e],n)));return Gg(o),new Nb(t.firestore,t instanceof Gb?t.W_:null,new jl(o))}var Yb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.c)(e,t),e.prototype.x_=function(t){return new ob(t)},e.prototype.F_=function(t){var e=this.L_(t,this.firestore.A_);return new Nb(this.firestore,null,e)},e}(db);function Jb(t,e){return t instanceof ub&&(t=t.o_),e instanceof ub&&(e=e.o_),(t instanceof Nb||t instanceof Gb)&&(e instanceof Nb||e instanceof Gb)&&t.firestore===e.firestore&&t.path===e.path&&t.W_===e.W_}function Zb(t,e){return t instanceof ub&&(t=t.o_),e instanceof ub&&(e=e.o_),t instanceof Mb&&e instanceof Mb&&t.firestore===e.firestore&&gd(t.Z_,e.Z_)&&t.W_===e.W_}function Xb(t){var e=t.b_(),n=Bd(t.A_);return new im(t.A_,!!e.ignoreUndefinedProperties,n)}var $b=/^__.*__$/,tm=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[];return n.push(null!==this.en?new Gf(t,this.data,this.en,e):new Hf(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Qf(t,this.fieldTransforms)),n},t}(),em=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.tf=function(t,e){var n=[new Gf(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Qf(t,this.fieldTransforms)),n},t}();function nm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw al()}}var rm=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ff(),this.fieldTransforms=i||[],this.en=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u_",{get:function(){return this.settings.u_},enumerable:!1,configurable:!0}),t.prototype.df=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.wf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.Ef(t),r},t.prototype.Tf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.df({path:n,l_:!1});return r.ff(),r},t.prototype.If=function(t){return this.df({path:void 0,l_:!0})},t.prototype.a_=function(t){return ym(t,this.settings.methodName,this.settings.mf||!1,this.path,this.settings.h_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.ff=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Ef(this.path.get(t))},t.prototype.Ef=function(t){if(0===t.length)throw this.a_("Document fields must not be empty");if(nm(this.u_)&&$b.test(t))throw this.a_('Document fields cannot begin and end with "__"')},t}(),im=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||Bd(t)}return t.prototype.Af=function(t,e,n,r){return void 0===r&&(r=!1),new rm({u_:t,methodName:e,h_:n,path:Cl.X(),l_:!1,mf:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function om(t,e,n,r,i,o){void 0===o&&(o={});var u=t.Af(o.merge||o.mergeFields?2:0,e,n,i);fm("Data must be an object, but it was:",u,r);var a,s,c=lm(r,u);if(o.merge)a=new Df(u.en),s=u.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=dm(e,f[h],n);if(!u.contains(d))throw new hl(ll.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");gm(l,d)||l.push(d)}a=new Df(l),s=u.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,s=u.fieldTransforms;return new tm(new $f(c),a,s)}function um(t,e,n,r){var i=t.Af(1,e,n);fm("Data must be an object, but it was:",i,r);var o=[],u=new td;bh(r,function(t,r){var a=vm(e,t,n);r instanceof ub&&(r=r.o_);var s=i.Tf(a);if(r instanceof Xg)o.push(a);else{var c=cm(r,s);null!=c&&(o.push(a),u.set(a,c))}});var a=new Df(o);return new em(u.hn(),a,i.fieldTransforms)}function am(t,e,n,r,i,o){var u=t.Af(1,e,n),a=[dm(e,r,n)],s=[i];if(o.length%2!=0)throw new hl(ll.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(dm(e,o[c])),s.push(o[c+1]);for(var l=[],h=new td,f=a.length-1;f>=0;--f)if(!gm(l,a[f])){var d=a[f],p=s[f];p instanceof ub&&(p=p.o_);var v=u.Tf(d);if(p instanceof Xg)l.push(d);else{var y=cm(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Df(l);return new em(h.hn(),g,u.fieldTransforms)}function sm(t,e,n,r){return void 0===r&&(r=!1),cm(n,t.Af(r?4:3,e))}function cm(t,e){if(t instanceof ub&&(t=t.o_),hm(t))return fm("Unsupported field value:",e,t),lm(t,e);if(t instanceof Zg)return function(t,e){if(!nm(e.u_))throw e.a_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.a_(t._methodName+"() is not currently supported inside arrays");var n=t.c_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.l_&&4!==e.u_)throw e.a_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var u=cm(o[i],e.If(r));null==u&&(u={nullValue:"NULL_VALUE"}),n.push(u),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ub&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hh(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=kl.fromDate(t);return{timestampValue:Gh(e.serializer,n)}}if(t instanceof kl){var r=new kl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gh(e.serializer,r)}}if(t instanceof ib)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ob)return{bytesValue:Wh(e.serializer,t.E_)};if(t instanceof Nb){var i=e.t,o=t.firestore.A_;if(!o.isEqual(i))throw e.a_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Jh(t.firestore.A_||e.t,t.Q_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.a_("Unsupported field value: "+Qg(t))}(t,e)}function lm(t,e){var n={};return mh(t)?e.path&&e.path.length>0&&e.en.push(e.path):bh(t,function(t,r){var i=cm(r,e.wf(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function hm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof kl||t instanceof ib||t instanceof ob||t instanceof Nb||t instanceof Zg)}function fm(t,e,n){if(!hm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Qg(n);throw e.a_("an object"===r?t+" a custom object":t+" "+r)}}function dm(t,e,n){if(e instanceof ub&&(e=e.o_),e instanceof bb)return e.j_;if("string"==typeof e)return vm(t,e);throw ym("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pm=new RegExp("[~\\*/\\[\\]]");function vm(t,e,n){if(e.search(pm)>=0)throw ym("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(bb.bind.apply(bb,Object(Go.g)([void 0],e.split("."))))).j_}catch(r){throw ym("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ym(t,e,n,r,i){var o=r&&!r.W(),u=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var s="";return(o||u)&&(s+=" (found",o&&(s+=" in field "+r),u&&(s+=" in document "+i),s+=")"),new hl(ll.INVALID_ARGUMENT,(a+=". ")+t+s)}function gm(t,e){return t.some(function(t){return t.isEqual(e)})}var bm=function(){function t(t){this.Mu=t,this.Rf=new Map,this.mutations=[],this.Pf=!1,this.gf=null,this.yf=new Set}return t.prototype.Vf=function(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n=this;return Object(Go.d)(this,function(r){switch(r.label){case 0:if(this.pf(),this.mutations.length>0)throw new hl(ll.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i,o,u,a;return Object(Go.d)(this,function(s){switch(s.label){case 0:return n=cl(t),r=nf(n.serializer)+"/documents",i={documents:e.map(function(t){return Xh(n.serializer,t)})},[4,n.Vu("BatchGetDocuments",r,i)];case 1:return o=s.sent(),u=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){sl(!!e.found);var n=$h(t,e.found.name),r=Yh(e.found.updateTime),i=new $f({mapValue:{fields:e.found.fields}});return new rd(n,r,i,{})}(t,e):"missing"in e?function(t,e){sl(!!e.missing),sl(!!e.readTime);var n=$h(t,e.missing),r=Yh(e.readTime);return new id(n,r)}(t,e):al()}(n.serializer,t);u.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=u.get(t.toString());sl(!!e),a.push(e)}),a)]}})})}(this.Mu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof id||t instanceof rd?n.vf(t):al()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.tf(t,this.rn(t))),this.yf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.tf(t,this.bf(t)))}catch(t){this.gf=t}this.yf.add(t.toString())},t.prototype.delete=function(t){this.write([new Zf(t,this.rn(t))]),this.yf.add(t.toString())},t.prototype.commit=function(){return Object(Go.b)(this,void 0,void 0,function(){var t,e=this;return Object(Go.d)(this,function(n){switch(n.label){case 0:if(this.pf(),this.gf)throw this.gf;return t=this.Rf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=jl.st(n);e.mutations.push(new Xf(r,e.rn(r)))}),[4,function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:return n=cl(t),r=nf(n.serializer)+"/documents",i={writes:e.map(function(t){return uf(n.serializer,t)})},[4,n.yu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Mu,this.mutations)];case 1:return n.sent(),this.Pf=!0,[2]}})})},t.prototype.vf=function(t){var e;if(t instanceof rd)e=t.version;else{if(!(t instanceof id))throw al();e=Ol.min()}var n=this.Rf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new hl(ll.ABORTED,"Document version changed between two reads.")}else this.Rf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Rf.get(t.toString());return!this.yf.has(t.toString())&&e?Rf.updateTime(e):Rf.on()},t.prototype.bf=function(t){var e=this.Rf.get(t.toString());if(!this.yf.has(t.toString())&&e){if(e.isEqual(Ol.min()))throw new hl(ll.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rf.updateTime(e)}return Rf.exists(!0)},t.prototype.write=function(t){this.pf(),this.mutations=this.mutations.concat(t)},t.prototype.pf=function(){},t}(),mm=function(){function t(t,e,n,r){this.di=t,this.Mu=e,this.updateFunction=n,this.Ti=r,this.Sf=5,this.Si=new Zd(this.di,"transaction_retry")}return t.prototype.run=function(){this.Df()},t.prototype.Df=function(){var t=this;this.Si.Bs(function(){return Object(Go.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Go.d)(this,function(r){return t=new bm(this.Mu),(e=this.Cf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.Nf(t)})})}).catch(function(t){n.Nf(t)}),[2]})})})},t.prototype.Cf=function(t){try{var e=this.updateFunction(t);return!Sl(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.Nf=function(t){var e=this;this.Sf>0&&this.xf(t)?(this.Sf-=1,this.di.Ri(function(){return e.Df(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.xf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ql(e)}return!1},t}(),wm=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=tl.UNAUTHENTICATED,this.clientId=bl.D(),this.Ff=function(){},this.g=new Kd,this.credentials.A(function(t){rl("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Ff(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,qh:100})]}})})},t.prototype.Of=function(t){var e=this;this.Ff=t,this.g.promise.then(function(){return e.Ff(e.user)})},t.prototype.Mf=function(){if(this.di.Ci)throw new hl(ll.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Kd;return this.di.Ni(function(){return Object(Go.b)(t,void 0,void 0,function(){var t,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.kf?[4,this.kf.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.$f?[4,this.$f.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=hp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function _m(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r=this;return Object(Go.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),rl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return Object(Go.b)(r,void 0,void 0,function(){return Object(Go.d)(this,function(t){switch(t.label){case 0:return[4,Mv(e.Ou,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.rc(function(){return t.terminate()}),t.$f=e,[2]}})})}function km(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,Om(t)];case 1:return n=i.sent(),rl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Of(function(n){return t.di.Mi(function(){return function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:return(n=cl(t)).di.Li(),rl("RemoteStore","RemoteStore received new credentials"),r=oy(n),n.Bu.add(3),[4,Xv(n)];case 1:return i.sent(),r&&n.Ku.set("Unknown"),[4,n.ku.s_(e)];case 2:return i.sent(),n.Bu.delete(3),[4,Zv(n)];case 3:return i.sent(),[2]}})})}(e.$h,n)})}),t.kf=e,[2]}})})}function Om(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(rl("FirestoreClient","Using default OfflineComponentProvider"),[4,_m(t,new Ug)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function Im(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return t.kf?[3,2]:(rl("FirestoreClient","Using default OnlineComponentProvider"),[4,km(t,new Fg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.kf]}})})}function Em(t){return Om(t).then(function(t){return t.persistence})}function Tm(t){return Om(t).then(function(t){return t.Ou})}function Cm(t){return Im(t).then(function(t){return t.$h})}function jm(t){return Im(t).then(function(t){return t.va})}function Sm(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return[4,Im(t)];case 1:return e=r.sent(),[2,((n=e.Lh).ta=Qy.bind(null,e.va),n.sa=Jy.bind(null,e.va),n)]}})})}function Am(t,e,n){var r=this;void 0===n&&(n={});var i=new Kd;return t.di.Ri(function(){return Object(Go.b)(r,void 0,void 0,function(){var r;return Object(Go.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qg({next:function(o){e.Ri(function(){return Ey(t,u)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new hl(ll.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new hl(ll.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),u=new Sy(sd(n.path),o,{includeMetadataChanges:!0,ha:!0});return Iy(t,u)},[4,Sm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}function xm(t,e,n){var r=this;void 0===n&&(n={});var i=new Kd;return t.di.Ri(function(){return Object(Go.b)(r,void 0,void 0,function(){var r;return Object(Go.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new qg({next:function(n){e.Ri(function(){return Ey(t,u)}),n.fromCache&&"server"===r.source?i.reject(new hl(ll.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),u=new Sy(n,o,{includeMetadataChanges:!0,ha:!0});return Iy(t,u)},[4,Sm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.di,e,n,i])]}})})}),i.promise}var Nm=function(){function t(t,e){this.q_=t,this.Lf=e,this.Bf=[],this.qf=!1,this.Uf=Xb(t)}return t.prototype.set=function(t,e,n){this.Qf();var r=Mm(t,this.q_),i=$m(r.W_,e,n),o=om(this.Uf,"WriteBatch.set",r.Q_,i,null!==r.W_,n);return this.Bf=this.Bf.concat(o.tf(r.Q_,Rf.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Qf();var o,u=Mm(t,this.q_);return e instanceof ub&&(e=e.o_),o="string"==typeof e||e instanceof bb?am(this.Uf,"WriteBatch.update",u.Q_,e,n,r):um(this.Uf,"WriteBatch.update",u.Q_,e),this.Bf=this.Bf.concat(o.tf(u.Q_,Rf.exists(!0))),this},t.prototype.delete=function(t){this.Qf();var e=Mm(t,this.q_);return this.Bf=this.Bf.concat(new Zf(e.Q_,Rf.on())),this},t.prototype.commit=function(){return this.Qf(),this.qf=!0,this.Bf.length>0?this.Lf(this.Bf):Promise.resolve()},t.prototype.Qf=function(){if(this.qf)throw new hl(ll.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Mm(t,e){if(t instanceof ub&&(t=t.o_),t.firestore!==e)throw new hl(ll.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).q_=e,r}return Object(Go.c)(e,t),e.prototype.get=function(e){var n=this,r=Mm(e,this.q_),i=new Cb(this.q_);return t.prototype.get.call(this,e).then(function(t){return new kb(n.q_,i,r.Q_,t.K_,new Hm(!1,!1),r.W_)})},e}(function(){function t(t,e){this.q_=t,this.Kf=e,this.Uf=Xb(t)}return t.prototype.get=function(t){var e=this,n=Mm(t,this.q_),r=new Yb(this.q_);return this.Kf.Vf([n.Q_]).then(function(t){if(!t||1!==t.length)return al();var i=t[0];if(i instanceof id)return new vb(e.q_,r,n.Q_,null,n.W_);if(i instanceof rd)return new vb(e.q_,r,i.key,i,n.W_);throw al()})},t.prototype.set=function(t,e,n){var r=Mm(t,this.q_),i=$m(r.W_,e,n),o=om(this.Uf,"Transaction.set",r.Q_,i,null!==r.W_,n);return this.Kf.set(r.Q_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,u=Mm(t,this.q_);return e instanceof ub&&(e=e.o_),o="string"==typeof e||e instanceof bb?am(this.Uf,"Transaction.update",u.Q_,e,n,r):um(this.Uf,"Transaction.update",u.Q_,e),this.Kf.update(u.Q_,o),this},t.prototype.delete=function(t){var e=Mm(t,this.q_);return this.Kf.delete(e.Q_),this},t}()),Lm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_b(t=Yg(t,mb));var n=Rm(t),r=t.b_(),i=new Fg;return wb(n,i,new Vg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_b(t=Yg(t,mb));var e=Rm(t),n=t.b_(),r=new Fg;return wb(e,r,new zg(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.g_&&!t.y_)throw new hl(ll.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Kd;return t.G_.Ni(function(){return Object(Go.b)(e,void 0,void 0,function(){var e;return Object(Go.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Go.b)(this,void 0,void 0,function(){return Object(Go.d)(this,function(e){switch(e.label){case 0:return Xd.Gs()?[4,Xd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Av(t.A_,t.T_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),Pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Wf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof $c||(i.jf=e),i}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"A_",{get:function(){return this.o_.A_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.v_()),t)).merge,this.o_.p_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.v_().host&&ol("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Go.b)(e,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return[4,Em(t)];case 1:return e=r.sent(),[4,Cm(t)];case 2:return n=r.sent(),[2,(e.oc(!0),function(t){var e=cl(t);return e.Bu.delete(0),Zv(e)}(n))]}})})})}(Rm(Yg(this.o_,mb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Go.b)(e,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return[4,Em(t)];case 1:return e=r.sent(),[4,Cm(t)];case 2:return n=r.sent(),[2,(e.oc(!1),function(t){return Object(Go.b)(this,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return(e=cl(t)).Bu.add(0),[4,Xv(e)];case 1:return n.sent(),e.Ku.set("Offline"),[2]}})})}(n))]}})})})}(Rm(Yg(this.o_,mb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Hg("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Wf.enableMultiTabIndexedDbPersistence(this):this.Wf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Wf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Kd;return t.di.Ri(function(){return Object(Go.b)(e,void 0,void 0,function(){var e;return Object(Go.d)(this,function(r){switch(r.label){case 0:return e=rg,[4,jm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Rm(Yg(this.o_,mb)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new qg(e);return t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){cl(t).Zu.add(e),e.next()},[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){cl(t).Zu.delete(e)},[4,Sm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Rm(t=Yg(t,mb)),Hd(e)?e:{next:e})}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.jf)throw new hl(ll.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.jf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Zm(this,Wb(this.o_,t))}catch(t){throw qm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fm(this,Qb(this.o_,t))}catch(t){throw qm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Qm(this,function(t,e){if(t=Yg(t,cb),Kg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Mb(t,null,function(t){return new ud(El.X(),t)}(e))}(this.o_,t))}catch(t){throw qm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Kd;return t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var n;return Object(Go.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Im(t).then(function(t){return t.Mu})}(t)];case 1:return n=i.sent(),new mm(t.di,n,e,r).run(),[2]}})})}),r.promise}(Rm(t),function(n){return e(new Dm(t,n))})}(this.o_,function(n){return t(new Vm(e,n))})},e.prototype.batch=function(){var t=this;return Rm(this.o_),new zm(new Nm(this.o_,function(e){return Ab(t.o_,e)}))},e}(ub);function Rm(t){return t.z_||Um(t),t.z_.Mf(),t.z_}function Um(t){var e=t.b_(),n=function(t,e,n){return new Xc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.A_,t.T_,e);t.z_=new wm(t.R_,t.G_,n)}var Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Go.c)(e,t),e.prototype.get=function(t){var e=this,n=Xm(t);return this.o_.get(n).then(function(t){return new Gm(e.q_,t)})},e.prototype.set=function(t,e,n){var r=Xm(t);return n?(Bg("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=Xm(t);return 2===arguments.length?this.o_.update(u,e):(r=this.o_).update.apply(r,Object(Go.g)([u,e,n],i)),this},e.prototype.delete=function(t){var e=Xm(t);return this.o_.delete(e),this},e}(ub),zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.set=function(t,e,n){var r=Xm(t);return n?(Bg("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var u=Xm(t);return 2===arguments.length?this.o_.update(u,e):(r=this.o_).update.apply(r,Object(Go.g)([u,e,n],i)),this},e.prototype.delete=function(t){var e=Xm(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(ub),Fm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new pb(e),r}return Object(Go.c)(e,t),e.Gf=function(t,n,r){if(t.length%2!=0)throw new hl(ll.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new Nb(n.o_,r,new jl(t)))},e.B_=function(t,n,r){return new e(n,new Nb(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zm(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Zm(this.firestore,Wb(this.o_,t))}catch(t){throw qm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ub&&(t=t.o_),t instanceof Nb&&Jb(this.o_,t)},e.prototype.set=function(t,e){e=Bg("DocumentReference.set",e);try{return function(t,e,n){t=Yg(t,Nb);var r=Yg(t.firestore,mb),i=$m(t.W_,e,n);return Ab(r,om(Xb(r),"setDoc",t.Q_,i,null!==t.W_,n).tf(t.Q_,Rf.on()))}(this.o_,t,e)}catch(t){throw qm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?jb(this.o_,t):jb.apply(void 0,Object(Go.g)([this.o_,t,e],n))}catch(t){throw qm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ab(Yg((t=this.o_).firestore,mb),[new Zf(t.Q_,Rf.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Km(e),i=Bm(e,function(e){return new Gm(t.firestore,new kb(t.firestore.o_,t.U_,e.Q_,e.K_,e.metadata,t.o_.W_))});return Sb(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yg(t,Nb);var e=Yg(t.firestore,mb),n=Rm(e),r=new Cb(e);return function(t,e){var n=this,r=new Kd;return t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var n;return Object(Go.d)(this,function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(t,e){var n=cl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Bc.cs(t,e)})}(t,e)];case 1:return(r=u.sent())instanceof rd?n.resolve(r):r instanceof id?n.resolve(null):n.reject(new hl(ll.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=u.sent(),o=hp(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})}),[4,Tm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Q_).then(function(n){return new kb(e,r,t.Q_,n,new Hm(n instanceof rd&&n.an,!0),t.W_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Yg(t,Nb);var e=Yg(t.firestore,mb);return Am(Rm(e),t.Q_,{source:"server"}).then(function(n){return xb(e,t,n)})}(this.o_):function(t){t=Yg(t,Nb);var e=Yg(t.firestore,mb);return Am(Rm(e),t.Q_).then(function(n){return xb(e,t,n)})}(this.o_)).then(function(t){return new Gm(e.firestore,new kb(e.firestore.o_,e.U_,t.Q_,t.K_,t.metadata,e.o_.W_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ub);function qm(t,e,n){return t.message=t.message.replace(e,n),t}function Km(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Hd(r))return r}return{}}function Bm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Hd(t[0])?t[0]:Hd(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Hm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Gm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Fm(this.q_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return Tb(this.o_,t.o_)},e}(ub),Wm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Gm),Qm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.U_=new pb(e),r}return Object(Go.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Lb(this.o_,function(t,e,n){var r=e,i=gb("where",t);return new Pb(i,r,n)}(t,n,r)))}catch(t){throw qm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Lb(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=gb("orderBy",t);return new Rb(r,n)}(t,n)))}catch(t){throw qm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Lb(this.o_,function(t){return Jg("limit",t),new Ub("limit",t,"F")}(t)))}catch(t){throw qm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Lb(this.o_,function(t){return Jg("limitToLast",t),new Ub("limitToLast",t,"L")}(t)))}catch(t){throw qm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw qm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vb("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw qm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw qm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Lb(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zb("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw qm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Zb(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Yg(t,Mb);var e=Yg(t.firestore,mb),n=Rm(e),r=new Cb(e);return function(t,e){var n=this,r=new Kd;return t.di.Ri(function(){return Object(Go.b)(n,void 0,void 0,function(){var n;return Object(Go.d)(this,function(i){switch(i.label){case 0:return n=function(t){function e(e,n,r){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o,u,a,s;return Object(Go.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,zv(t,e,!0)];case 1:return r=c.sent(),i=new By(e,r.Kc),o=i.bh(r.documents),u=i.Zn(o,!1),n.resolve(u.snapshot),[3,3];case 2:return a=c.sent(),s=hp(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})}),[4,Tm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.Z_).then(function(n){return new Ib(e,r,t,n)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){t=Yg(t,Mb);var e=Yg(t.firestore,mb),n=Rm(e),r=new Cb(e);return xm(n,t.Z_,{source:"server"}).then(function(n){return new Ib(e,r,t,n)})}(this.o_):function(t){t=Yg(t,Mb);var e=Yg(t.firestore,mb),n=Rm(e),r=new Cb(e);return Hb(t.Z_),xm(n,t.Z_).then(function(n){return new Ib(e,r,t,n)})}(this.o_)).then(function(t){return new Jm(e.firestore,new Ib(e.firestore.o_,e.U_,e.o_,t.J_))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Km(e),i=Bm(e,function(e){return new Jm(t.firestore,new Ib(t.firestore.o_,t.U_,t.o_,e.J_))});return Sb(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(ub),Ym=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Wm(this.q_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(ub),Jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).q_=e,r}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Qm(this.q_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new Wm(t.q_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new Ym(e.q_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new Wm(n.q_,r))})},e.prototype.isEqual=function(t){return Tb(this.o_,t.o_)},e}(ub),Zm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Go.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Fm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Fm(this.firestore,void 0===t?Qb(this.o_):Qb(this.o_,t))}catch(t){throw qm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Yg(t.firestore,mb),r=Qb(t),i=$m(t.W_,e);return Ab(n,om(Xb(t.firestore),"addDoc",r.Q_,i,null!==t.W_,{}).tf(r.Q_,Rf.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new Fm(e.firestore,t)})},e.prototype.isEqual=function(t){return Jb(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Qm);function Xm(t){return t instanceof ub&&(t=t.o_),Yg(t,Nb)}function $m(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tw,ew=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(bb.bind.apply(bb,Object(Go.g)([void 0],e))))||this}return Object(Go.c)(e,t),e.documentId=function(){return new e(Cl.et().J())},e.prototype.isEqual=function(t){return t instanceof ub&&(t=t.o_),t instanceof bb&&this.o_.j_.isEqual(t.j_)},e}(ub),nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.c)(e,t),e.serverTimestamp=function(){var t=new tb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Xg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nb("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new rb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(ub),rw={Firestore:Pm,GeoPoint:ib,Timestamp:kl,Blob:fb,Transaction:Vm,WriteBatch:zm,DocumentReference:Fm,DocumentSnapshot:Gm,Query:Qm,QueryDocumentSnapshot:Wm,QuerySnapshot:Jm,CollectionReference:Zm,FieldPath:ew,FieldValue:nw,setLogLevel:function(t){el.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function iw(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo.b;return new ae.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function ow(t,e){return iw(t,e).pipe(Object(ye.a)(function(t){return{payload:t,type:"query"}}))}function uw(t,n){return ow(t,n).pipe(qe(void 0),zo(),Object(ye.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),u=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||u.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),u}))}function aw(t,e,n){return uw(t,n).pipe(Ke(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return sw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return sw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),function(t){return t.lift(new Ko(void 0,void 0))},Object(ye.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function sw(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r.splice.apply(r,[e,n].concat(o)),r}function cw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Zc.a("firestore",function(t){return function(t,e){return new Pm(t,new mb(t,e),new Lm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},rw)))})(tw=Wo.a),tw.registerVersion("@firebase/firestore","2.0.5");var lw=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=uw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(qe(void 0),zo(),me(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(ye.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ke(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=cw(t);return aw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new hw(this.ref.doc(t),this.afs)}}]),n}(),hw=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=gw(this.ref.collection(t),e),r=n.ref,i=n.query;return new lw(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return iw(this.ref,this.afs.schedulers.outsideAngular).pipe(qe(void 0),zo(),Object(ye.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(ye.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Zt.a)(this.ref.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}}]),n}(),fw=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?uw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),me(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):uw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Ke(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=cw(t);return aw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ow(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Zt.a)(this.query.get(t)).pipe(Object(so.b)(this.afs.schedulers.insideAngular))}}]),e}(),dw=new a.q("angularfire2.enableFirestorePersistence"),pw=new a.q("angularfire2.firestore.persistenceSettings"),vw=new a.q("angularfire2.firestore.settings"),yw=new a.q("angularfire2.firestore.use-emulator");function gw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var bw,mw,ww=((mw=function(){function t(n,r,o,u,a,s,c,l,h){f(this,t),this.schedulers=new bo.d(s),this.keepUnstableUntilFirst=Object(bo.h)(this.schedulers);var d=Object(bo.g)(n,s,r);!Ho.a.auth&&h&&Object(bo.j)();var p=l,v=e(Object(bo.f)(d.name+".firestore","AngularFirestore",d,function(){var t=s.runOutsideAngular(function(){return d.firestore()});return u&&t.settings(u),p&&t.useEmulator.apply(t,i(p)),o&&!ct(a)?[t,s.runOutsideAngular(function(){try{return Object(Zt.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(Jt.a)(!1)}})]:[t,Object(Jt.a)(!1)]},[u,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=gw("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new lw(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new fw(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new hw(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||mw)(a.Pb(bo.c),a.Pb(bo.b,8),a.Pb(dw,8),a.Pb(vw,8),a.Pb(a.B),a.Pb(a.z),a.Pb(pw,8),a.Pb(yw,8),a.Pb(mo,8))},mw.\u0275prov=Object(a.Eb)({factory:function(){return new mw(Object(a.Pb)(bo.c),Object(a.Pb)(bo.b,8),Object(a.Pb)(dw,8),Object(a.Pb)(vw,8),Object(a.Pb)(a.B),Object(a.Pb)(a.z),Object(a.Pb)(pw,8),Object(a.Pb)(yw,8),Object(a.Pb)(mo,8))},token:mw,providedIn:"any"}),mw),_w=((bw=function(){function t(){f(this,t)}return p(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:dw,useValue:!0},{provide:pw,useValue:e}]}}}]),t}()).\u0275mod=a.Gb({type:bw}),bw.\u0275inj=a.Fb({factory:function(t){return new(t||bw)},providers:[ww]}),bw),kw=function(){function t(e,n){f(this,t),this.dueTime=e,this.scheduler=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Ow(t,this.dueTime,this.scheduler))}}]),t}(),Ow=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return p(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Iw,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(re.a);function Iw(t){t.debouncedNext()}var Ew=function(t){function e(n,r){var i=t.call(this,Tw(n),"Firebase Storage: "+r+" ("+Tw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Go.c)(e,t),e.prototype.codeEquals=function(t){return Tw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Yo.c);function Tw(t){return"storage/"+t}function Cw(){return new Ew("unknown","An unknown error occurred, please check the error payload for server response.")}function jw(){return new Ew("canceled","User canceled the upload/download.")}function Sw(){return new Ew("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Aw(t){return new Ew("invalid-argument",t)}function xw(){return new Ew("app-deleted","The Firebase app was deleted.")}function Nw(t){return new Ew("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mw(t,e){return new Ew("invalid-format","String does not match format '"+t+"': "+e)}function Dw(t){throw new Ew("internal-error","Internal error: "+t)}var Lw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Pw=function(t,e){this.data=t,this.contentType=e||null};function Rw(t,e){switch(t){case Lw.RAW:return new Pw(Uw(e));case Lw.BASE64:case Lw.BASE64URL:return new Pw(Vw(t,e));case Lw.DATA_URL:return new Pw((n=new zw(e)).base64?Vw(Lw.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Mw(Lw.DATA_URL,"Malformed data URL.")}return Uw(e)}(n.rest),new zw(e).contentType)}var n;throw Cw()}function Uw(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Vw(t,e){switch(t){case Lw.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Mw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Lw.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Mw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var u;try{u=atob(e)}catch(c){throw Mw(t,"Invalid character found")}for(var a=new Uint8Array(u.length),s=0;s<u.length;s++)a[s]=u.charCodeAt(s);return a}var zw=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Mw(Lw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Fw={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qw(t){switch(t){case"running":case"pausing":case"canceling":return Fw.RUNNING;case"paused":return Fw.PAUSED;case"success":return Fw.SUCCESS;case"canceled":return Fw.CANCELED;case"error":default:return Fw.ERROR}}var Kw=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Bw=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Kw.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Kw.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Kw.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Dw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Dw("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Dw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Dw("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Hw=function(){function t(){}return t.prototype.createXhrIo=function(){return new Bw},t}();function Gw(t){return"string"==typeof t||t instanceof String}function Ww(t){return Qw()&&t instanceof Blob}function Qw(){return"undefined"!=typeof Blob}function Yw(t,e,n,r){if(r<e)throw new Ew("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Ew("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function Jw(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Zw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Jw();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Qw())return new Blob(t);throw new Ew("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Xw=function(){function t(t,e){var n=0,r="";Ww(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Ww(this.data_)){var r=(o=e,u=n,(i=this.data_).webkitSlice?i.webkitSlice(o,u):i.mozSlice?i.mozSlice(o,u):i.slice?i.slice(o,u):null);return null===r?null:new t(r)}var i,o,u;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Qw()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Zw.apply(null,r))}var i=e.map(function(t){return Gw(t)?Rw(Lw.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var u=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)u[a++]=t[e]}),new t(u,!0)},t.prototype.uploadData=function(){return this.data_},t}(),$w=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Ew("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),u=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<u.length;a++){var s=u[a],c=s.regex.exec(e);if(c){var l=c[s.indices.path];l||(l=""),n=new t(c[s.indices.bucket],l),s.postModify(n);break}}if(null==n)throw function(t){return new Ew("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function t_(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function e_(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function n_(t){return"https://firebasestorage.googleapis.com/v0"+t}function r_(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function i_(t,e){return e}var o_=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||i_},u_=null;function a_(){if(u_)return u_;var t=[];t.push(new o_("bucket")),t.push(new o_("generation")),t.push(new o_("metageneration")),t.push(new o_("name","fullPath",!0));var e=new o_("name");e.xform=function(t,e){return function(t){return!Gw(t)||t.length<2?t:e_(t)}(e)},t.push(e);var n=new o_("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new o_("timeCreated")),t.push(new o_("updated")),t.push(new o_("md5Hash",null,!0)),t.push(new o_("cacheControl",null,!0)),t.push(new o_("contentDisposition",null,!0)),t.push(new o_("contentEncoding",null,!0)),t.push(new o_("contentLanguage",null,!0)),t.push(new o_("contentType",null,!0)),t.push(new o_("metadata","customMetadata",!0)),u_=t}function s_(t,e,n){var r=t_(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var u=n[o];r[u.local]=u.xform(r,e[u.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new $w(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function c_(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var l_=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function h_(t){if(!t)throw Cw()}function f_(t,e){return function(n,r){var i=s_(t,r,e);return h_(null!==i),i}}function d_(t){return function(e,n){var r;return(r=401===e.getStatus()?new Ew("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Ew("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Ew("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function p_(t){var e=d_(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Ew("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function v_(t,e,n){var r=n_(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new l_(r,"GET",f_(t,n),i);return o.errorHandler=p_(e),o}function y_(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var g_=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function b_(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){h_(!1)}return h_(!!n&&-1!==(e||["active"]).indexOf(n)),n}var m_=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}},w_=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function __(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var k_=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=a_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),u=y_(e,r,i),a={name:u.fullPath},s=n_(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},l=c_(u,n),h=new l_(s,"POST",function(t){var e;b_(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){h_(!1)}return h_(Gw(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=d_(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new l_(n,"POST",function(t){var e=b_(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){h_(!1)}n||h_(!1);var i=Number(n);return h_(!isNaN(i)),new g_(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=d_(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new g_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,u,a){var s=new g_(0,0);if(u?(s.current=u.current,s.total=u.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new Ew("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var h=s.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":s.current},d=r.slice(h,h+l);if(null===d)throw Sw();var p=new l_(n,"POST",function(t,n){var i,u=b_(t,["active","final"]),a=s.current+l,c=r.size();return i="final"===u?f_(e,o)(t,n):null,new g_(a,c,"final"===u,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=d_(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(a){return t._error=a,void t._transition("error")}var u=t._ref.storage.makeRequest(o,i);t._request=u,u.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=v_(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();u["Content-Type"]="multipart/related; boundary="+a;var s=y_(e,r,i),c=c_(s,n),l=Xw.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Sw();var h={name:s.fullPath},f=n_(o),d=t.maxUploadRetryTime,p=new l_(f,"POST",f_(t,n),d);return p.urlParams=h,p.headers=u,p.body=l.uploadData(),p.errorHandler=d_(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=jw(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=qw(this._state);return new w_(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new m_(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(qw(this._state)){case Fw.SUCCESS:__(this._resolve.bind(null,this.snapshot))();break;case Fw.CANCELED:case Fw.ERROR:__(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(qw(this._state)){case Fw.RUNNING:case Fw.PAUSED:t.next&&__(t.next.bind(t,this.snapshot))();break;case Fw.SUCCESS:t.complete&&__(t.complete.bind(t))();break;case Fw.CANCELED:case Fw.ERROR:t.error&&__(t.error.bind(t,this._error))();break;default:t.error&&__(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),O_=function(){function t(t,e){this._service=t,this._location=e instanceof $w?e:$w.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new $w(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return e_(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new $w(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Nw(t)},t}();function I_(t){var e={prefixes:[],items:[]};return E_(t,e).then(function(){return e})}function E_(t,e,n){return Object(Go.b)(this,void 0,void 0,function(){var r,i,o;return Object(Go.d)(this,function(u){switch(u.label){case 0:return[4,T_(t,{pageToken:n})];case 1:return r=u.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,E_(t,e,r.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function T_(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r,i;return Object(Go.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Yw("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var u=n_(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,s=new l_(u,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=t_(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var u=o[i].replace(/\/$/,""),a=t.makeStorageReference(new $w(e,u));r.prefixes.push(a)}if(n.items)for(var s=0,c=n.items;s<c.length;s++)a=t.makeStorageReference(new $w(e,c[s].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return h_(null!==i),i}}(t,e.bucket),a);return s.urlParams=o,s.errorHandler=d_(e),s}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function C_(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new $w(t._location.bucket,n);return new O_(t.storage,r)}var j_=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),S_=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new j_(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new j_(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new j_(t,i,i._ref))}:{next:e.next?function(t){return e.next(new j_(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),A_=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new x_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new x_(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),x_=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(C_(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new S_(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new k_(t,new Xw(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=Lw.RAW),this._throwIfRoot("putString"),new S_(function(t,e,n,r){void 0===n&&(n=Lw.RAW),t._throwIfRoot("putString");var i=Rw(n,e),o=Object(Go.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new k_(t,new Xw(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return I_(this._delegate).then(function(e){return new A_(e,t.storage)})},t.prototype.list=function(t){var e=this;return T_(this._delegate,t).then(function(t){return new A_(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=v_(t.storage,t._location,a_()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Go.b)(this,void 0,void 0,function(){var n,r;return Object(Go.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=n_(e.fullServerUrl()),o=c_(n,r),u=t.maxOperationRetryTime,a=new l_(i,"PATCH",f_(t,r),u);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=p_(e),a}(t.storage,t._location,e,a_()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=n_(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new l_(r,"GET",function(t,e){return function(n,r){var i=s_(t,r,e);return h_(null!==i),function(t,e){var n=t_(e);if(null===n)return null;if(!Gw(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return n_("/b/"+i(t.bucket)+"/o/"+i(n))+r_({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=p_(e),o}(t.storage,t._location,a_()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Ew("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Go.b)(this,void 0,void 0,function(){var e,n;return Object(Go.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=n_(e.fullServerUrl()),r=new l_(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=p_(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Nw(t)},t}(),N_=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),M_=function(){function t(t,e,n,r,i,o,u,a,s,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=u,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=s,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,u=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(u,u.getResponseText());void 0!==a?i(a):i()}catch(s){o(s)}else null!==u?((r=Cw()).serverResponse=u.getResponseText(),o(t.errorCallback_?t.errorCallback_(u,r):r)):o(r=n.canceled?t.appDelete_?xw():jw():new Ew("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new D_(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,u=!1,a=0;function s(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new D_(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Kw.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var u=-1!==t.successCodes_.indexOf(o);e(!0,new D_(u,n))}else{var a=n.getErrorCode()===Kw.ABORT;e(!1,new D_(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,s())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Go.g)([null,t],e));else{var r;s()||u?l.call.apply(l,Object(Go.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){u=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),D_=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function L_(t){return/^[A-Za-z]+:\/\//.test(t)}function P_(t,e){if(t instanceof z_){var n=t;if(null==n._bucket)throw new Ew("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new O_(n,n._bucket);return null!=e?P_(r,e):r}if(void 0!==e){if(e.includes(".."))throw Aw('`path` param cannot contain ".."');return C_(t,e)}return t}function R_(t,e){if(e&&L_(e)){if(t instanceof z_)return new O_(t,e);throw Aw("To use ref(service, url), the first argument must be a Storage instance.")}return P_(t,e)}var U_,V_,z_=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?$w.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:$w.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Yw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Yw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Go.b)(this,void 0,void 0,function(){var t,e;return Object(Go.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new O_(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new N_(xw());var r=function(t,e,n,r){var i=r_(t.urlParams),o=t.url+i,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Wo.a?Wo.a.SDK_VERSION:"AppManager")}(u),new M_(o,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),F_=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(L_(t))throw Aw("ref() expected a child path but got a URL, use refFromURL instead.");return new x_(R_(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!L_(t))throw Aw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$w.makeFromUrl(t)}catch(e){throw Aw("refFromUrl() expected a valid full URL but got an invalid one.")}return new x_(R_(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function q_(t){var e=function(t){return new ae.a(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),e.complete()},function(r){n(t.snapshot),function(t){e.error(t)}(r)}),function(){r()}}).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo.a;return function(n){return n.lift(new kw(t,e))}}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(Object(ye.a)(function(t){return t.bytesTransferred/t.totalBytes*100}))}}}function K_(t,e,n){return{getDownloadURL:function(){return Object(Jt.a)(void 0).pipe(Object(so.b)(e.outsideAngular),Le(function(){return t.getDownloadURL()}),n)},getMetadata:function(){return Object(Jt.a)(void 0).pipe(Object(so.b)(e.outsideAngular),Le(function(){return t.getMetadata()}),n)},delete:function(){return Object(Zt.a)(t.delete())},child:function(r){return K_(t.child(r),e,n)},updateMetadata:function(e){return Object(Zt.a)(t.updateMetadata(e))},put:function(e,n){return q_(t.put(e,n))},putString:function(e,n,r){return q_(t.putString(e,n,r))},listAll:function(){return Object(Zt.a)(t.listAll())}}}V_={TaskState:Fw,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Lw,Storage:z_,Reference:x_},(U_=Wo.a).INTERNAL.registerComponent(new Zc.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new F_(n,new z_(n,r,new Hw,e))},"PUBLIC").setServiceProps(V_).setMultipleInstances(!0)),U_.registerVersion("@firebase/storage","0.4.2");var B_,H_,G_,W_,Q_=new a.q("angularfire2.storageBucket"),Y_=new a.q("angularfire2.storage.maxUploadRetryTime"),J_=new a.q("angularfire2.storage.maxOperationRetryTime"),Z_=((W_=function(){function t(e,n,r,i,o,u,a){f(this,t),this.schedulers=new bo.d(o),this.keepUnstableUntilFirst=Object(bo.h)(this.schedulers);var s=Object(bo.g)(e,o,n);this.storage=Object(bo.f)("".concat(s.name,".storage.").concat(r),"AngularFireStorage",s,function(){var t=o.runOutsideAngular(function(){return s.storage(r||void 0)});return u&&t.setMaxUploadRetryTime(u),a&&t.setMaxOperationRetryTime(a),t},[u,a])}return p(t,[{key:"ref",value:function(t){return K_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"refFromURL",value:function(t){return K_(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return K_(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||W_)(a.Pb(bo.c),a.Pb(bo.b,8),a.Pb(Q_,8),a.Pb(a.B),a.Pb(a.z),a.Pb(Y_,8),a.Pb(J_,8))},W_.\u0275prov=Object(a.Eb)({factory:function(){return new W_(Object(a.Pb)(bo.c),Object(a.Pb)(bo.b,8),Object(a.Pb)(Q_,8),Object(a.Pb)(a.B),Object(a.Pb)(a.z),Object(a.Pb)(Y_,8),Object(a.Pb)(J_,8))},token:W_,providedIn:"any"}),W_),X_=((G_=function t(){f(this,t)}).\u0275mod=a.Gb({type:G_}),G_.\u0275inj=a.Fb({factory:function(t){return new(t||G_)}}),G_),$_=((H_=function t(){f(this,t)}).\u0275mod=a.Gb({type:H_}),H_.\u0275inj=a.Fb({factory:function(t){return new(t||H_)},providers:[Z_],imports:[X_]}),H_),tk=((B_=function(){function t(e,n){f(this,t),this.afstore=e,this.afstorage=n,this.carCollection=this.afstore.collection("cars")}return p(t,[{key:"getPosts",value:function(t){return this.carCollection=this.afstore.collection("/cars",function(e){return e.where("id","==",t)})}},{key:"getAll",value:function(){return this.carCollection=this.afstore.collection("/cars")}},{key:"create",value:function(t){return this.carCollection.add(t).catch(function(t){return console.log(t)})}},{key:"upLoadImg",value:function(t,e){return Uo(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!e.length){n.next=10;break}return n.prev=1,n.next=4,this.afstorage.ref("/images").child(t).put(e[0]);case 4:return n.abrupt("return",this.afstorage.ref("images/"+t).getDownloadURL().toPromise());case 7:n.prev=7,n.t0=n.catch(1),console.log(n.t0);case 10:case"end":return n.stop()}},n,this,[[1,7]])}))}}]),t}()).\u0275fac=function(t){return new(t||B_)(a.Pb(ww),a.Pb(Z_))},B_.\u0275prov=a.Eb({token:B_,factory:B_.\u0275fac,providedIn:"root"}),B_);function ek(t,e){if(1&t&&(a.Lb(0,"div",1),a.Lb(1,"div",2),a.Lb(2,"div",3),a.Lb(3,"h1"),a.lc(4),a.Kb(),a.Kb(),a.Lb(5,"div",4),a.Jb(6,"br"),a.Lb(7,"div",5),a.Jb(8,"img",6),a.Kb(),a.Lb(9,"div",5),a.Lb(10,"div",4),a.Lb(11,"div",7),a.Lb(12,"h2"),a.lc(13),a.Kb(),a.Kb(),a.Lb(14,"div",8),a.Vb(),a.Lb(15,"svg",9),a.Jb(16,"path",10),a.Jb(17,"path",11),a.Kb(),a.Kb(),a.Kb(),a.Ub(),a.Lb(18,"div",4),a.Lb(19,"h3"),a.lc(20),a.Kb(),a.Kb(),a.Jb(21,"br"),a.Lb(22,"div",4),a.Lb(23,"div",5),a.Lb(24,"div",4),a.Lb(25,"div",12),a.Vb(),a.Lb(26,"svg",13),a.Jb(27,"path",14),a.Kb(),a.Kb(),a.Ub(),a.Lb(28,"div",7),a.Lb(29,"p"),a.lc(30),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(31,"div",5),a.Lb(32,"div",4),a.Lb(33,"div",8),a.Vb(),a.Lb(34,"svg",15),a.Jb(35,"path",16),a.Jb(36,"path",17),a.Jb(37,"path",18),a.Kb(),a.Kb(),a.Ub(),a.Lb(38,"div",7),a.Lb(39,"p"),a.lc(40),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(41,"div",4),a.Lb(42,"div",5),a.Lb(43,"div",4),a.Lb(44,"div",8),a.Vb(),a.Lb(45,"svg",19),a.Jb(46,"path",20),a.Kb(),a.Kb(),a.Ub(),a.Lb(47,"div",7),a.Lb(48,"p"),a.lc(49),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(50,"div",5),a.Lb(51,"div",4),a.Lb(52,"div",8),a.Jb(53,"img",21),a.Kb(),a.Lb(54,"div",7),a.Jb(55,"div"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(56,"div",4),a.Lb(57,"div",22),a.lc(58,"Advert goes here"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Jb(59,"br"),a.Lb(60,"div",23),a.Lb(61,"div",24),a.Lb(62,"h4",25),a.lc(63,"Description"),a.Kb(),a.Lb(64,"div",4),a.Lb(65,"div",26),a.Lb(66,"div",27),a.lc(67),a.Kb(),a.Lb(68,"div",27),a.lc(69),a.Kb(),a.Lb(70,"div",27),a.lc(71),a.Kb(),a.Lb(72,"div",27),a.lc(73,"Color: "),a.Jb(74,"small",28),a.Kb(),a.Kb(),a.Lb(75,"div",26),a.Lb(76,"div",27),a.lc(77),a.Kb(),a.Lb(78,"div",27),a.lc(79),a.Kb(),a.Lb(80,"div",27),a.lc(81),a.Kb(),a.Lb(82,"div",27),a.lc(83),a.Kb(),a.Kb(),a.Lb(84,"div",29),a.lc(85),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&t){var n=e.ngIf;a.yb(4),a.oc("",n.make," ",n.model,""),a.yb(4),a.ac("src",n.picture,a.gc),a.yb(5),a.mc(n.description.price),a.yb(7),a.mc(n.model),a.yb(10),a.mc(n.phone),a.yb(10),a.mc(n.description.priceType),a.yb(9),a.mc(n.description.engine),a.yb(6),a.ic("width: 25%; height: 100%; background-color: ",n.description.color,";"),a.yb(12),a.nc("Price: ",n.description.price,""),a.yb(2),a.nc("Condition: ",n.description.condition,""),a.yb(2),a.nc("Body: ",n.description.body,""),a.yb(6),a.nc("Engine: ",n.description.engine,""),a.yb(2),a.nc("Type: ",n.description.priceType,""),a.yb(2),a.nc("Transmission: ",n.description.transsmission,""),a.yb(2),a.nc("Location: ",n.description.location,""),a.yb(2),a.nc("Year: ",n.year,"")}}var nk,rk=((nk=function(){function t(e,n){f(this,t),this.route=e,this.carService=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.carId=this.route.snapshot.params.cid,this.route.params.subscribe(function(e){t.carId=e.cid}),this.carData=this.getCarInfo(),console.log(this.carData)}},{key:"getCarInfo",value:function(){return this.carService.carCollection.doc(this.carId).valueChanges()}}]),t}()).\u0275fac=function(t){return new(t||nk)(a.Ib(sr),a.Ib(tk))},nk.\u0275cmp=a.Cb({type:nk,selectors:[["app-cardetail"]],decls:3,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container-fluid"],[1,"row","rounded","text-secondary"],[1,"row"],[1,"col-md"],["id","pic","alt","",1,"img-fluid",3,"src"],[1,"col"],[1,"col-3"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-tags-fill"],["fill-rule","evenodd","d","M3 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 7.586 1H3zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"],[1,"col-3","mx-0"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone-outbound-fill"],["fill-rule","evenodd","d","M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511zM11 .5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V1.707l-4.146 4.147a.5.5 0 0 1-.708-.708L14.293 1H11.5a.5.5 0 0 1-.5-.5z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-stack"],["d","M14 3H1a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1h-1z"],["fill-rule","evenodd","d","M15 5H1v8h14V5zM1 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H1z"],["d","M13 5a2 2 0 0 0 2 2V5h-2zM3 5a2 2 0 0 1-2 2V5h2zm10 8a2 2 0 0 1 2-2v2h-2zM3 13a2 2 0 0 0-2-2v2h2zm7-4a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-funnel-fill"],["fill-rule","evenodd","d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"],["src","./../../../../assets/color.png","width","30","height","30","alt",""],[1,"col-md","container"],[1,"row","card"],[1,"card-body"],[1,"card-title"],[1,"col-4"],[1,"card-text"],[2,"width","100%","height","100%","background-color","red"],[1,"col-4","card-text"]],template:function(t,e){1&t&&(a.Jb(0,"br"),a.jc(1,ek,86,19,"div",0),a.Xb(2,"async")),2&t&&(a.yb(1),a.Zb("ngIf",a.Yb(2,1,e.carData)))},directives:[$],pipes:[at],styles:["#pic[_ngcontent-%COMP%]{width:40rem;height:30rem}"]}),nk);function ik(t,e){if(1&t){var n=a.Mb();a.Lb(0,"form",3),a.Lb(1,"input",4,5),a.Sb("keyup",function(){a.fc(n);var t=a.ec(2);return a.Wb().filter(t.value)}),a.Kb(),a.Kb()}}var ok=function(t){return["/car",t]};function uk(t,e){if(1&t&&(a.Lb(0,"div",6),a.Lb(1,"div",7),a.Lb(2,"div",8),a.lc(3),a.Kb(),a.Lb(4,"div",9),a.Lb(5,"a",10),a.Lb(6,"div",11),a.Jb(7,"img",12),a.Kb(),a.Kb(),a.Lb(8,"div",11),a.Lb(9,"div",13),a.lc(10),a.Kb(),a.Lb(11,"div",13),a.Lb(12,"i",14),a.lc(13),a.Vb(),a.Lb(14,"svg",15),a.Jb(15,"path",16),a.Jb(16,"path",17),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Ub(),a.Lb(17,"div",11),a.Lb(18,"div",18),a.Vb(),a.Lb(19,"svg",19),a.Jb(20,"path",20),a.Kb(),a.lc(21),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&t){var n=e.$implicit;a.yb(3),a.nc(" ",n.model," "),a.yb(2),a.Zb("routerLink",a.cc(6,ok,n.cid)),a.yb(2),a.ac("src",n.picture,a.gc),a.yb(3),a.nc(" ",n.make," "),a.yb(3),a.nc(" ",n.description.price," "),a.yb(8),a.nc(" ",n.description.engine," ")}}var ak,sk,ck,lk=((ak=function(){function t(e,n){f(this,t),this.carService=e,this.route=n}return p(t,[{key:"ngOnInit",value:function(){this.getCars(),this.check()}},{key:"check",value:function(){var t;return this.route.events.subscribe(function(t){}),t=this.route.url,this.showSearch="/list"==t}},{key:"filter",value:function(t){console.log(t),this.cars=t?this.cars.filter(function(e){return e.model.toLowerCase().includes(t.toLowerCase())}):this.cars=this.filterdCars}},{key:"getCars",value:function(){var t=this;return this.carService.getAll().snapshotChanges().subscribe(function(e){return t.filterdCars=t.cars=e.map(function(t){return Object.assign({cid:t.payload.doc.id},t.payload.doc.data())})})}},{key:"carDetail",value:function(t,e){this.route.navigate([t,e])}}]),t}()).\u0275fac=function(t){return new(t||ak)(a.Ib(tk),a.Ib(Ai))},ak.\u0275cmp=a.Cb({type:ak,selectors:[["app-carlist"]],decls:6,vars:2,consts:[["class","form-group ",4,"ngIf"],[1,"row"],["class","card col-md-4 p-1",4,"ngFor","ngForOf"],[1,"form-group"],["type","text","placeholder","Search","aria-label","Search",1,"form-control",3,"keyup"],["query",""],[1,"card","col-md-4","p-1"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"routerLink"],[1,"form-group","row"],["alt","..",1,"card-img-top",3,"src"],[1,"col-6"],["aria-hidden","true",1,"fa","fa-align-left"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-tags-fill"],["fill-rule","evenodd","d","M3 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 7.586 1H3zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"],["d","M1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"],[1,"col-12"],["width","1em","height","1em","viewBox","0 0 16 16","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-funnel-fill"],["fill-rule","evenodd","d","M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"]],template:function(t,e){1&t&&(a.Jb(0,"br"),a.Jb(1,"br"),a.Lb(2,"div"),a.jc(3,ik,3,0,"form",0),a.Kb(),a.Lb(4,"div",1),a.jc(5,uk,22,8,"div",2),a.Kb()),2&t&&(a.yb(3),a.Zb("ngIf",e.check()),a.yb(2),a.Zb("ngForOf",e.cars))},directives:[$,Z,Ni],styles:[""]}),ak),hk=[{path:"list",component:lk},{path:"car/:cid",component:rk}],fk=((ck=function t(){f(this,t)}).\u0275mod=a.Gb({type:ck}),ck.\u0275inj=a.Fb({factory:function(t){return new(t||ck)},imports:[[st,Ji.forChild(hk)],Ji]}),ck),dk=((sk=function t(){f(this,t)}).\u0275mod=a.Gb({type:sk}),sk.\u0275inj=a.Fb({factory:function(t){return new(t||sk)},imports:[[st,fk]]}),sk),pk=o("XoHu");function vk(t,e){return new ae.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,u=0,a=function(a){var s=Object(Zt.a)(t[a]),c=!1;n.add(s.subscribe({next:function(t){c||(c=!0,u++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(u===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},s=0;s<r;s++)a(s);else n.complete()})}var yk,gk,bk=new a.q("NgValueAccessor"),mk={provide:bk,useExisting:Object(a.T)(function(){return wk}),multi:!0},wk=((yk=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||yk)(a.Ib(a.D),a.Ib(a.l))},yk.\u0275dir=a.Db({type:yk,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&a.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[a.xb([mk])]}),yk),_k={provide:bk,useExisting:Object(a.T)(function(){return Ok}),multi:!0},kk=new a.q("CompositionEventMode"),Ok=((gk=function(){function t(e,n,r){var i;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=l()?l().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||gk)(a.Ib(a.D),a.Ib(a.l),a.Ib(kk,8))},gk.\u0275dir=a.Db({type:gk,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&a.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[a.xb([_k])]}),gk);function Ik(t){return null==t||0===t.length}function Ek(t){return null!=t&&"number"==typeof t.length}var Tk=new a.q("NgValidators"),Ck=new a.q("NgAsyncValidators"),jk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sk=function(){function t(){f(this,t)}return p(t,null,[{key:"min",value:function(t){return function(e){if(Ik(e.value)||Ik(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Ik(e.value)||Ik(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Ik(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Ik(t.value)||jk.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return Ik(e.value)||!Ek(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return Ek(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Ik(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Ak);return 0==e.length?null:function(t){return Nk(Mk(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Ak);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(ne.a)(r))return vk(r,null);if(Object(pk.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var o=Object.keys(r);return vk(o.map(function(t){return r[t]}),o)}}if("function"==typeof e[e.length-1]){var u=e.pop();return vk(e=1===e.length&&Object(ne.a)(e[0])?e[0]:e,null).pipe(Object(ye.a)(function(t){return u.apply(void 0,i(t))}))}return vk(e,null)}(Mk(t,e).map(xk)).pipe(Object(ye.a)(Nk))}}}]),t}();function Ak(t){return null!=t}function xk(t){var e=Object(a.qb)(t)?Object(Zt.a)(t):t;return Object(a.pb)(e),e}function Nk(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mk(t,e){return e.map(function(e){return e(t)})}function Dk(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Lk(t){return null!=t?Sk.compose(Dk(t)):null}function Pk(t){return null!=t?Sk.composeAsync(Dk(t)):null}function Rk(t,e){return null===t?[e]:Array.isArray(t)?[].concat(i(t),[e]):[t,e]}var Uk,Vk,zk,Fk,qk,Kk,Bk,Hk,Gk=((Vk=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return p(t,[{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Lk(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pk(this._rawAsyncValidators)}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}}]),t}()).\u0275fac=function(t){return new(t||Vk)},Vk.\u0275dir=a.Db({type:Vk}),Vk),Wk=((Uk=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Gk)).\u0275fac=function(t){return Qk(t||Uk)},Uk.\u0275dir=a.Db({type:Uk,features:[a.vb]}),Uk),Qk=a.Nb(Wk),Yk=function(t){v(n,t);var e=g(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(Gk),Jk=function(){function t(e){f(this,t),this._cd=e}return p(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Zk=((Fk=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(Jk)).\u0275fac=function(t){return new(t||Fk)(a.Ib(Yk,2))},Fk.\u0275dir=a.Db({type:Fk,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&a.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[a.vb]}),Fk),Xk=((zk=function(t){v(n,t);var e=g(n);function n(t){return f(this,n),e.call(this,t)}return n}(Jk)).\u0275fac=function(t){return new(t||zk)(a.Ib(Wk,2))},zk.\u0275dir=a.Db({type:zk,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&a.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[a.vb]}),zk),$k={provide:bk,useExisting:Object(a.T)(function(){return tO}),multi:!0},tO=((qk=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||qk)(a.Ib(a.D),a.Ib(a.l))},qk.\u0275dir=a.Db({type:qk,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&a.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[a.xb([$k])]}),qk),eO={provide:bk,useExisting:Object(a.T)(function(){return rO}),multi:!0},nO=((Bk=function(){function t(){f(this,t),this._accessors=[]}return p(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Bk)},Bk.\u0275prov=a.Eb({token:Bk,factory:Bk.\u0275fac}),Bk),rO=((Kk=function(){function t(e,n,r,i){f(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return p(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Yk),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||Kk)(a.Ib(a.D),a.Ib(a.l),a.Ib(nO),a.Ib(a.r))},Kk.\u0275dir=a.Db({type:Kk,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&a.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[a.xb([eO])]}),Kk),iO={provide:bk,useExisting:Object(a.T)(function(){return oO}),multi:!0},oO=((Hk=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Hk)(a.Ib(a.D),a.Ib(a.l))},Hk.\u0275dir=a.Db({type:Hk,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&a.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[a.xb([iO])]}),Hk),uO={provide:bk,useExisting:Object(a.T)(function(){return lO}),multi:!0};function aO(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var sO,cO,lO=((cO=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return p(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=aO(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||cO)(a.Ib(a.D),a.Ib(a.l))},cO.\u0275dir=a.Db({type:cO,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&a.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.xb([uO])]}),cO),hO=((sO=function(){function t(e,n,r){f(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return p(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(aO(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}}]),t}()).\u0275fac=function(t){return new(t||sO)(a.Ib(a.l),a.Ib(a.D),a.Ib(lO,9))},sO.\u0275dir=a.Db({type:sO,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),sO),fO={provide:bk,useExisting:Object(a.T)(function(){return yO}),multi:!0};function dO(t,e){return null==t?""+e:("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var pO,vO,yO=((vO=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return p(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var u=i.item(o),a=e._getOptionValue(u.value);r.push(a)}else for(var s=n.options,c=0;c<s.length;c++){var l=s.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||vO)(a.Ib(a.D),a.Ib(a.l))},vO.\u0275dir=a.Db({type:vO,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&a.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[a.xb([fO])]}),vO),gO=((pO=function(){function t(e,n,r){f(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return p(t,[{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(dO(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(dO(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}}]),t}()).\u0275fac=function(t){return new(t||pO)(a.Ib(a.l),a.Ib(a.D),a.Ib(yO,9))},pO.\u0275dir=a.Db({type:pO,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),pO);function bO(t,e){wO(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_O(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_O(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function mO(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wO(t,e,n){var r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Rk(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Rk(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};mO(e._rawValidators,o),mO(e._rawAsyncValidators,o)}}function _O(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}var kO=[wk,oO,tO,lO,yO,rO];function OO(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function IO(t){return(jO(t)?t.validators:t)||null}function EO(t){return Array.isArray(t)?Lk(t):t||null}function TO(t,e){return(jO(e)?e.asyncValidators:t)||null}function CO(t){return Array.isArray(t)?Pk(t):t||null}function jO(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var SO,AO,xO,NO,MO,DO,LO,PO,RO,UO,VO,zO,FO=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=EO(this._rawValidators),this._composedAsyncValidatorFn=CO(this._rawAsyncValidators)}return p(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=EO(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=CO(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=xk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof KO?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof BO&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new a.n,this.statusChanges=new a.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){jO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),qO=function(t){v(n,t);var e=g(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,IO(i),TO(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return p(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){OO(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){OO(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(FO),KO=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,IO(r),TO(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof qO?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(FO),BO=function(t){v(n,t);var e=g(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,IO(r),TO(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof qO?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=u(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(FO),HO={provide:Wk,useExisting:Object(a.T)(function(){return WO})},GO=Promise.resolve(null),WO=((SO=function(t){v(n,t);var e=g(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new a.n,i.form=new KO({},Lk(t),Pk(r)),i}return p(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;GO.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),bO(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;GO.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),OO(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;GO.then(function(){var n=e._findContainer(t.path),r=new KO({});(function(t,e){wO(t,e,!1)})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;GO.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;GO.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Wk)).\u0275fac=function(t){return new(t||SO)(a.Ib(Tk,10),a.Ib(Ck,10))},SO.\u0275dir=a.Db({type:SO,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&a.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.xb([HO]),a.vb]}),SO),QO={provide:Yk,useExisting:Object(a.T)(function(){return JO})},YO=Promise.resolve(null),JO=((xO=function(t){v(n,t);var e=g(n);function n(t,r,i,o){var u;return f(this,n),(u=e.call(this)).control=new qO,u._registered=!1,u.update=new a.n,u._parent=t,u._setValidators(r),u._setAsyncValidators(i),u.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach(function(t){var e;t.constructor===Ok?n=t:(e=t,kO.some(function(t){return e.constructor===t})?r=t:i=t)}),i||r||n||null}(0,o),u}return p(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){bO(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;YO.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;YO.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}},{key:"path",get:function(){return this._parent?function(t,e){return[].concat(i(e.path),[t])}(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}}]),n}(Yk)).\u0275fac=function(t){return new(t||xO)(a.Ib(Wk,9),a.Ib(Tk,10),a.Ib(Ck,10),a.Ib(bk,10))},xO.\u0275dir=a.Db({type:xO,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.xb([QO]),a.vb,a.wb]}),xO),ZO=((AO=function t(){f(this,t)}).\u0275fac=function(t){return new(t||AO)},AO.\u0275dir=a.Db({type:AO,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),AO),XO={provide:Tk,useExisting:Object(a.T)(function(){return $O}),multi:!0},$O=((NO=function(){function t(){f(this,t),this._required=!1}return p(t,[{key:"validate",value:function(t){return this.required?Sk.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||NO)},NO.\u0275dir=a.Db({type:NO,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&a.zb("required",e.required?"":null)},inputs:{required:"required"},features:[a.xb([XO])]}),NO),tI={provide:Tk,useExisting:Object(a.T)(function(){return eI}),multi:!0},eI=((PO=function(){function t(){f(this,t),this._validator=Sk.nullValidator}return p(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=Sk.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||PO)},PO.\u0275dir=a.Db({type:PO,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&a.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[a.xb([tI]),a.wb]}),PO),nI=((LO=function t(){f(this,t)}).\u0275mod=a.Gb({type:LO}),LO.\u0275inj=a.Fb({factory:function(t){return new(t||LO)}}),LO),rI=((DO=function t(){f(this,t)}).\u0275mod=a.Gb({type:DO}),DO.\u0275inj=a.Fb({factory:function(t){return new(t||DO)},providers:[nO],imports:[nI]}),DO),iI=((MO=function t(){f(this,t)}).\u0275mod=a.Gb({type:MO}),MO.\u0275inj=a.Fb({factory:function(t){return new(t||MO)},imports:[[st,rI,Ji,bo.a.initializeApp(s)]]}),MO),oI=[{path:"",component:(UO=function(){function t(){f(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),UO.\u0275fac=function(t){return new(t||UO)},UO.\u0275cmp=a.Cb({type:UO,selectors:[["app-home"]],decls:37,vars:0,consts:[["id","carouselExampleCaptions","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleCaptions","data-slide-to","0",1,"active"],["data-target","#carouselExampleCaptions","data-slide-to","1"],["data-target","#carouselExampleCaptions","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://1.bp.blogspot.com/-5bRdQsAnDLA/VNom-qcXBZI/AAAAAAAAB_E/F7CnT93fWKk/s1600/200-Blue%2BClassic%2BCar%2BHD%2BWallpaperz.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://www.tutorialshubspot.com/wp-content/uploads/2017/05/CAR-6-1.jpg","alt","...",1,"d-block","w-100"],["type","button","routerLink","list",1,"btn","btn-primary"],["src","https://cdn.vox-cdn.com/thumbor/-EyfsFn0jwE5WpfPmymIuTdXkME=/1400x1050/filters:format(jpeg)/cdn.vox-cdn.com/uploads/chorus_asset/file/10228149/jbareham_180213_2301_0149.jpg","alt","...",1,"d-block","w-100"],["routerLink","signin","type","button","routerLink","login",1,"btn","btn-primary"],["href","#carouselExampleCaptions","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carouselExampleCaptions","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"container"]],template:function(t,e){1&t&&(a.Lb(0,"div",0),a.Lb(1,"ol",1),a.Jb(2,"li",2),a.Jb(3,"li",3),a.Jb(4,"li",4),a.Kb(),a.Lb(5,"div",5),a.Lb(6,"div",6),a.Jb(7,"img",7),a.Lb(8,"div",8),a.Lb(9,"h5"),a.lc(10,"Ride Shop"),a.Kb(),a.Lb(11,"p"),a.lc(12," online cars classified portal in Ethiopia. Buy, sell or rent cars online in Ethiopia. Mekina.net does not buy or sell cars, we are only an advertising platform. "),a.Kb(),a.Kb(),a.Kb(),a.Lb(13,"div",9),a.Jb(14,"img",10),a.Lb(15,"div",8),a.Lb(16,"h5"),a.lc(17,"You want to Buy or Rent car???"),a.Kb(),a.Lb(18,"button",11),a.lc(19,"Browse"),a.Kb(),a.Kb(),a.Kb(),a.Lb(20,"div",9),a.Jb(21,"img",12),a.Lb(22,"div",8),a.Lb(23,"h5"),a.lc(24,"You want to sell your Car?"),a.Kb(),a.Lb(25,"button",13),a.lc(26,"Sign in"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(27,"a",14),a.Jb(28,"span",15),a.Lb(29,"span",16),a.lc(30,"Previous"),a.Kb(),a.Kb(),a.Lb(31,"a",17),a.Jb(32,"span",18),a.Lb(33,"span",16),a.lc(34,"Next"),a.Kb(),a.Kb(),a.Kb(),a.Lb(35,"div",19),a.Jb(36,"app-carlist"),a.Kb())},directives:[xi,lk],styles:[".carousel-item[_ngcontent-%COMP%]{height:1400}"]}),UO)},{path:"**",component:(RO=function(){function t(){f(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),RO.\u0275fac=function(t){return new(t||RO)},RO.\u0275cmp=a.Cb({type:RO,selectors:[["app-page-notfound"]],decls:5,vars:0,template:function(t,e){1&t&&(a.Jb(0,"br"),a.Jb(1,"br"),a.Jb(2,"br"),a.Lb(3,"h1"),a.lc(4,"page-notfound works!"),a.Kb())},styles:[""]}),RO)}],uI=((zO=function t(){f(this,t)}).\u0275mod=a.Gb({type:zO}),zO.\u0275inj=a.Fb({factory:function(t){return new(t||zO)},imports:[[Ji.forRoot(oI)],Ji]}),zO),aI=((VO=function(){function t(e){var n=this;f(this,t),this.afAuth=e,this.signedIn$=new ae.a(function(t){n.afAuth.onAuthStateChanged(t)})}return p(t,[{key:"createUser",value:function(t){return this.afAuth.createUserWithEmailAndPassword(t.value.email,t.value.password)}},{key:"logViaGoogle",value:function(){return this.afAuth.signInWithPopup(new Ho.a.auth.GoogleAuthProvider)}},{key:"logViaFb",value:function(){return this.afAuth.signInWithPopup(new Ho.a.auth.FacebookAuthProvider)}},{key:"logInUser",value:function(t){return this.afAuth.signInWithEmailAndPassword(t.value.email,t.value.password)}},{key:"logOut",value:function(){return this.afAuth.signOut()}}]),t}()).\u0275fac=function(t){return new(t||VO)(a.Pb(Eo))},VO.\u0275prov=a.Eb({token:VO,factory:VO.\u0275fac,providedIn:"root"}),VO);function sI(t,e){1&t&&(a.Lb(0,"li",8),a.Lb(1,"a",14),a.lc(2,"Login"),a.Kb(),a.Kb())}var cI=function(t){return["/user",t]};function lI(t,e){if(1&t){var n=a.Mb();a.Lb(0,"li",15),a.Lb(1,"a",16),a.lc(2),a.Kb(),a.Lb(3,"div",17),a.Lb(4,"a",18),a.lc(5,"Dashbord"),a.Kb(),a.Jb(6,"div",19),a.Lb(7,"a",20),a.Sb("click",function(){return a.fc(n),a.Wb().logOut()}),a.lc(8,"Logout"),a.Kb(),a.Kb(),a.Kb()}if(2&t){var r=e.ngIf;a.yb(2),a.nc(" ",r.displayName||r.email," "),a.yb(2),a.Zb("routerLink",a.cc(2,cI,r.uid))}}var hI,fI,dI,pI=((dI=function(){function t(e,n){f(this,t),this.authService=e,this.router=n}return p(t,[{key:"ngOnInit",value:function(){}},{key:"logOut",value:function(){this.authService.logOut(),this.router.navigateByUrl("/login")}},{key:"search",value:function(){this.router.navigateByUrl("/list")}}]),t}()).\u0275fac=function(t){return new(t||dI)(a.Ib(aI),a.Ib(Ai))},dI.\u0275cmp=a.Cb({type:dI,selectors:[["app-header"]],decls:19,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-dark","fixed-top"],["routerLink","",1,"navbar-brand"],["id","logo","src","./../../../assets/logo.webp",1,"desktop"],["id","logo","src","./../../../assets/logofooter.webp",1,"phone"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["routerLinkActive","nav-item active"],["routerLink","/",1,"nav-link"],[1,"sr-only"],["buyer",""],["class","nav-item dropdown",4,"ngIf","ngIfElse"],[1,"btn","btn-outline-danger","my-2","my-sm-0",3,"click"],["routerLink","login",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"]],template:function(t,e){if(1&t&&(a.Lb(0,"nav",0),a.Lb(1,"a",1),a.Jb(2,"img",2),a.Jb(3,"img",3),a.Kb(),a.Lb(4,"button",4),a.Jb(5,"span",5),a.Kb(),a.Lb(6,"div",6),a.Lb(7,"ul",7),a.Lb(8,"li",8),a.Lb(9,"a",9),a.lc(10,"Home "),a.Lb(11,"span",10),a.lc(12,"(current)"),a.Kb(),a.Kb(),a.Kb(),a.jc(13,sI,3,0,"ng-template",null,11,a.kc),a.jc(15,lI,9,4,"li",12),a.Xb(16,"async"),a.Kb(),a.Lb(17,"button",13),a.Sb("click",function(){return e.search()}),a.lc(18," Search "),a.Kb(),a.Kb(),a.Kb()),2&t){var n=a.ec(14);a.yb(15),a.Zb("ngIf",a.Yb(16,2,e.authService.signedIn$))("ngIfElse",n)}},directives:[Ni,Ui,$],pipes:[at],styles:["@media (max-width:980px){.desktop[_ngcontent-%COMP%]{display:none}.phone[_ngcontent-%COMP%]{display:block}}@media (min-width:980px){.phone[_ngcontent-%COMP%]{display:none}.desktop[_ngcontent-%COMP%]{display:block}}"]}),dI),vI=((fI=function t(){f(this,t),this.title="RideShop"}).\u0275fac=function(t){return new(t||fI)},fI.\u0275cmp=a.Cb({type:fI,selectors:[["app-root"]],decls:5,vars:0,template:function(t,e){1&t&&(a.Jb(0,"app-header"),a.Jb(1,"br"),a.Jb(2,"br"),a.Jb(3,"br"),a.Jb(4,"router-outlet"))},directives:[pI,Vi],styles:[""]}),fI),yI=((hI=function(){function t(e,n,r){f(this,t),this.db=e,this.afAuth=n,this.authService=r,this.userCollection=this.db.collection("users"),this.fb=Ho.a.auth().currentUser}return p(t,[{key:"save",value:function(t){this.db.doc("users/"+t.uid).set({name:t.displayName,email:t.email,isAdmin:!1,phone:t.phone||null}).catch(function(t){return console.log(t)})}},{key:"reAuthenticate",value:function(){return this.fb.reauthenticateWithCredential(this.user)}}]),t}()).\u0275fac=function(t){return new(t||hI)(a.Pb(ww),a.Pb(Eo),a.Pb(aI))},hI.\u0275prov=a.Eb({token:hI,factory:hI.\u0275fac,providedIn:"root"}),hI);function gI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Email is required!"),a.Kb())}function bI(t,e){if(1&t&&(a.Lb(0,"div",37),a.jc(1,gI,2,0,"div",38),a.Kb()),2&t){a.Wb();var n=a.ec(15);a.yb(1),a.Zb("ngIf",n.errors.required)}}function mI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"password is required!"),a.Kb())}function wI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"password is more than 6 characters!"),a.Kb())}function _I(t,e){if(1&t&&(a.Lb(0,"div",37),a.jc(1,mI,2,0,"div",38),a.jc(2,wI,2,0,"div",38),a.Kb()),2&t){a.Wb();var n=a.ec(19);a.yb(1),a.Zb("ngIf",n.errors.required),a.yb(1),a.Zb("ngIf",n.errors.minlength)}}function kI(t,e){if(1&t&&(a.Lb(0,"div",39),a.Lb(1,"strong"),a.lc(2),a.Kb(),a.lc(3),a.Kb()),2&t){var n=a.Wb();a.yb(2),a.nc("Error!: ",n.error.code,""),a.yb(1),a.nc(" ",n.error.message," ")}}function OI(t,e){1&t&&(a.Lb(0,"div",37),a.lc(1," Email is Required "),a.Kb())}function II(t,e){1&t&&(a.Lb(0,"small",40),a.lc(1,"We'll never share your email with anyone else."),a.Kb())}function EI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Password is Required!"),a.Kb())}function TI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1," Password must be more than 6 characters "),a.Kb())}function CI(t,e){if(1&t&&(a.Lb(0,"div",37),a.jc(1,EI,2,0,"div",38),a.jc(2,TI,2,0,"div",38),a.Kb()),2&t){a.Wb();var n=a.ec(19);a.yb(1),a.Zb("ngIf",n.errors.required),a.yb(1),a.Zb("ngIf",n.errors.minlength)}}function jI(t,e){if(1&t&&(a.Lb(0,"div",39),a.Lb(1,"strong"),a.lc(2),a.Kb(),a.lc(3),a.Kb()),2&t){var n=a.Wb();a.yb(2),a.nc("Error!: ",n.error2.code,""),a.yb(1),a.nc(" ",n.error2.message," ")}}var SI=function(){return["posts"]},AI=function(t){return{userTab:t}},xI=function(t){return{outlets:t}},NI=function(t){return[t]},MI=function(){return["profile"]},DI=function(){return["addCar"]};function LI(t,e){if(1&t&&(a.Lb(0,"div",1),a.Lb(1,"div",2),a.Jb(2,"br"),a.Lb(3,"div",3),a.Lb(4,"div",4),a.Jb(5,"img",5),a.Kb(),a.Lb(6,"div",4),a.Lb(7,"h4"),a.lc(8),a.Kb(),a.Kb(),a.Lb(9,"div",6),a.Lb(10,"ul",7),a.Lb(11,"li",8),a.Lb(12,"a",9),a.lc(13,"My Posts "),a.Kb(),a.Kb(),a.Lb(14,"li",8),a.Lb(15,"a",9),a.lc(16,"user profile"),a.Kb(),a.Kb(),a.Lb(17,"li",8),a.Lb(18,"a",9),a.lc(19,"Add Car"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Jb(20,"br"),a.Lb(21,"div",10),a.Jb(22,"router-outlet",11),a.Kb(),a.Kb()),2&t){var n=e.ngIf;a.yb(8),a.mc(n.displayName||n.email),a.yb(4),a.Zb("routerLink",a.cc(9,NI,a.cc(7,xI,a.cc(5,AI,a.bc(4,SI))))),a.yb(3),a.Zb("routerLink",a.cc(16,NI,a.cc(14,xI,a.cc(12,AI,a.bc(11,MI))))),a.yb(3),a.Zb("routerLink",a.cc(23,NI,a.cc(21,xI,a.cc(19,AI,a.bc(18,DI)))))}}function PI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Car Model is Required!"),a.Kb())}function RI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,PI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(12);a.yb(1),a.Zb("ngIf",n.errors.required)}}function UI(t,e){if(1&t&&(a.Lb(0,"option",65),a.lc(1),a.Kb()),2&t){var n=e.$implicit;a.ac("value",n),a.yb(1),a.nc(" ",n," ")}}function VI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"car make is require"),a.Kb())}function zI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,VI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(19);a.yb(1),a.Zb("ngIf",n.errors.required)}}function FI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Price is Required"),a.Kb())}function qI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,FI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(28);a.yb(1),a.Zb("ngIf",n.errors.required)}}function KI(t,e){1&t&&(a.Lb(0,"div",63),a.lc(1," Price can't be zero! "),a.Kb())}function BI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1," price type is required "),a.Kb())}function HI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,BI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(36);a.yb(1),a.Zb("ngIf",n.errors.required)}}function GI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Year is required"),a.Kb())}function WI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,GI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(49);a.yb(1),a.Zb("ngIf",n.errors.required)}}function QI(t,e){1&t&&(a.Lb(0,"div",63),a.lc(1," You can sell cars year after 1900 "),a.Kb())}function YI(t,e){if(1&t&&(a.Lb(0,"div",63),a.lc(1),a.Kb()),2&t){var n=a.Wb();a.yb(1),a.nc(" you are not able to sell cars year after ",n.date+1," ")}}function JI(t,e){1&t&&(a.Lb(0,"div",63),a.lc(1," Write correct form of year! "),a.Kb())}function ZI(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"engine type is required"),a.Kb())}function XI(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,ZI,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(60);a.yb(1),a.Zb("ngIf",n.errors.required)}}function $I(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Car Type is required"),a.Kb())}function tE(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,$I,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(73);a.yb(1),a.Zb("ngIf",n.errors.required)}}function eE(t,e){1&t&&(a.Lb(0,"div"),a.lc(1," Condition is required! "),a.Kb())}function nE(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,eE,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(95);a.yb(1),a.Zb("ngIf",n.errors.required)}}function rE(t,e){1&t&&(a.Lb(0,"div"),a.lc(1," Choose Color please"),a.Kb())}function iE(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,rE,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(118);a.yb(1),a.Zb("ngIf",n.errors.required)}}function oE(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"Pitcure of your car is required"),a.Kb())}function uE(t,e){if(1&t&&(a.Lb(0,"div",63),a.jc(1,oE,2,0,"div",64),a.Kb()),2&t){a.Wb();var n=a.ec(130);a.yb(1),a.Zb("ngIf",n.errors.required)}}function aE(t,e){1&t&&(a.Lb(0,"div",66),a.Jb(1,"div",67),a.Kb())}function sE(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"user name is required"),a.Kb())}function cE(t,e){if(1&t&&(a.Lb(0,"div",25),a.jc(1,sE,2,0,"div",26),a.Kb()),2&t){a.Wb();var n=a.ec(38);a.yb(1),a.Zb("ngIf",n.errors.required)}}function lE(t,e){1&t&&(a.Lb(0,"div"),a.lc(1,"phone number is required"),a.Kb())}function hE(t,e){if(1&t&&(a.Lb(0,"div",25),a.jc(1,lE,2,0,"div",26),a.Kb()),2&t){a.Wb();var n=a.ec(47);a.yb(1),a.Zb("ngIf",n.errors.required)}}function fE(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",1),a.Lb(1,"div",2),a.Lb(2,"div",3),a.Lb(3,"h3",4),a.lc(4,"Manage Your profile"),a.Kb(),a.Lb(5,"div",5),a.Lb(6,"button",6),a.lc(7," Edit Profile "),a.Kb(),a.Kb(),a.Kb(),a.Lb(8,"div",7),a.Lb(9,"div",3),a.Lb(10,"div",8),a.Lb(11,"b"),a.lc(12,"Your UserName"),a.Kb(),a.Kb(),a.Lb(13,"div",8),a.Lb(14,"h6"),a.lc(15),a.Kb(),a.Kb(),a.Kb(),a.Lb(16,"div",3),a.Lb(17,"div",8),a.Lb(18,"b"),a.lc(19,"Your E-mail"),a.Kb(),a.Kb(),a.Lb(20,"div",8),a.Lb(21,"h6"),a.lc(22),a.Kb(),a.Kb(),a.Kb(),a.Lb(23,"div",3),a.Lb(24,"div",8),a.Lb(25,"b"),a.lc(26,"Phone Number"),a.Kb(),a.Kb(),a.Lb(27,"div",8),a.Lb(28,"h6"),a.lc(29),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(30,"div",8),a.Lb(31,"div",9),a.Jb(32,"br"),a.Lb(33,"div",10),a.Lb(34,"form",11,12),a.Sb("ngSubmit",function(){a.fc(n);var t=a.ec(35);return a.Wb().updateUsername(t.value)}),a.Lb(36,"div",13),a.Jb(37,"input",14,15),a.jc(39,cE,2,1,"div",16),a.Kb(),a.Lb(40,"div",17),a.Lb(41,"button",18),a.lc(42," Update "),a.Kb(),a.Kb(),a.Kb(),a.Lb(43,"form",11,19),a.Sb("ngSubmit",function(){a.fc(n);var t=a.ec(44);return a.Wb().updatephone(t.value)}),a.Lb(45,"div",13),a.Jb(46,"input",20,21),a.Lb(48,"small"),a.lc(49,"This number will be used to contact you"),a.Kb(),a.jc(50,hE,2,1,"div",16),a.Kb(),a.Lb(51,"div",22),a.Lb(52,"button",18),a.lc(53," Update "),a.Kb(),a.Kb(),a.Kb(),a.Lb(54,"div",23),a.Jb(55,"hr"),a.Lb(56,"button",24),a.Sb("click",function(){return a.fc(n),a.Wb().deleteUser()}),a.lc(57," Delete "),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()}if(2&t){var r=e.ngIf,i=a.ec(35),o=a.ec(38),u=a.ec(44),s=a.ec(47);a.yb(15),a.mc(r.name||"n/a"),a.yb(7),a.mc(r.email||"n/a"),a.yb(7),a.mc(r.phone||"n/a"),a.yb(10),a.Zb("ngIf",o.touched&&!o.valid),a.yb(2),a.Zb("disabled",!i.valid),a.yb(9),a.Zb("ngIf",s.touched&&!s.valid),a.yb(2),a.Zb("disabled",!u.valid)}}function dE(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",4),a.Lb(1,"div",5),a.Lb(2,"div",6),a.Lb(3,"div",7),a.Lb(4,"div",8),a.Lb(5,"h5",9),a.lc(6,"Delete Add"),a.Kb(),a.Lb(7,"button",10),a.Lb(8,"span",11),a.lc(9,"\xd7"),a.Kb(),a.Kb(),a.Kb(),a.Lb(10,"div",12),a.lc(11,"Are you sure you want to Delete"),a.Kb(),a.Lb(12,"div",13),a.Lb(13,"button",14),a.lc(14," Close "),a.Kb(),a.Lb(15,"button",15),a.Sb("click",function(){a.fc(n);var t=e.$implicit;return a.Wb(2).deletePost(t.cid)}),a.lc(16," Confirm "),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(17,"div",16),a.Lb(18,"div",17),a.lc(19),a.Kb(),a.Lb(20,"div",18),a.Lb(21,"div",1),a.Lb(22,"div",19),a.Jb(23,"img",20),a.Kb(),a.Lb(24,"div",21),a.Lb(25,"p"),a.lc(26),a.Kb(),a.Lb(27,"p"),a.lc(28),a.Kb(),a.Lb(29,"p"),a.lc(30),a.Kb(),a.Kb(),a.Kb(),a.Lb(31,"div",22),a.Lb(32,"button",23),a.Sb("click",function(){a.fc(n);var t=e.$implicit;return a.Wb(2).carid=t.cid}),a.lc(33," Delete"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()}if(2&t){var r=e.$implicit;a.yb(19),a.oc("",r.make," ",r.model,""),a.yb(4),a.ac("src",r.picture,a.gc),a.yb(3),a.mc(r.year),a.yb(2),a.mc(r.description.price),a.yb(2),a.mc(r.description.transsmission)}}function pE(t,e){if(1&t&&(a.Lb(0,"div",1,2),a.jc(2,dE,34,6,"div",3),a.Kb()),2&t){var n=a.Wb();a.yb(2),a.Zb("ngForOf",n.posts)}}var vE,yE,gE,bE,mE,wE,_E,kE=[{path:"login",component:(mE=function(){function t(e,n,r){f(this,t),this.router=e,this.authService=n,this.userService=r}return p(t,[{key:"ngOnInit",value:function(){}},{key:"createUser",value:function(t){var e=this;this.authService.createUser(t).catch(function(t){e.error2=t}).then(function(t){e.userService.save(t.user),e.router.navigate(["user",t.user.uid])})}},{key:"loginUser",value:function(t){var e=this;this.authService.logInUser(t).catch(function(t){e.error=t,console.log(e.error)}).then(function(t){e.router.navigate(["user",t.user.uid])})}},{key:"loginGoogle",value:function(){var t=this;this.authService.logViaGoogle().catch(function(e){t.error=e,console.log(t.error)}).then(function(e){t.userService.save(e.user),t.router.navigate(["user",e.user.uid])})}},{key:"loginFacebook",value:function(){var t=this;this.authService.logViaFb().catch(function(e){t.error=e,console.log(t.error)}).then(function(e){t.userService.save(e.user),t.router.navigate(["user",e.user])})}}]),t}(),mE.\u0275fac=function(t){return new(t||mE)(a.Ib(Ai),a.Ib(aI),a.Ib(yI))},mE.\u0275cmp=a.Cb({type:mE,selectors:[["app-log-in"]],decls:57,vars:9,consts:[[1,"container","mt-5","border","border-info"],[1,"container","mt-5","p-3"],[1,"card"],["id","accordianId","role","tablist","aria-multiselectable","true"],["data-toggle","collapse","data-parent","#accordianId","href","#section1ContentId","aria-expanded","true","aria-controls","section1ContentId"],[1,"text-primary","text-center"],["id","section1ContentId","role","tabpanel","aria-labelledby","section1HeaderId",1,"accordion-collapse","collapse","show"],[1,"mt-3",3,"ngSubmit"],["login","ngForm"],[1,"form-row"],[1,"col"],["type","text","placeholder","Email","ngModel","","required","","name","email",1,"form-control"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Password","ngModel","","required","","minlength","6","name","password",1,"form-control"],["password","ngModel"],[1,"form-row","my-3","px-5"],["type","submit",1,"col","btn","btn-primary",3,"disabled"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],[1,"separator","text-secondary"],[1,"card-deck"],[1,"btn","btn-transparent",3,"click"],["src","./../../../assets/google.png","alt","",1,"card-img-top"],[1,"btn","btn-trasparent",3,"click"],["src","./../../../assets/fb.png","alt","",1,"card-img-top"],["data-toggle","collapse","data-parent","#accordianId","href","#section2ContentId","aria-expanded","true","aria-controls","section2ContentId"],[1,"separator","text-info"],["id","section2ContentId","role","tabpanel","aria-labelledby","section2HeaderId",1,"accordion-collapse","collapse"],[3,"ngSubmit"],["signIn","ngForm"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","ngModel","","name","email","id","exampleInputEmail1","aria-describedby","emailHelp","required","",1,"form-control"],["id","emailHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputPassword1"],["type","password","ngModel","","name","password","id","exampleInputPassword1","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["id","emailHelp",1,"form-text","text-muted"]],template:function(t,e){if(1&t){var n=a.Mb();a.Lb(0,"div",0),a.Lb(1,"div",1),a.Lb(2,"div",2),a.Lb(3,"h3"),a.lc(4,"Welcome to Ride Shop"),a.Kb(),a.Kb(),a.Lb(5,"div",3),a.Lb(6,"a",4),a.Lb(7,"p",5),a.lc(8,"Ready to Comeback"),a.Kb(),a.Kb(),a.Lb(9,"div",6),a.Lb(10,"form",7,8),a.Sb("ngSubmit",function(){a.fc(n);var t=a.ec(11);return e.loginUser(t)}),a.Lb(12,"div",9),a.Lb(13,"div",10),a.Jb(14,"input",11,12),a.jc(16,bI,2,1,"div",13),a.Kb(),a.Lb(17,"div",10),a.Jb(18,"input",14,15),a.jc(20,_I,3,2,"div",13),a.Kb(),a.Kb(),a.Lb(21,"div",16),a.Lb(22,"button",17),a.Lb(23,"div"),a.lc(24,"login"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.jc(25,kI,4,2,"div",18),a.Kb(),a.Lb(26,"div",19),a.lc(27,"You can Join by single Click"),a.Kb(),a.Lb(28,"div",20),a.Lb(29,"div",2),a.Lb(30,"button",21),a.Sb("click",function(){return e.loginGoogle()}),a.Jb(31,"img",22),a.Kb(),a.Kb(),a.Lb(32,"div",2),a.Lb(33,"a",23),a.Sb("click",function(){return e.loginFacebook()}),a.Jb(34,"img",24),a.Kb(),a.Kb(),a.Kb(),a.Lb(35,"a",25),a.Lb(36,"div",26),a.lc(37,"Don't have account click me!"),a.Kb(),a.Kb(),a.Lb(38,"div",27),a.Lb(39,"form",28,29),a.Sb("ngSubmit",function(){a.fc(n);var t=a.ec(40);return e.createUser(t)}),a.Lb(41,"div",30),a.Lb(42,"label",31),a.lc(43,"Email address"),a.Kb(),a.Jb(44,"input",32,12),a.jc(46,OI,2,0,"div",13),a.jc(47,II,2,0,"small",33),a.Kb(),a.Lb(48,"div",30),a.Lb(49,"label",34),a.lc(50,"Password"),a.Kb(),a.Jb(51,"input",35,15),a.jc(53,CI,3,2,"div",13),a.Kb(),a.jc(54,jI,4,2,"div",18),a.Lb(55,"button",36),a.lc(56,"Submit"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()}if(2&t){var r=a.ec(11),i=a.ec(15),o=a.ec(19),u=a.ec(40);a.yb(16),a.Zb("ngIf",i.touched&&!i.valid),a.yb(4),a.Zb("ngIf",o.touched&&!o.valid),a.yb(2),a.Zb("disabled",!r.valid),a.yb(3),a.Zb("ngIf",e.error),a.yb(21),a.Zb("ngIf",!i.valid&&i.touched),a.yb(1),a.Zb("ngIf",i.touched),a.yb(6),a.Zb("ngIf",!o.valid&&o.touched),a.yb(1),a.Zb("ngIf",e.error2),a.yb(1),a.Zb("disabled",!u.valid)}},directives:[ZO,Xk,WO,Ok,Zk,JO,$O,$,eI],styles:['.card-img-top[_ngcontent-%COMP%]{max-width:5em;max-height:5em}.border[_ngcontent-%COMP%]{border-radius:5px}.card[_ngcontent-%COMP%]{align-items:center;border:#87ceeb}@media (max-width:980px){.card-img-overlay[_ngcontent-%COMP%]{display:block}}@media (min-width:980px){.card-img-overlay[_ngcontent-%COMP%]{display:none}}.col-bt-btn-primary[_ngcontent-%COMP%]{max-width:50em}.separator[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center}.separator[_ngcontent-%COMP%]:after, .separator[_ngcontent-%COMP%]:before{content:"";flex:1;border-bottom:1px solid #87ceeb}.separator[_ngcontent-%COMP%]:before{margin-right:.25em}.separator[_ngcontent-%COMP%]:after{margin-left:.25em}']}),mE)},{path:"user/:uid",component:(bE=function(){function t(e,n){f(this,t),this.authService=e,this.router=n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.signedIn$.subscribe(function(e){t.userData=e,console.log(e)})}},{key:"logOut",value:function(){this.authService.logOut(),this.router.navigateByUrl("/login")}}]),t}(),bE.\u0275fac=function(t){return new(t||bE)(a.Ib(aI),a.Ib(Ai))},bE.\u0275cmp=a.Cb({type:bE,selectors:[["app-user-dashbord"]],decls:3,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container-fluid","border","border-dark","rounded"],[1,"row","align-items-start"],[1,"col-md-2"],["src","./../../../assets/car-1.jpg","alt","","srcset","",1,"img-thumbnail"],[1,"col-md-8","align-self-end"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","link-dark",3,"routerLink"],[1,"container","border","border-danger"],["name","userTab"]],template:function(t,e){1&t&&(a.Jb(0,"br"),a.Jb(1,"br"),a.jc(2,LI,23,25,"div",0)),2&t&&(a.yb(2),a.Zb("ngIf",e.userData))},directives:[$,Ni,Ui,Vi],styles:[""]}),bE),canActivate:[jo],data:{authGuardPipe:function(){return Do(["login"])}},children:[{path:"addCar",component:(gE=function(){function t(e,n,r,i,o){f(this,t),this.carService=e,this.as=n,this.router=r,this.route=i,this.userService=o,this.show=!1,this.date=(new Date).getFullYear(),this.p=0,this.ymin=1900,this.ymax=this.date+1,this.imgUrl="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjUxMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii01MyAxIDUxMSA1MTEuOTk5MDYiIHdpZHRoPSI1MTJweCI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIGQ9Ik0gMjc2LjQxMDE1NiAzLjk1NzAzMSBDIDI3NC4wNjI1IDEuNDg0Mzc1IDI3MC44NDM3NSAwIDI2Ny41MDc4MTIgMCBMIDY3Ljc3NzM0NCAwIEMgMzAuOTIxODc1IDAgMC41IDMwLjMwMDc4MSAwLjUgNjcuMTUyMzQ0IEwgMC41IDQ0NC44NDM3NSBDIDAuNSA0ODEuNjk5MjE5IDMwLjkyMTg3NSA1MTIgNjcuNzc3MzQ0IDUxMiBMIDMzOC44NjMyODEgNTEyIEMgMzc1LjcxODc1IDUxMiA0MDYuMTQwNjI1IDQ4MS42OTkyMTkgNDA2LjE0MDYyNSA0NDQuODQzNzUgTCA0MDYuMTQwNjI1IDE0NC45NDE0MDYgQyA0MDYuMTQwNjI1IDE0MS43MjY1NjIgNDA0LjY1NjI1IDEzOC42MzY3MTkgNDAyLjU1NDY4OCAxMzYuMjg1MTU2IFogTSAyNzkuOTk2MDk0IDQzLjY1NjI1IEwgMzY0LjQ2NDg0NCAxMzIuMzI4MTI1IEwgMzA5LjU1NDY4OCAxMzIuMzI4MTI1IEMgMjkzLjIzMDQ2OSAxMzIuMzI4MTI1IDI3OS45OTYwOTQgMTE5LjIxODc1IDI3OS45OTYwOTQgMTAyLjg5NDUzMSBaIE0gMzM4Ljg2MzI4MSA0ODcuMjY1NjI1IEwgNjcuNzc3MzQ0IDQ4Ny4yNjU2MjUgQyA0NC42NTIzNDQgNDg3LjI2NTYyNSAyNS4yMzQzNzUgNDY4LjA5NzY1NiAyNS4yMzQzNzUgNDQ0Ljg0Mzc1IEwgMjUuMjM0Mzc1IDY3LjE1MjM0NCBDIDI1LjIzNDM3NSA0NC4wMjczNDQgNDQuNTI3MzQ0IDI0LjczNDM3NSA2Ny43NzczNDQgMjQuNzM0Mzc1IEwgMjU1LjI2MTcxOSAyNC43MzQzNzUgTCAyNTUuMjYxNzE5IDEwMi44OTQ1MzEgQyAyNTUuMjYxNzE5IDEzMi45NDUzMTIgMjc5LjUwMzkwNiAxNTcuMDYyNSAzMDkuNTU0Njg4IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDQ0NC44NDM3NSBDIDM4MS40MDYyNSA0NjguMDk3NjU2IDM2Mi4xMTMyODEgNDg3LjI2NTYyNSAzMzguODYzMjgxIDQ4Ny4yNjU2MjUgWiBNIDMzOC44NjMyODEgNDg3LjI2NTYyNSAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAzMDUuMTAxNTYyIDQwMS45MzM1OTQgTCAxMDEuNTM5MDYyIDQwMS45MzM1OTQgQyA5NC43MzgyODEgNDAxLjkzMzU5NCA4OS4xNzE4NzUgNDA3LjQ5NjA5NCA4OS4xNzE4NzUgNDE0LjMwMDc4MSBDIDg5LjE3MTg3NSA0MjEuMTAxNTYyIDk0LjczODI4MSA0MjYuNjY3OTY5IDEwMS41MzkwNjIgNDI2LjY2Nzk2OSBMIDMwNS4yMjY1NjIgNDI2LjY2Nzk2OSBDIDMxMi4wMjczNDQgNDI2LjY2Nzk2OSAzMTcuNTkzNzUgNDIxLjEwMTU2MiAzMTcuNTkzNzUgNDE0LjMwMDc4MSBDIDMxNy41OTM3NSA0MDcuNDk2MDk0IDMxMi4wMjczNDQgNDAxLjkzMzU5NCAzMDUuMTAxNTYyIDQwMS45MzM1OTQgWiBNIDMwNS4xMDE1NjIgNDAxLjkzMzU5NCAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAxNDAgMjY4Ljg2MzI4MSBMIDE5MC45NTMxMjUgMjE0LjA3NDIxOSBMIDE5MC45NTMxMjUgMzQ5LjEyNSBDIDE5MC45NTMxMjUgMzU1LjkyNTc4MSAxOTYuNTE5NTMxIDM2MS40OTIxODggMjAzLjMyMDMxMiAzNjEuNDkyMTg4IEMgMjEwLjEyNSAzNjEuNDkyMTg4IDIxNS42ODc1IDM1NS45MjU3ODEgMjE1LjY4NzUgMzQ5LjEyNSBMIDIxNS42ODc1IDIxNC4wNzQyMTkgTCAyNjYuNjQwNjI1IDI2OC44NjMyODEgQyAyNjkuMTEzMjgxIDI3MS40NTcwMzEgMjcyLjMzMjAzMSAyNzIuODIwMzEyIDI3NS42Njc5NjkgMjcyLjgyMDMxMiBDIDI3OC42MzY3MTkgMjcyLjgyMDMxMiAyODEuNzMwNDY5IDI3MS43MDcwMzEgMjg0LjA3ODEyNSAyNjkuNDgwNDY5IEMgMjg5LjAyNzM0NCAyNjQuNzgxMjUgMjg5LjM5ODQzOCAyNTYuOTg4MjgxIDI4NC42OTkyMTkgMjUyLjA0Mjk2OSBMIDIxMi4yMjY1NjIgMTc0LjI1MzkwNiBDIDIwOS44NzUgMTcxLjc4MTI1IDIwNi42NjAxNTYgMTcwLjI5Njg3NSAyMDMuMTk5MjE5IDE3MC4yOTY4NzUgQyAxOTkuNzM0Mzc1IDE3MC4yOTY4NzUgMTk2LjUxOTUzMSAxNzEuNzgxMjUgMTk0LjE3MTg3NSAxNzQuMjUzOTA2IEwgMTIxLjY5OTIxOSAyNTIuMDQyOTY5IEMgMTE3IDI1Ni45ODgyODEgMTE3LjM3MTA5NCAyNjQuOTAyMzQ0IDEyMi4zMTY0MDYgMjY5LjQ4MDQ2OSBDIDEyNy41MTE3MTkgMjc0LjE3OTY4OCAxMzUuMzAwNzgxIDI3My44MDg1OTQgMTQwIDI2OC44NjMyODEgWiBNIDE0MCAyNjguODYzMjgxICIgc3R5bGU9IiBmaWxsLXJ1bGU6bm9uemVybztmaWxsLW9wYWNpdHk6MTsiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+Cjwvc3ZnPgo="}return p(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.date),this.as.signedIn$.subscribe(function(e){console.log(e.uid),t.userData=e.uid,t.getPhone()})}},{key:"selectedImg",value:function(t){this.images=t.target.files}},{key:"getPhone",value:function(){var t=this;this.userService.userCollection.doc(this.userData).valueChanges().subscribe(function(e){t.phone=e.phone})}},{key:"addCar",value:function(t){var e=this;this.getPhone(),t.value.color=t.value.color.toString(),this.carService.carCollection.add({id:this.userData,model:t.value.carModel,make:t.value.carMake,year:t.value.year,picture:t.value.photo,description:{price:t.value.carPrice,priceType:t.value.priceType,location:t.value.city,condition:t.value.condition,engine:t.value.engine,color:t.value.color,body:t.value.bodyType,transsmission:t.value.transsmission},phone:this.phone}).then(function(t){return Uo(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.carService.upLoadImg(t.id,this.images);case 2:n=e.sent,this.carService.carCollection.doc(t.id).update({picture:n||null}),this.imgUrl=n,this.router.navigate(["posts"],{relativeTo:this.route});case 4:case"end":return e.stop()}},e,this)}))}).catch(function(t){return console.log(t)})}},{key:"getCarMake",value:function(){return["audi","Chevrolet","Cadillac","Acura","BMW"]}},{key:"nLength",value:function(t){if(this.y=1+(.43429448190325176*Math.log(Math.abs(t)+1)|0),4==this.y)return!0}},{key:"lessthanval",value:function(t){return t>=this.date+1}},{key:"greaterthan",value:function(t){return t<1900}}]),t}(),gE.\u0275fac=function(t){return new(t||gE)(a.Ib(tk),a.Ib(aI),a.Ib(Ai),a.Ib(sr),a.Ib(yI))},gE.\u0275cmp=a.Cb({type:gE,selectors:[["app-addcar"]],decls:137,vars:20,consts:[[1,"container","border","rounded"],[1,"alert","alert-info"],[1,"container"],[3,"ngSubmit"],["addCarForm","ngForm"],[1,"mb-3"],["for","formGroupExampleInput",1,"form-label"],["type","text","id","formGroupExampleInput","placeholder"," eg. Toyota corola ","name","carModel","ngModel","","minlength","3","required","",1,"form-control"],["carModel","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","carMake"],["name","carMake","ngModel","","required","","id","carMake",1,"form-control"],["carMake","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-4"],["for","carPrice"],["type","number","name","carPrice","id","carPrice","placeholder","Eth","ngModel","","required","",1,"form-control"],["carPrice","ngModel"],["name","priceType","id","priceType","ngModel","","required","",1,"form-control"],["priceType","ngModel"],["value","negotiable"],["value","fixed"],["value","price on call"],["for","year"],["type","number","name","year","ngModel","","required","","id","year","placeholder","YYYY",1,"form-control"],["year","ngModel"],[1,"col-md-6"],["name","engine","id","engine","ngModel","","required","",1,"form-control"],["engine","ngModel"],["value","Diesel"],["value","Benzine"],["value","Hybrid"],["for","type"],["name","bodyType","id","type","ngModel","","required","",1,"form-control"],["bodyType","ngModel"],["value","car"],["value","van"],["value","truck"],["value","motorcycle"],["for","location"],["type","text","name","city","id","location","ngModel","","placeholder","Where you reside",1,"form-control"],["city","ngModel"],["name","condition","id","condition","ngModel","","required","",1,"form-control"],["condition","ngModel"],["name","transsmission","id","transsmission","ngModel","",1,"form-control"],["transsmission","ngModel"],["value","automatic","default",""],["value","manual"],["for","exampleColorInput",1,"form-label"],["type","color","id","exampleColorInput","value","#ff0000","title","Choose your color","name","color","ngModel","","required","",1,"form-control","form-control-color"],["color","ngModel"],[1,"col-md-12","col-lg-12","col-xs-12","col-sm-12"],[1,"control-label"],["id","dropzone",1,"dropzone","dz-clickable"],[1,"dz-default","dz-message"],[1,"hiddenFileInput"],["type","file","name","photo","ngModel","","accept",".jpg, .png, .jpeg","required","",3,"change"],["photo","ngModel"],[1,"row","justify-content-end"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled","click"],[3,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[1,"progress"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","75%"]],template:function(t,e){if(1&t){var n=a.Mb();a.Jb(0,"br"),a.Lb(1,"div",0),a.Lb(2,"div",1),a.lc(3," Make sure u registerd Phone number to get contacted on your ads"),a.Kb(),a.Jb(4,"br"),a.Lb(5,"div",2),a.Lb(6,"form",3,4),a.Sb("ngSubmit",function(){a.fc(n);var t=a.ec(7);return e.addCar(t)}),a.Lb(8,"div",5),a.Lb(9,"label",6),a.lc(10,"Car Model"),a.Kb(),a.Jb(11,"input",7,8),a.jc(13,RI,2,1,"div",9),a.Kb(),a.Lb(14,"div",5),a.Lb(15,"div",10),a.Lb(16,"label",11),a.lc(17,"Select Car Make"),a.Kb(),a.Lb(18,"select",12,13),a.jc(20,UI,2,2,"option",14),a.Kb(),a.jc(21,zI,2,1,"div",9),a.Kb(),a.Kb(),a.Lb(22,"div",15),a.Lb(23,"div",16),a.Lb(24,"div",10),a.Lb(25,"label",17),a.lc(26,"Price"),a.Kb(),a.Jb(27,"input",18,19),a.jc(29,qI,2,1,"div",9),a.jc(30,KI,2,0,"div",9),a.Kb(),a.Kb(),a.Lb(31,"div",16),a.Lb(32,"div",10),a.Lb(33,"label",11),a.lc(34,"Price Type"),a.Kb(),a.Lb(35,"select",20,21),a.Lb(37,"option",22),a.lc(38,"Negotiable"),a.Kb(),a.Lb(39,"option",23),a.lc(40,"Fixed"),a.Kb(),a.Lb(41,"option",24),a.lc(42,"Price on Call"),a.Kb(),a.Kb(),a.jc(43,HI,2,1,"div",9),a.Kb(),a.Kb(),a.Lb(44,"div",16),a.Lb(45,"div",10),a.Lb(46,"label",25),a.lc(47,"Year"),a.Kb(),a.Jb(48,"input",26,27),a.Kb(),a.jc(50,WI,2,1,"div",9),a.jc(51,QI,2,0,"div",9),a.jc(52,YI,2,1,"div",9),a.jc(53,JI,2,0,"div",9),a.Kb(),a.Kb(),a.Lb(54,"div",15),a.Lb(55,"div",28),a.Lb(56,"div",10),a.Lb(57,"label",11),a.lc(58,"Engine"),a.Kb(),a.Lb(59,"select",29,30),a.Lb(61,"option",31),a.lc(62,"Diesel"),a.Kb(),a.Lb(63,"option",32),a.lc(64,"Benzine"),a.Kb(),a.Lb(65,"option",33),a.lc(66,"Hybrid"),a.Kb(),a.Kb(),a.jc(67,XI,2,1,"div",9),a.Kb(),a.Kb(),a.Lb(68,"div",28),a.Lb(69,"div",10),a.Lb(70,"label",34),a.lc(71,"Body Type"),a.Kb(),a.Lb(72,"select",35,36),a.Lb(74,"option",37),a.lc(75,"Car"),a.Kb(),a.Lb(76,"option",38),a.lc(77,"Van"),a.Kb(),a.Lb(78,"option",39),a.lc(79,"Truck"),a.Kb(),a.Lb(80,"option",40),a.lc(81,"Motorcycle"),a.Kb(),a.Kb(),a.jc(82,tE,2,1,"div",9),a.Kb(),a.Kb(),a.Kb(),a.Lb(83,"div",15),a.Lb(84,"div",28),a.Lb(85,"div",10),a.Lb(86,"label",41),a.lc(87,"City"),a.Kb(),a.Jb(88,"input",42,43),a.Kb(),a.Kb(),a.Lb(90,"div",28),a.Lb(91,"div",10),a.Lb(92,"label",34),a.lc(93,"Condition"),a.Kb(),a.Lb(94,"select",44,45),a.Lb(96,"option"),a.lc(97,"New"),a.Kb(),a.Lb(98,"option"),a.lc(99,"Used"),a.Kb(),a.Lb(100,"option"),a.lc(101,"slightly Used"),a.Kb(),a.Kb(),a.jc(102,nE,2,1,"div",9),a.Kb(),a.Kb(),a.Kb(),a.Lb(103,"div",15),a.Lb(104,"div",28),a.Lb(105,"div",10),a.Lb(106,"label",34),a.lc(107,"Transsmission"),a.Kb(),a.Lb(108,"select",46,47),a.Lb(110,"option",48),a.lc(111,"Automatic"),a.Kb(),a.Lb(112,"option",49),a.lc(113,"Manual"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Lb(114,"div",28),a.Lb(115,"label",50),a.lc(116,"Color picker"),a.Kb(),a.Jb(117,"input",51,52),a.jc(119,iE,2,1,"div",9),a.Kb(),a.Kb(),a.Lb(120,"div",15),a.Lb(121,"div",53),a.Lb(122,"label",54),a.lc(123,"Photos for your ad "),a.Lb(124,"small"),a.lc(125,"Only allowed jpg, png and jpeg and max file will not more than 1MB"),a.Kb(),a.Kb(),a.Lb(126,"div",55),a.Lb(127,"div",56),a.Lb(128,"span",57),a.Lb(129,"input",58,59),a.Sb("change",function(t){return e.selectedImg(t)}),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.jc(131,uE,2,1,"div",9),a.Kb(),a.Kb(),a.Jb(132,"br"),a.Lb(133,"div",60),a.Lb(134,"button",61),a.Sb("click",function(){return e.show=!e.show}),a.lc(135," Submit your car "),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.jc(136,aE,2,0,"ng-template",62)}if(2&t){var r=a.ec(7),i=a.ec(12),o=a.ec(19),u=a.ec(28),s=a.ec(36),c=a.ec(49),l=a.ec(60),h=a.ec(73),f=a.ec(95),d=a.ec(118),p=a.ec(130);a.yb(13),a.Zb("ngIf",!i.valid&&i.touched),a.yb(7),a.Zb("ngForOf",e.getCarMake()),a.yb(1),a.Zb("ngIf",!o.valid&&o.touched),a.yb(8),a.Zb("ngIf",u.touched&&!u.valid),a.yb(1),a.Zb("ngIf",u.touched&&!u.value),a.yb(13),a.Zb("ngIf",s.touched&&!s.valid),a.yb(7),a.Zb("ngIf",c.touched&&!c.valid),a.yb(1),a.Zb("ngIf",c.touched&&e.greaterthan(c.value)),a.yb(1),a.Zb("ngIf",c.touched&&e.lessthanval(c.value)),a.yb(1),a.Zb("ngIf",c.touched&&!e.nLength(c.value)),a.yb(14),a.Zb("ngIf",l.touched&&!l.valid),a.yb(15),a.Zb("ngIf",h.touched&&!h.valid),a.yb(20),a.Zb("ngIf",f.touched&&!f.valid),a.yb(17),a.Zb("ngIf",d.touched&&!d.valid),a.yb(9),a.ic(" background-image: url(",e.imgUrl,");"),a.yb(3),a.Zb("ngIf",p.touched&&!p.valid),a.yb(3),a.Zb("disabled",!r.valid),a.yb(2),a.Zb("ngIf",e.show)}},directives:[ZO,Xk,WO,Ok,Zk,JO,eI,$O,$,lO,Z,tO,hO,gO],styles:[".dropzone[_ngcontent-%COMP%]   .dz-default.dz-message[_ngcontent-%COMP%]{margin:2em 0;color:#232323;font-size:30px;font-weight:600;text-align:center}.dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%], .dropzone.dz-clickable[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]   .dz-message[_ngcontent-%COMP%]{opacity:1;-ms-filter:none;filter:none}.dropzone.dz-clickable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default;background-repeat:no-repeat;background-size:contain}.dropzone[_ngcontent-%COMP%], .dropzone[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .dropzone-previews[_ngcontent-%COMP%], .dropzone-previews[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.dropzone.dz-clickable[_ngcontent-%COMP%]{cursor:pointer}.dropzone[_ngcontent-%COMP%]{border:2px dotted #ccc;border-radius:3px;background:rgba(0,0,0,.03);padding:23px;letter-spacing:1px}.hiddenFileInput[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:100%;width:100;opacity:0;cursor:pointer}.hiddenFileInput[_ngcontent-%COMP%]{border:1px solid #ccc;width:100px;height:100px;display:inline-block;overflow:hidden;cursor:pointer;background:50% no-repeat;background-size:75% 75%;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjUxMnB4IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii01MyAxIDUxMSA1MTEuOTk5MDYiIHdpZHRoPSI1MTJweCI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIGQ9Ik0gMjc2LjQxMDE1NiAzLjk1NzAzMSBDIDI3NC4wNjI1IDEuNDg0Mzc1IDI3MC44NDM3NSAwIDI2Ny41MDc4MTIgMCBMIDY3Ljc3NzM0NCAwIEMgMzAuOTIxODc1IDAgMC41IDMwLjMwMDc4MSAwLjUgNjcuMTUyMzQ0IEwgMC41IDQ0NC44NDM3NSBDIDAuNSA0ODEuNjk5MjE5IDMwLjkyMTg3NSA1MTIgNjcuNzc3MzQ0IDUxMiBMIDMzOC44NjMyODEgNTEyIEMgMzc1LjcxODc1IDUxMiA0MDYuMTQwNjI1IDQ4MS42OTkyMTkgNDA2LjE0MDYyNSA0NDQuODQzNzUgTCA0MDYuMTQwNjI1IDE0NC45NDE0MDYgQyA0MDYuMTQwNjI1IDE0MS43MjY1NjIgNDA0LjY1NjI1IDEzOC42MzY3MTkgNDAyLjU1NDY4OCAxMzYuMjg1MTU2IFogTSAyNzkuOTk2MDk0IDQzLjY1NjI1IEwgMzY0LjQ2NDg0NCAxMzIuMzI4MTI1IEwgMzA5LjU1NDY4OCAxMzIuMzI4MTI1IEMgMjkzLjIzMDQ2OSAxMzIuMzI4MTI1IDI3OS45OTYwOTQgMTE5LjIxODc1IDI3OS45OTYwOTQgMTAyLjg5NDUzMSBaIE0gMzM4Ljg2MzI4MSA0ODcuMjY1NjI1IEwgNjcuNzc3MzQ0IDQ4Ny4yNjU2MjUgQyA0NC42NTIzNDQgNDg3LjI2NTYyNSAyNS4yMzQzNzUgNDY4LjA5NzY1NiAyNS4yMzQzNzUgNDQ0Ljg0Mzc1IEwgMjUuMjM0Mzc1IDY3LjE1MjM0NCBDIDI1LjIzNDM3NSA0NC4wMjczNDQgNDQuNTI3MzQ0IDI0LjczNDM3NSA2Ny43NzczNDQgMjQuNzM0Mzc1IEwgMjU1LjI2MTcxOSAyNC43MzQzNzUgTCAyNTUuMjYxNzE5IDEwMi44OTQ1MzEgQyAyNTUuMjYxNzE5IDEzMi45NDUzMTIgMjc5LjUwMzkwNiAxNTcuMDYyNSAzMDkuNTU0Njg4IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDE1Ny4wNjI1IEwgMzgxLjQwNjI1IDQ0NC44NDM3NSBDIDM4MS40MDYyNSA0NjguMDk3NjU2IDM2Mi4xMTMyODEgNDg3LjI2NTYyNSAzMzguODYzMjgxIDQ4Ny4yNjU2MjUgWiBNIDMzOC44NjMyODEgNDg3LjI2NTYyNSAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAzMDUuMTAxNTYyIDQwMS45MzM1OTQgTCAxMDEuNTM5MDYyIDQwMS45MzM1OTQgQyA5NC43MzgyODEgNDAxLjkzMzU5NCA4OS4xNzE4NzUgNDA3LjQ5NjA5NCA4OS4xNzE4NzUgNDE0LjMwMDc4MSBDIDg5LjE3MTg3NSA0MjEuMTAxNTYyIDk0LjczODI4MSA0MjYuNjY3OTY5IDEwMS41MzkwNjIgNDI2LjY2Nzk2OSBMIDMwNS4yMjY1NjIgNDI2LjY2Nzk2OSBDIDMxMi4wMjczNDQgNDI2LjY2Nzk2OSAzMTcuNTkzNzUgNDIxLjEwMTU2MiAzMTcuNTkzNzUgNDE0LjMwMDc4MSBDIDMxNy41OTM3NSA0MDcuNDk2MDk0IDMxMi4wMjczNDQgNDAxLjkzMzU5NCAzMDUuMTAxNTYyIDQwMS45MzM1OTQgWiBNIDMwNS4xMDE1NjIgNDAxLjkzMzU5NCAiIHN0eWxlPSIgZmlsbC1ydWxlOm5vbnplcm87ZmlsbC1vcGFjaXR5OjE7IiBzdHJva2U9IiMwMDAwMDAiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZD0iTSAxNDAgMjY4Ljg2MzI4MSBMIDE5MC45NTMxMjUgMjE0LjA3NDIxOSBMIDE5MC45NTMxMjUgMzQ5LjEyNSBDIDE5MC45NTMxMjUgMzU1LjkyNTc4MSAxOTYuNTE5NTMxIDM2MS40OTIxODggMjAzLjMyMDMxMiAzNjEuNDkyMTg4IEMgMjEwLjEyNSAzNjEuNDkyMTg4IDIxNS42ODc1IDM1NS45MjU3ODEgMjE1LjY4NzUgMzQ5LjEyNSBMIDIxNS42ODc1IDIxNC4wNzQyMTkgTCAyNjYuNjQwNjI1IDI2OC44NjMyODEgQyAyNjkuMTEzMjgxIDI3MS40NTcwMzEgMjcyLjMzMjAzMSAyNzIuODIwMzEyIDI3NS42Njc5NjkgMjcyLjgyMDMxMiBDIDI3OC42MzY3MTkgMjcyLjgyMDMxMiAyODEuNzMwNDY5IDI3MS43MDcwMzEgMjg0LjA3ODEyNSAyNjkuNDgwNDY5IEMgMjg5LjAyNzM0NCAyNjQuNzgxMjUgMjg5LjM5ODQzOCAyNTYuOTg4MjgxIDI4NC42OTkyMTkgMjUyLjA0Mjk2OSBMIDIxMi4yMjY1NjIgMTc0LjI1MzkwNiBDIDIwOS44NzUgMTcxLjc4MTI1IDIwNi42NjAxNTYgMTcwLjI5Njg3NSAyMDMuMTk5MjE5IDE3MC4yOTY4NzUgQyAxOTkuNzM0Mzc1IDE3MC4yOTY4NzUgMTk2LjUxOTUzMSAxNzEuNzgxMjUgMTk0LjE3MTg3NSAxNzQuMjUzOTA2IEwgMTIxLjY5OTIxOSAyNTIuMDQyOTY5IEMgMTE3IDI1Ni45ODgyODEgMTE3LjM3MTA5NCAyNjQuOTAyMzQ0IDEyMi4zMTY0MDYgMjY5LjQ4MDQ2OSBDIDEyNy41MTE3MTkgMjc0LjE3OTY4OCAxMzUuMzAwNzgxIDI3My44MDg1OTQgMTQwIDI2OC44NjMyODEgWiBNIDE0MCAyNjguODYzMjgxICIgc3R5bGU9IiBmaWxsLXJ1bGU6bm9uemVybztmaWxsLW9wYWNpdHk6MTsiIHN0cm9rZT0iIzAwMDAwMCIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+Cjwvc3ZnPgo=)}"]}),gE),outlet:"userTab"},{path:"profile",component:(yE=function(){function t(e,n,r,i,o){f(this,t),this.route=e,this.authService=n,this.userService=r,this.router=i,this.carService=o}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.signedIn$.subscribe(function(e){t.userId=e.uid,console.log(t.userId),t.userData=t.getUser(),console.log(t.userData)})}},{key:"getUser",value:function(){return this.userService.userCollection.doc(this.userId).valueChanges()}},{key:"updatephone",value:function(t){console.log(t),this.userService.userCollection.doc(this.userId).update({phone:t.number}).catch(function(t){console.log(t)})}},{key:"updateUsername",value:function(t){console.log(t),this.userService.userCollection.doc(this.userId).update({name:t.name||this.userData.displayName}).catch(function(t){console.log(t)})}},{key:"deleteUser",value:function(){var t=this;this.carService.getPosts(this.userId).doc().delete(),this.userService.reAuthenticate().then(function(){t.userService.fb.delete().then(function(){return t.router.navigate(["home"])}).catch(function(t){return console.log(t)})})}}]),t}(),yE.\u0275fac=function(t){return new(t||yE)(a.Ib(sr),a.Ib(aI),a.Ib(yI),a.Ib(Ai),a.Ib(tk))},yE.\u0275cmp=a.Cb({type:yE,selectors:[["app-user-profile"]],decls:2,vars:3,consts:[["class","container row",4,"ngIf"],[1,"container","row"],[1,"col-md"],[1,"row"],[1,"text-alaign-left"],[1,"justify-content-end"],["type","button","data-toggle","collapse","data-parent","#accordianId","href","#section2ContentId","aria-expanded","true","aria-controls","section2ContentId",1,"btn","btn-outline-light","text-dark","btn-sm"],["id","accordianId","role","tablist","aria-multiselectable","true"],[1,"col"],["id","section2ContentId","role","tabpanel","aria-labelledby","section2HeaderId",1,"accordion-collapse","collapse"],[1,"container","justify-content-end"],[1,"row",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-md-8"],["ngModel","","type","text","name","name","id","name","placeholder","Your username","required","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"col","col-md-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],["formphone","ngForm"],["ngModel","","type","number","name","number","id","number","placeholder","Your Phone Number","required","",1,"form-control"],["number","ngModel"],[1,"col-md-4"],[1,"d-grid","gap-2","d-md-flex","justify-content-end"],["type","button",1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,e){1&t&&(a.jc(0,fE,58,7,"div",0),a.Xb(1,"async")),2&t&&a.Zb("ngIf",a.Yb(1,1,e.userData))},directives:[$,ZO,Xk,WO,Ok,Zk,JO,$O,tO],pipes:[at],styles:[""]}),yE),outlet:"userTab"},{path:"posts",component:(vE=function(){function t(e,n,r){f(this,t),this.route=e,this.authService=n,this.carService=r}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.authService.signedIn$.subscribe(function(e){t.userId=e.uid,console.log(t.userId),t.carService.getPosts(t.userId).snapshotChanges().subscribe(function(e){return t.posts=e.map(function(t){return Object.assign({cid:t.payload.doc.id},t.payload.doc.data())})})})}},{key:"showtotal",value:function(t){this.totalPosts=t}},{key:"deletePost",value:function(){console.log(this.carid),this.carService.carCollection.doc(this.carid).delete()}}]),t}(),vE.\u0275fac=function(t){return new(t||vE)(a.Ib(sr),a.Ib(aI),a.Ib(tk))},vE.\u0275cmp=a.Cb({type:vE,selectors:[["app-user-posts"]],decls:2,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],["show",""],["class","card col-md-4 p-1",4,"ngFor","ngForOf"],[1,"card","col-md-4","p-1"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-md-6"],["alt","","srcset","",1,"img-thumbnail",3,"src"],[1,"col"],[1,"d-flex","justify-content-end"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-outline-danger","float-end",3,"click"]],template:function(t,e){1&t&&(a.Jb(0,"br"),a.jc(1,pE,3,1,"div",0)),2&t&&(a.yb(1),a.Zb("ngIf",e.posts))},directives:[$,Z],styles:[""]}),vE),outlet:"userTab"}]}],OE=((_E=function t(){f(this,t)}).\u0275mod=a.Gb({type:_E}),_E.\u0275inj=a.Fb({factory:function(t){return new(t||_E)},imports:[[st,Ji.forChild(kE)],Ji]}),_E),IE=((wE=function t(){f(this,t)}).\u0275mod=a.Gb({type:wE,bootstrap:[vI]}),wE.\u0275inj=a.Fb({factory:function(t){return new(t||wE)},providers:[],imports:[[Yt,Ro,dk,iI,fk,OE,uI,bo.a.initializeApp(s),_w,$_]]}),wE);Object(a.S)(),Wt().bootstrapModule(IE).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD"),u=function(t){v(n,t);var e=g(n);function n(t){var r;return f(this,n),(r=e.call(this)).parent=t,r}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.a),a=function(t){v(n,t);var e=g(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.a);function s(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]])}();